(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Kv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),s}var iu={exports:{}},Ys={},ou={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function Jv(){if(Gf)return he;Gf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function T(E,F,de){this.props=E,this.context=F,this.refs=_,this.updater=de||S}T.prototype.isReactComponent={},T.prototype.setState=function(E,F){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,F,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function I(){}I.prototype=T.prototype;function O(E,F,de){this.props=E,this.context=F,this.refs=_,this.updater=de||S}var A=O.prototype=new I;A.constructor=O,C(A,T.prototype),A.isPureReactComponent=!0;var D=Array.isArray,U=Object.prototype.hasOwnProperty,W={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function G(E,F,de){var fe,me={},ge=null,be=null;if(F!=null)for(fe in F.ref!==void 0&&(be=F.ref),F.key!==void 0&&(ge=""+F.key),F)U.call(F,fe)&&!q.hasOwnProperty(fe)&&(me[fe]=F[fe]);var we=arguments.length-2;if(we===1)me.children=de;else if(1<we){for(var Te=Array(we),wt=0;wt<we;wt++)Te[wt]=arguments[wt+2];me.children=Te}if(E&&E.defaultProps)for(fe in we=E.defaultProps,we)me[fe]===void 0&&(me[fe]=we[fe]);return{$$typeof:n,type:E,key:ge,ref:be,props:me,_owner:W.current}}function ce(E,F){return{$$typeof:n,type:E.type,key:F,ref:E.ref,props:E.props,_owner:E._owner}}function ve(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function qe(E){var F={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(de){return F[de]})}var at=/\/+/g;function Qe(E,F){return typeof E=="object"&&E!==null&&E.key!=null?qe(""+E.key):F.toString(36)}function ue(E,F,de,fe,me){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var be=!1;if(E===null)be=!0;else switch(ge){case"string":case"number":be=!0;break;case"object":switch(E.$$typeof){case n:case e:be=!0}}if(be)return be=E,me=me(be),E=fe===""?"."+Qe(be,0):fe,D(me)?(de="",E!=null&&(de=E.replace(at,"$&/")+"/"),ue(me,F,de,"",function(wt){return wt})):me!=null&&(ve(me)&&(me=ce(me,de+(!me.key||be&&be.key===me.key?"":(""+me.key).replace(at,"$&/")+"/")+E)),F.push(me)),1;if(be=0,fe=fe===""?".":fe+":",D(E))for(var we=0;we<E.length;we++){ge=E[we];var Te=fe+Qe(ge,we);be+=ue(ge,F,de,Te,me)}else if(Te=x(E),typeof Te=="function")for(E=Te.call(E),we=0;!(ge=E.next()).done;)ge=ge.value,Te=fe+Qe(ge,we++),be+=ue(ge,F,de,Te,me);else if(ge==="object")throw F=String(E),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return be}function ie(E,F,de){if(E==null)return E;var fe=[],me=0;return ue(E,fe,"","",function(ge){return F.call(de,ge,me++)}),fe}function Re(E){if(E._status===-1){var F=E._result;F=F(),F.then(function(de){(E._status===0||E._status===-1)&&(E._status=1,E._result=de)},function(de){(E._status===0||E._status===-1)&&(E._status=2,E._result=de)}),E._status===-1&&(E._status=0,E._result=F)}if(E._status===1)return E._result.default;throw E._result}var oe={current:null},B={transition:null},X={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:B,ReactCurrentOwner:W};function H(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ie,forEach:function(E,F,de){ie(E,function(){F.apply(this,arguments)},de)},count:function(E){var F=0;return ie(E,function(){F++}),F},toArray:function(E){return ie(E,function(F){return F})||[]},only:function(E){if(!ve(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},he.Component=T,he.Fragment=s,he.Profiler=a,he.PureComponent=O,he.StrictMode=i,he.Suspense=p,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,he.act=H,he.cloneElement=function(E,F,de){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var fe=C({},E.props),me=E.key,ge=E.ref,be=E._owner;if(F!=null){if(F.ref!==void 0&&(ge=F.ref,be=W.current),F.key!==void 0&&(me=""+F.key),E.type&&E.type.defaultProps)var we=E.type.defaultProps;for(Te in F)U.call(F,Te)&&!q.hasOwnProperty(Te)&&(fe[Te]=F[Te]===void 0&&we!==void 0?we[Te]:F[Te])}var Te=arguments.length-2;if(Te===1)fe.children=de;else if(1<Te){we=Array(Te);for(var wt=0;wt<Te;wt++)we[wt]=arguments[wt+2];fe.children=we}return{$$typeof:n,type:E.type,key:me,ref:ge,props:fe,_owner:be}},he.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},he.createElement=G,he.createFactory=function(E){var F=G.bind(null,E);return F.type=E,F},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:d,render:E}},he.isValidElement=ve,he.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:Re}},he.memo=function(E,F){return{$$typeof:g,type:E,compare:F===void 0?null:F}},he.startTransition=function(E){var F=B.transition;B.transition={};try{E()}finally{B.transition=F}},he.unstable_act=H,he.useCallback=function(E,F){return oe.current.useCallback(E,F)},he.useContext=function(E){return oe.current.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E){return oe.current.useDeferredValue(E)},he.useEffect=function(E,F){return oe.current.useEffect(E,F)},he.useId=function(){return oe.current.useId()},he.useImperativeHandle=function(E,F,de){return oe.current.useImperativeHandle(E,F,de)},he.useInsertionEffect=function(E,F){return oe.current.useInsertionEffect(E,F)},he.useLayoutEffect=function(E,F){return oe.current.useLayoutEffect(E,F)},he.useMemo=function(E,F){return oe.current.useMemo(E,F)},he.useReducer=function(E,F,de){return oe.current.useReducer(E,F,de)},he.useRef=function(E){return oe.current.useRef(E)},he.useState=function(E){return oe.current.useState(E)},he.useSyncExternalStore=function(E,F,de){return oe.current.useSyncExternalStore(E,F,de)},he.useTransition=function(){return oe.current.useTransition()},he.version="18.3.1",he}var Jf;function pc(){return Jf||(Jf=1,ou.exports=Jv()),ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function Yv(){if(Yf)return Ys;Yf=1;var n=pc(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var y,w={},x=null,S=null;g!==void 0&&(x=""+g),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(S=p.ref);for(y in p)i.call(p,y)&&!l.hasOwnProperty(y)&&(w[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:e,type:d,key:x,ref:S,props:w,_owner:a.current}}return Ys.Fragment=s,Ys.jsx=c,Ys.jsxs=c,Ys}var Qf;function Qv(){return Qf||(Qf=1,iu.exports=Yv()),iu.exports}var f=Qv(),Io={},au={exports:{}},gt={},lu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function Xv(){return Xf||(Xf=1,(function(n){function e(B,X){var H=B.length;B.push(X);e:for(;0<H;){var E=H-1>>>1,F=B[E];if(0<a(F,X))B[E]=X,B[H]=F,H=E;else break e}}function s(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],H=B.pop();if(H!==X){B[0]=H;e:for(var E=0,F=B.length,de=F>>>1;E<de;){var fe=2*(E+1)-1,me=B[fe],ge=fe+1,be=B[ge];if(0>a(me,H))ge<F&&0>a(be,me)?(B[E]=be,B[ge]=H,E=ge):(B[E]=me,B[fe]=H,E=fe);else if(ge<F&&0>a(be,H))B[E]=be,B[ge]=H,E=ge;else break e}}return X}function a(B,X){var H=B.sortIndex-X.sortIndex;return H!==0?H:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,x=3,S=!1,C=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(B){for(var X=s(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=B)i(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=s(g)}}function D(B){if(_=!1,A(B),!C)if(s(p)!==null)C=!0,Re(U);else{var X=s(g);X!==null&&oe(D,X.startTime-B)}}function U(B,X){C=!1,_&&(_=!1,I(G),G=-1),S=!0;var H=x;try{for(A(X),w=s(p);w!==null&&(!(w.expirationTime>X)||B&&!qe());){var E=w.callback;if(typeof E=="function"){w.callback=null,x=w.priorityLevel;var F=E(w.expirationTime<=X);X=n.unstable_now(),typeof F=="function"?w.callback=F:w===s(p)&&i(p),A(X)}else i(p);w=s(p)}if(w!==null)var de=!0;else{var fe=s(g);fe!==null&&oe(D,fe.startTime-X),de=!1}return de}finally{w=null,x=H,S=!1}}var W=!1,q=null,G=-1,ce=5,ve=-1;function qe(){return!(n.unstable_now()-ve<ce)}function at(){if(q!==null){var B=n.unstable_now();ve=B;var X=!0;try{X=q(!0,B)}finally{X?Qe():(W=!1,q=null)}}else W=!1}var Qe;if(typeof O=="function")Qe=function(){O(at)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ie=ue.port2;ue.port1.onmessage=at,Qe=function(){ie.postMessage(null)}}else Qe=function(){T(at,0)};function Re(B){q=B,W||(W=!0,Qe())}function oe(B,X){G=T(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){C||S||(C=!0,Re(U))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(B){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var H=x;x=X;try{return B()}finally{x=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=x;x=B;try{return X()}finally{x=H}},n.unstable_scheduleCallback=function(B,X,H){var E=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?E+H:E):H=E,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,B={id:y++,callback:X,priorityLevel:B,startTime:H,expirationTime:F,sortIndex:-1},H>E?(B.sortIndex=H,e(g,B),s(p)===null&&B===s(g)&&(_?(I(G),G=-1):_=!0,oe(D,H-E))):(B.sortIndex=F,e(p,B),C||S||(C=!0,Re(U))),B},n.unstable_shouldYield=qe,n.unstable_wrapCallback=function(B){var X=x;return function(){var H=x;x=X;try{return B.apply(this,arguments)}finally{x=H}}}})(uu)),uu}var Zf;function Zv(){return Zf||(Zf=1,lu.exports=Xv()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function ew(){if(ep)return gt;ep=1;var n=pc(),e=Zv();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function x(t){return p.call(w,t)?!0:p.call(y,t)?!1:g.test(t)?w[t]=!0:(y[t]=!0,!1)}function S(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,r,o,u){if(r===null||typeof r>"u"||S(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(t,r,o,u,h,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];T[r]=new _(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function O(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(I,O);T[r]=new _(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(I,O);T[r]=new _(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(I,O);T[r]=new _(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});function A(t,r,o,u){var h=T.hasOwnProperty(r)?T[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(C(r,o,h,u)&&(o=null),u||h===null?x(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),W=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),qe=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),B=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,E;function F(t){if(E===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+t}var de=!1;function fe(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(R){var u=R}Reflect.construct(t,[],r)}else{try{r.call()}catch(R){u=R}t.call(r.prototype)}else{try{throw Error()}catch(R){u=R}t()}}catch(R){if(R&&u&&typeof R.stack=="string"){for(var h=R.stack.split(`
`),m=u.stack.split(`
`),v=h.length-1,b=m.length-1;1<=v&&0<=b&&h[v]!==m[b];)b--;for(;1<=v&&0<=b;v--,b--)if(h[v]!==m[b]){if(v!==1||b!==1)do if(v--,b--,0>b||h[v]!==m[b]){var k=`
`+h[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=v&&0<=b);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?F(t):""}function me(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function ge(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case W:return"Portal";case ce:return"Profiler";case G:return"StrictMode";case Qe:return"Suspense";case ue:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qe:return(t.displayName||"Context")+".Consumer";case ve:return(t._context.displayName||"Context")+".Provider";case at:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ie:return r=t.displayName||null,r!==null?r:ge(t.type)||"Memo";case Re:r=t._payload,t=t._init;try{return ge(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(r);case 8:return r===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function we(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Te(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wt(t){var r=Te(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Si(t){t._valueTracker||(t._valueTracker=wt(t))}function Zc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Te(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ha(t,r){var o=r.checked;return H({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ed(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=we(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function td(t,r){r=r.checked,r!=null&&A(t,"checked",r,!1)}function fa(t,r){td(t,r);var o=we(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?pa(t,r.type,o):r.hasOwnProperty("defaultValue")&&pa(t,r.type,we(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function nd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function pa(t,r,o){(r!=="number"||ki(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ds=Array.isArray;function dr(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+we(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ma(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return H({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(s(92));if(ds(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:we(o)}}function sd(t,r){var o=we(r.value),u=we(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function id(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function od(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?od(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ji,ad=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ji.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function hs(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qy=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){Qy.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),fs[r]=fs[t]})});function ld(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||fs.hasOwnProperty(t)&&fs[t]?(""+r).trim():r+"px"}function ud(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=ld(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Xy=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(t,r){if(r){if(Xy[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function va(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,hr=null,fr=null;function cd(t){if(t=Ds(t)){if(typeof ba!="function")throw Error(s(280));var r=t.stateNode;r&&(r=Gi(r),ba(t.stateNode,t.type,r))}}function dd(t){hr?fr?fr.push(t):fr=[t]:hr=t}function hd(){if(hr){var t=hr,r=fr;if(fr=hr=null,cd(t),r)for(t=0;t<r.length;t++)cd(r[t])}}function fd(t,r){return t(r)}function pd(){}var _a=!1;function md(t,r,o){if(_a)return t(r,o);_a=!0;try{return fd(t,r,o)}finally{_a=!1,(hr!==null||fr!==null)&&(pd(),hd())}}function ps(t,r){var o=t.stateNode;if(o===null)return null;var u=Gi(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Sa=!1;if(d)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Sa=!1}function Zy(t,r,o,u,h,m,v,b,k){var R=Array.prototype.slice.call(arguments,3);try{r.apply(o,R)}catch($){this.onError($)}}var gs=!1,Ti=null,Ei=!1,ka=null,e0={onError:function(t){gs=!0,Ti=t}};function t0(t,r,o,u,h,m,v,b,k){gs=!1,Ti=null,Zy.apply(e0,arguments)}function n0(t,r,o,u,h,m,v,b,k){if(t0.apply(this,arguments),gs){if(gs){var R=Ti;gs=!1,Ti=null}else throw Error(s(198));Ei||(Ei=!0,ka=R)}}function $n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function gd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function yd(t){if($n(t)!==t)throw Error(s(188))}function r0(t){var r=t.alternate;if(!r){if(r=$n(t),r===null)throw Error(s(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return yd(h),t;if(m===u)return yd(h),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=h,u=m;else{for(var v=!1,b=h.child;b;){if(b===o){v=!0,o=h,u=m;break}if(b===u){v=!0,u=h,o=m;break}b=b.sibling}if(!v){for(b=m.child;b;){if(b===o){v=!0,o=m,u=h;break}if(b===u){v=!0,u=m,o=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:r}function vd(t){return t=r0(t),t!==null?wd(t):null}function wd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=wd(t);if(r!==null)return r;t=t.sibling}return null}var xd=e.unstable_scheduleCallback,bd=e.unstable_cancelCallback,s0=e.unstable_shouldYield,i0=e.unstable_requestPaint,Le=e.unstable_now,o0=e.unstable_getCurrentPriorityLevel,ja=e.unstable_ImmediatePriority,_d=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,a0=e.unstable_LowPriority,Sd=e.unstable_IdlePriority,Pi=null,Ht=null;function l0(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:d0,u0=Math.log,c0=Math.LN2;function d0(t){return t>>>=0,t===0?32:31-(u0(t)/c0|0)|0}var Ni=64,Ai=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ri(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,m=t.pingedLanes,v=o&268435455;if(v!==0){var b=v&~h;b!==0?u=ys(b):(m&=v,m!==0&&(u=ys(m)))}else v=o&~h,v!==0?u=ys(v):m!==0&&(u=ys(m));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Dt(r),h=1<<o,u|=t[o],r&=~h;return u}function h0(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-Dt(m),b=1<<v,k=h[v];k===-1?((b&o)===0||(b&u)!==0)&&(h[v]=h0(b,r)):k<=r&&(t.expiredLanes|=b),m&=~b}}function Ta(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kd(){var t=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),t}function Ea(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function vs(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Dt(r),t[r]=o}function p0(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Dt(o),m=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~m}}function Ca(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Dt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var xe=0;function jd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Td,Pa,Ed,Cd,Pd,Na=!1,Oi=[],dn=null,hn=null,fn=null,ws=new Map,xs=new Map,pn=[],m0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nd(t,r){switch(t){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":ws.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(r.pointerId)}}function bs(t,r,o,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Ds(r),r!==null&&Pa(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function g0(t,r,o,u,h){switch(r){case"focusin":return dn=bs(dn,t,r,o,u,h),!0;case"dragenter":return hn=bs(hn,t,r,o,u,h),!0;case"mouseover":return fn=bs(fn,t,r,o,u,h),!0;case"pointerover":var m=h.pointerId;return ws.set(m,bs(ws.get(m)||null,t,r,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,xs.set(m,bs(xs.get(m)||null,t,r,o,u,h)),!0}return!1}function Ad(t){var r=Un(t.target);if(r!==null){var o=$n(r);if(o!==null){if(r=o.tag,r===13){if(r=gd(o),r!==null){t.blockedOn=r,Pd(t.priority,function(){Ed(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ii(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ra(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);wa=u,o.target.dispatchEvent(u),wa=null}else return r=Ds(o),r!==null&&Pa(r),t.blockedOn=o,!1;r.shift()}return!0}function Rd(t,r,o){Ii(t)&&o.delete(r)}function y0(){Na=!1,dn!==null&&Ii(dn)&&(dn=null),hn!==null&&Ii(hn)&&(hn=null),fn!==null&&Ii(fn)&&(fn=null),ws.forEach(Rd),xs.forEach(Rd)}function _s(t,r){t.blockedOn===r&&(t.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y0)))}function Ss(t){function r(h){return _s(h,t)}if(0<Oi.length){_s(Oi[0],t);for(var o=1;o<Oi.length;o++){var u=Oi[o];u.blockedOn===t&&(u.blockedOn=null)}}for(dn!==null&&_s(dn,t),hn!==null&&_s(hn,t),fn!==null&&_s(fn,t),ws.forEach(r),xs.forEach(r),o=0;o<pn.length;o++)u=pn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<pn.length&&(o=pn[0],o.blockedOn===null);)Ad(o),o.blockedOn===null&&pn.shift()}var pr=D.ReactCurrentBatchConfig,Di=!0;function v0(t,r,o,u){var h=xe,m=pr.transition;pr.transition=null;try{xe=1,Aa(t,r,o,u)}finally{xe=h,pr.transition=m}}function w0(t,r,o,u){var h=xe,m=pr.transition;pr.transition=null;try{xe=4,Aa(t,r,o,u)}finally{xe=h,pr.transition=m}}function Aa(t,r,o,u){if(Di){var h=Ra(t,r,o,u);if(h===null)Ja(t,r,u,Li,o),Nd(t,u);else if(g0(h,t,r,o,u))u.stopPropagation();else if(Nd(t,u),r&4&&-1<m0.indexOf(t)){for(;h!==null;){var m=Ds(h);if(m!==null&&Td(m),m=Ra(t,r,o,u),m===null&&Ja(t,r,u,Li,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Ja(t,r,u,null,o)}}var Li=null;function Ra(t,r,o,u){if(Li=null,t=xa(u),t=Un(t),t!==null)if(r=$n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=gd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Li=t,null}function Od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o0()){case ja:return 1;case _d:return 4;case Ci:case a0:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var mn=null,Oa=null,Mi=null;function Id(){if(Mi)return Mi;var t,r=Oa,o=r.length,u,h="value"in mn?mn.value:mn.textContent,m=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[m-u];u++);return Mi=h.slice(t,1<u?1-u:void 0)}function Fi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function Dd(){return!1}function xt(t){function r(o,u,h,m,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(o=t[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:Dd,this.isPropagationStopped=Dd,this}return H(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=xt(mr),ks=H({},mr,{view:0,detail:0}),x0=xt(ks),Da,La,js,Ui=H({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(Da=t.screenX-js.screenX,La=t.screenY-js.screenY):La=Da=0,js=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:La}}),Ld=xt(Ui),b0=H({},Ui,{dataTransfer:0}),_0=xt(b0),S0=H({},ks,{relatedTarget:0}),Ma=xt(S0),k0=H({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=xt(k0),T0=H({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E0=xt(T0),C0=H({},mr,{data:0}),Md=xt(C0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=A0[t])?!!r[t]:!1}function Fa(){return R0}var O0=H({},ks,{key:function(t){if(t.key){var r=P0[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?Fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I0=xt(O0),D0=H({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fd=xt(D0),L0=H({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),M0=xt(L0),F0=H({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=xt(F0),U0=H({},Ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=xt(U0),W0=[9,13,27,32],$a=d&&"CompositionEvent"in window,Ts=null;d&&"documentMode"in document&&(Ts=document.documentMode);var B0=d&&"TextEvent"in window&&!Ts,$d=d&&(!$a||Ts&&8<Ts&&11>=Ts),Ud=" ",Vd=!1;function Wd(t,r){switch(t){case"keyup":return W0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function z0(t,r){switch(t){case"compositionend":return Bd(r);case"keypress":return r.which!==32?null:(Vd=!0,Ud);case"textInput":return t=r.data,t===Ud&&Vd?null:t;default:return null}}function H0(t,r){if(gr)return t==="compositionend"||!$a&&Wd(t,r)?(t=Id(),Mi=Oa=mn=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $d&&r.locale!=="ko"?null:r.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!q0[t.type]:r==="textarea"}function Hd(t,r,o,u){dd(u),r=Hi(r,"onChange"),0<r.length&&(o=new Ia("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Es=null,Cs=null;function K0(t){uh(t,0)}function Vi(t){var r=br(t);if(Zc(r))return t}function G0(t,r){if(t==="change")return r}var qd=!1;if(d){var Ua;if(d){var Va="oninput"in document;if(!Va){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),Va=typeof Kd.oninput=="function"}Ua=Va}else Ua=!1;qd=Ua&&(!document.documentMode||9<document.documentMode)}function Gd(){Es&&(Es.detachEvent("onpropertychange",Jd),Cs=Es=null)}function Jd(t){if(t.propertyName==="value"&&Vi(Cs)){var r=[];Hd(r,Cs,t,xa(t)),md(K0,r)}}function J0(t,r,o){t==="focusin"?(Gd(),Es=r,Cs=o,Es.attachEvent("onpropertychange",Jd)):t==="focusout"&&Gd()}function Y0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vi(Cs)}function Q0(t,r){if(t==="click")return Vi(r)}function X0(t,r){if(t==="input"||t==="change")return Vi(r)}function Z0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Lt=typeof Object.is=="function"?Object.is:Z0;function Ps(t,r){if(Lt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!p.call(r,h)||!Lt(t[h],r[h]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,r){var o=Yd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yd(o)}}function Xd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zd(){for(var t=window,r=ki();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=ki(t.document)}return r}function Wa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ev(t){var r=Zd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Xd(o.ownerDocument.documentElement,o)){if(u!==null&&Wa(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!t.extend&&m>u&&(h=u,u=m,m=h),h=Qd(o,m);var v=Qd(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),m>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tv=d&&"documentMode"in document&&11>=document.documentMode,yr=null,Ba=null,Ns=null,za=!1;function eh(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;za||yr==null||yr!==ki(u)||(u=yr,"selectionStart"in u&&Wa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ns&&Ps(Ns,u)||(Ns=u,u=Hi(Ba,"onSelect"),0<u.length&&(r=new Ia("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=yr)))}function Wi(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var vr={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Ha={},th={};d&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Bi(t){if(Ha[t])return Ha[t];if(!vr[t])return t;var r=vr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in th)return Ha[t]=r[o];return t}var nh=Bi("animationend"),rh=Bi("animationiteration"),sh=Bi("animationstart"),ih=Bi("transitionend"),oh=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(t,r){oh.set(t,r),l(r,[t])}for(var qa=0;qa<ah.length;qa++){var Ka=ah[qa],nv=Ka.toLowerCase(),rv=Ka[0].toUpperCase()+Ka.slice(1);gn(nv,"on"+rv)}gn(nh,"onAnimationEnd"),gn(rh,"onAnimationIteration"),gn(sh,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(ih,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function lh(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,n0(u,r,void 0,t),t.currentTarget=null}function uh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var v=u.length-1;0<=v;v--){var b=u[v],k=b.instance,R=b.currentTarget;if(b=b.listener,k!==m&&h.isPropagationStopped())break e;lh(h,b,R),m=k}else for(v=0;v<u.length;v++){if(b=u[v],k=b.instance,R=b.currentTarget,b=b.listener,k!==m&&h.isPropagationStopped())break e;lh(h,b,R),m=k}}}if(Ei)throw t=ka,Ei=!1,ka=null,t}function ke(t,r){var o=r[tl];o===void 0&&(o=r[tl]=new Set);var u=t+"__bubble";o.has(u)||(ch(r,t,2,!1),o.add(u))}function Ga(t,r,o){var u=0;r&&(u|=4),ch(o,t,u,r)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Rs(t){if(!t[zi]){t[zi]=!0,i.forEach(function(o){o!=="selectionchange"&&(sv.has(o)||Ga(o,!1,t),Ga(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[zi]||(r[zi]=!0,Ga("selectionchange",!1,r))}}function ch(t,r,o,u){switch(Od(r)){case 1:var h=v0;break;case 4:h=w0;break;default:h=Aa}o=h.bind(null,r,o,t),h=void 0,!Sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ja(t,r,o,u,h){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var b=u.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;v=v.return}for(;b!==null;){if(v=Un(b),v===null)return;if(k=v.tag,k===5||k===6){u=m=v;continue e}b=b.parentNode}}u=u.return}md(function(){var R=m,$=xa(o),V=[];e:{var M=oh.get(t);if(M!==void 0){var K=Ia,Y=t;switch(t){case"keypress":if(Fi(o)===0)break e;case"keydown":case"keyup":K=I0;break;case"focusin":Y="focus",K=Ma;break;case"focusout":Y="blur",K=Ma;break;case"beforeblur":case"afterblur":K=Ma;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=M0;break;case nh:case rh:case sh:K=j0;break;case ih:K=$0;break;case"scroll":K=x0;break;case"wheel":K=V0;break;case"copy":case"cut":case"paste":K=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Fd}var Q=(r&4)!==0,Me=!Q&&t==="scroll",P=Q?M!==null?M+"Capture":null:M;Q=[];for(var j=R,N;j!==null;){N=j;var z=N.stateNode;if(N.tag===5&&z!==null&&(N=z,P!==null&&(z=ps(j,P),z!=null&&Q.push(Os(j,z,N)))),Me)break;j=j.return}0<Q.length&&(M=new K(M,Y,null,o,$),V.push({event:M,listeners:Q}))}}if((r&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",M&&o!==wa&&(Y=o.relatedTarget||o.fromElement)&&(Un(Y)||Y[Zt]))break e;if((K||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,K?(Y=o.relatedTarget||o.toElement,K=R,Y=Y?Un(Y):null,Y!==null&&(Me=$n(Y),Y!==Me||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(K=null,Y=R),K!==Y)){if(Q=Ld,z="onMouseLeave",P="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Q=Fd,z="onPointerLeave",P="onPointerEnter",j="pointer"),Me=K==null?M:br(K),N=Y==null?M:br(Y),M=new Q(z,j+"leave",K,o,$),M.target=Me,M.relatedTarget=N,z=null,Un($)===R&&(Q=new Q(P,j+"enter",Y,o,$),Q.target=N,Q.relatedTarget=Me,z=Q),Me=z,K&&Y)t:{for(Q=K,P=Y,j=0,N=Q;N;N=wr(N))j++;for(N=0,z=P;z;z=wr(z))N++;for(;0<j-N;)Q=wr(Q),j--;for(;0<N-j;)P=wr(P),N--;for(;j--;){if(Q===P||P!==null&&Q===P.alternate)break t;Q=wr(Q),P=wr(P)}Q=null}else Q=null;K!==null&&dh(V,M,K,Q,!1),Y!==null&&Me!==null&&dh(V,Me,Y,Q,!0)}}e:{if(M=R?br(R):window,K=M.nodeName&&M.nodeName.toLowerCase(),K==="select"||K==="input"&&M.type==="file")var Z=G0;else if(zd(M))if(qd)Z=X0;else{Z=Y0;var ee=J0}else(K=M.nodeName)&&K.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Z=Q0);if(Z&&(Z=Z(t,R))){Hd(V,Z,o,$);break e}ee&&ee(t,M,R),t==="focusout"&&(ee=M._wrapperState)&&ee.controlled&&M.type==="number"&&pa(M,"number",M.value)}switch(ee=R?br(R):window,t){case"focusin":(zd(ee)||ee.contentEditable==="true")&&(yr=ee,Ba=R,Ns=null);break;case"focusout":Ns=Ba=yr=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,eh(V,o,$);break;case"selectionchange":if(tv)break;case"keydown":case"keyup":eh(V,o,$)}var te;if($a)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else gr?Wd(t,o)&&(ae="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ae="onCompositionStart");ae&&($d&&o.locale!=="ko"&&(gr||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&gr&&(te=Id()):(mn=$,Oa="value"in mn?mn.value:mn.textContent,gr=!0)),ee=Hi(R,ae),0<ee.length&&(ae=new Md(ae,t,null,o,$),V.push({event:ae,listeners:ee}),te?ae.data=te:(te=Bd(o),te!==null&&(ae.data=te)))),(te=B0?z0(t,o):H0(t,o))&&(R=Hi(R,"onBeforeInput"),0<R.length&&($=new Md("onBeforeInput","beforeinput",null,o,$),V.push({event:$,listeners:R}),$.data=te))}uh(V,r)})}function Os(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Hi(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=ps(t,o),m!=null&&u.unshift(Os(t,m,h)),m=ps(t,r),m!=null&&u.push(Os(t,m,h))),t=t.return}return u}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dh(t,r,o,u,h){for(var m=r._reactName,v=[];o!==null&&o!==u;){var b=o,k=b.alternate,R=b.stateNode;if(k!==null&&k===u)break;b.tag===5&&R!==null&&(b=R,h?(k=ps(o,m),k!=null&&v.unshift(Os(o,k,b))):h||(k=ps(o,m),k!=null&&v.push(Os(o,k,b)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var iv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function hh(t){return(typeof t=="string"?t:""+t).replace(iv,`
`).replace(ov,"")}function qi(t,r,o){if(r=hh(r),hh(t)!==r&&o)throw Error(s(425))}function Ki(){}var Ya=null,Qa=null;function Xa(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(t){return fh.resolve(null).then(t).catch(uv)}:Za;function uv(t){setTimeout(function(){throw t})}function el(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Ss(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Ss(r)}function yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function ph(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),qt="__reactFiber$"+xr,Is="__reactProps$"+xr,Zt="__reactContainer$"+xr,tl="__reactEvents$"+xr,cv="__reactListeners$"+xr,dv="__reactHandles$"+xr;function Un(t){var r=t[qt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Zt]||o[qt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=ph(t);t!==null;){if(o=t[qt])return o;t=ph(t)}return r}t=o,o=t.parentNode}return null}function Ds(t){return t=t[qt]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Gi(t){return t[Is]||null}var nl=[],_r=-1;function vn(t){return{current:t}}function je(t){0>_r||(t.current=nl[_r],nl[_r]=null,_r--)}function _e(t,r){_r++,nl[_r]=t.current,t.current=r}var wn={},nt=vn(wn),dt=vn(!1),Vn=wn;function Sr(t,r){var o=t.type.contextTypes;if(!o)return wn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=r[m];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function ht(t){return t=t.childContextTypes,t!=null}function Ji(){je(dt),je(nt)}function mh(t,r,o){if(nt.current!==wn)throw Error(s(168));_e(nt,r),_e(dt,o)}function gh(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(s(108,be(t)||"Unknown",h));return H({},o,u)}function Yi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Vn=nt.current,_e(nt,t),_e(dt,dt.current),!0}function yh(t,r,o){var u=t.stateNode;if(!u)throw Error(s(169));o?(t=gh(t,r,Vn),u.__reactInternalMemoizedMergedChildContext=t,je(dt),je(nt),_e(nt,t)):je(dt),_e(dt,o)}var en=null,Qi=!1,rl=!1;function vh(t){en===null?en=[t]:en.push(t)}function hv(t){Qi=!0,vh(t)}function xn(){if(!rl&&en!==null){rl=!0;var t=0,r=xe;try{var o=en;for(xe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}en=null,Qi=!1}catch(h){throw en!==null&&(en=en.slice(t+1)),xd(ja,xn),h}finally{xe=r,rl=!1}}return null}var kr=[],jr=0,Xi=null,Zi=0,jt=[],Tt=0,Wn=null,tn=1,nn="";function Bn(t,r){kr[jr++]=Zi,kr[jr++]=Xi,Xi=t,Zi=r}function wh(t,r,o){jt[Tt++]=tn,jt[Tt++]=nn,jt[Tt++]=Wn,Wn=t;var u=tn;t=nn;var h=32-Dt(u)-1;u&=~(1<<h),o+=1;var m=32-Dt(r)+h;if(30<m){var v=h-h%5;m=(u&(1<<v)-1).toString(32),u>>=v,h-=v,tn=1<<32-Dt(r)+h|o<<h|u,nn=m+t}else tn=1<<m|o<<h|u,nn=t}function sl(t){t.return!==null&&(Bn(t,1),wh(t,1,0))}function il(t){for(;t===Xi;)Xi=kr[--jr],kr[jr]=null,Zi=kr[--jr],kr[jr]=null;for(;t===Wn;)Wn=jt[--Tt],jt[Tt]=null,nn=jt[--Tt],jt[Tt]=null,tn=jt[--Tt],jt[Tt]=null}var bt=null,_t=null,Ee=!1,Mt=null;function xh(t,r){var o=Nt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function bh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,bt=t,_t=yn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,bt=t,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Wn!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Nt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,bt=t,_t=null,!0):!1;default:return!1}}function ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function al(t){if(Ee){var r=_t;if(r){var o=r;if(!bh(t,r)){if(ol(t))throw Error(s(418));r=yn(o.nextSibling);var u=bt;r&&bh(t,r)?xh(u,o):(t.flags=t.flags&-4097|2,Ee=!1,bt=t)}}else{if(ol(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ee=!1,bt=t}}}function _h(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function eo(t){if(t!==bt)return!1;if(!Ee)return _h(t),Ee=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Xa(t.type,t.memoizedProps)),r&&(r=_t)){if(ol(t))throw Sh(),Error(s(418));for(;r;)xh(t,r),r=yn(r.nextSibling)}if(_h(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){_t=yn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}_t=null}}else _t=bt?yn(t.stateNode.nextSibling):null;return!0}function Sh(){for(var t=_t;t;)t=yn(t.nextSibling)}function Tr(){_t=bt=null,Ee=!1}function ll(t){Mt===null?Mt=[t]:Mt.push(t)}var fv=D.ReactCurrentBatchConfig;function Ls(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var u=o.stateNode}if(!u)throw Error(s(147,t));var h=u,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var b=h.refs;v===null?delete b[m]:b[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,t))}return t}function to(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function kh(t){var r=t._init;return r(t._payload)}function jh(t){function r(P,j){if(t){var N=P.deletions;N===null?(P.deletions=[j],P.flags|=16):N.push(j)}}function o(P,j){if(!t)return null;for(;j!==null;)r(P,j),j=j.sibling;return null}function u(P,j){for(P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function h(P,j){return P=Cn(P,j),P.index=0,P.sibling=null,P}function m(P,j,N){return P.index=N,t?(N=P.alternate,N!==null?(N=N.index,N<j?(P.flags|=2,j):N):(P.flags|=2,j)):(P.flags|=1048576,j)}function v(P){return t&&P.alternate===null&&(P.flags|=2),P}function b(P,j,N,z){return j===null||j.tag!==6?(j=Zl(N,P.mode,z),j.return=P,j):(j=h(j,N),j.return=P,j)}function k(P,j,N,z){var Z=N.type;return Z===q?$(P,j,N.props.children,z,N.key):j!==null&&(j.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Re&&kh(Z)===j.type)?(z=h(j,N.props),z.ref=Ls(P,j,N),z.return=P,z):(z=To(N.type,N.key,N.props,null,P.mode,z),z.ref=Ls(P,j,N),z.return=P,z)}function R(P,j,N,z){return j===null||j.tag!==4||j.stateNode.containerInfo!==N.containerInfo||j.stateNode.implementation!==N.implementation?(j=eu(N,P.mode,z),j.return=P,j):(j=h(j,N.children||[]),j.return=P,j)}function $(P,j,N,z,Z){return j===null||j.tag!==7?(j=Qn(N,P.mode,z,Z),j.return=P,j):(j=h(j,N),j.return=P,j)}function V(P,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Zl(""+j,P.mode,N),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U:return N=To(j.type,j.key,j.props,null,P.mode,N),N.ref=Ls(P,null,j),N.return=P,N;case W:return j=eu(j,P.mode,N),j.return=P,j;case Re:var z=j._init;return V(P,z(j._payload),N)}if(ds(j)||X(j))return j=Qn(j,P.mode,N,null),j.return=P,j;to(P,j)}return null}function M(P,j,N,z){var Z=j!==null?j.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Z!==null?null:b(P,j,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return N.key===Z?k(P,j,N,z):null;case W:return N.key===Z?R(P,j,N,z):null;case Re:return Z=N._init,M(P,j,Z(N._payload),z)}if(ds(N)||X(N))return Z!==null?null:$(P,j,N,z,null);to(P,N)}return null}function K(P,j,N,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number")return P=P.get(N)||null,b(j,P,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return P=P.get(z.key===null?N:z.key)||null,k(j,P,z,Z);case W:return P=P.get(z.key===null?N:z.key)||null,R(j,P,z,Z);case Re:var ee=z._init;return K(P,j,N,ee(z._payload),Z)}if(ds(z)||X(z))return P=P.get(N)||null,$(j,P,z,Z,null);to(j,z)}return null}function Y(P,j,N,z){for(var Z=null,ee=null,te=j,ae=j=0,Je=null;te!==null&&ae<N.length;ae++){te.index>ae?(Je=te,te=null):Je=te.sibling;var ye=M(P,te,N[ae],z);if(ye===null){te===null&&(te=Je);break}t&&te&&ye.alternate===null&&r(P,te),j=m(ye,j,ae),ee===null?Z=ye:ee.sibling=ye,ee=ye,te=Je}if(ae===N.length)return o(P,te),Ee&&Bn(P,ae),Z;if(te===null){for(;ae<N.length;ae++)te=V(P,N[ae],z),te!==null&&(j=m(te,j,ae),ee===null?Z=te:ee.sibling=te,ee=te);return Ee&&Bn(P,ae),Z}for(te=u(P,te);ae<N.length;ae++)Je=K(te,P,ae,N[ae],z),Je!==null&&(t&&Je.alternate!==null&&te.delete(Je.key===null?ae:Je.key),j=m(Je,j,ae),ee===null?Z=Je:ee.sibling=Je,ee=Je);return t&&te.forEach(function(Pn){return r(P,Pn)}),Ee&&Bn(P,ae),Z}function Q(P,j,N,z){var Z=X(N);if(typeof Z!="function")throw Error(s(150));if(N=Z.call(N),N==null)throw Error(s(151));for(var ee=Z=null,te=j,ae=j=0,Je=null,ye=N.next();te!==null&&!ye.done;ae++,ye=N.next()){te.index>ae?(Je=te,te=null):Je=te.sibling;var Pn=M(P,te,ye.value,z);if(Pn===null){te===null&&(te=Je);break}t&&te&&Pn.alternate===null&&r(P,te),j=m(Pn,j,ae),ee===null?Z=Pn:ee.sibling=Pn,ee=Pn,te=Je}if(ye.done)return o(P,te),Ee&&Bn(P,ae),Z;if(te===null){for(;!ye.done;ae++,ye=N.next())ye=V(P,ye.value,z),ye!==null&&(j=m(ye,j,ae),ee===null?Z=ye:ee.sibling=ye,ee=ye);return Ee&&Bn(P,ae),Z}for(te=u(P,te);!ye.done;ae++,ye=N.next())ye=K(te,P,ae,ye.value,z),ye!==null&&(t&&ye.alternate!==null&&te.delete(ye.key===null?ae:ye.key),j=m(ye,j,ae),ee===null?Z=ye:ee.sibling=ye,ee=ye);return t&&te.forEach(function(qv){return r(P,qv)}),Ee&&Bn(P,ae),Z}function Me(P,j,N,z){if(typeof N=="object"&&N!==null&&N.type===q&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case U:e:{for(var Z=N.key,ee=j;ee!==null;){if(ee.key===Z){if(Z=N.type,Z===q){if(ee.tag===7){o(P,ee.sibling),j=h(ee,N.props.children),j.return=P,P=j;break e}}else if(ee.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Re&&kh(Z)===ee.type){o(P,ee.sibling),j=h(ee,N.props),j.ref=Ls(P,ee,N),j.return=P,P=j;break e}o(P,ee);break}else r(P,ee);ee=ee.sibling}N.type===q?(j=Qn(N.props.children,P.mode,z,N.key),j.return=P,P=j):(z=To(N.type,N.key,N.props,null,P.mode,z),z.ref=Ls(P,j,N),z.return=P,P=z)}return v(P);case W:e:{for(ee=N.key;j!==null;){if(j.key===ee)if(j.tag===4&&j.stateNode.containerInfo===N.containerInfo&&j.stateNode.implementation===N.implementation){o(P,j.sibling),j=h(j,N.children||[]),j.return=P,P=j;break e}else{o(P,j);break}else r(P,j);j=j.sibling}j=eu(N,P.mode,z),j.return=P,P=j}return v(P);case Re:return ee=N._init,Me(P,j,ee(N._payload),z)}if(ds(N))return Y(P,j,N,z);if(X(N))return Q(P,j,N,z);to(P,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,j!==null&&j.tag===6?(o(P,j.sibling),j=h(j,N),j.return=P,P=j):(o(P,j),j=Zl(N,P.mode,z),j.return=P,P=j),v(P)):o(P,j)}return Me}var Er=jh(!0),Th=jh(!1),no=vn(null),ro=null,Cr=null,ul=null;function cl(){ul=Cr=ro=null}function dl(t){var r=no.current;je(no),t._currentValue=r}function hl(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Pr(t,r){ro=t,ul=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(ft=!0),t.firstContext=null)}function Et(t){var r=t._currentValue;if(ul!==t)if(t={context:t,memoizedValue:r,next:null},Cr===null){if(ro===null)throw Error(s(308));Cr=t,ro.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return r}var zn=null;function fl(t){zn===null?zn=[t]:zn.push(t)}function Eh(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,fl(r)):(o.next=h.next,h.next=o),r.interleaved=o,rn(t,u)}function rn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var bn=!1;function pl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ch(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function _n(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(pe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,rn(t,o)}return h=u.interleaved,h===null?(r.next=r,fl(u)):(r.next=h.next,h.next=r),u.interleaved=r,rn(t,o)}function so(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ca(t,o)}}function Ph(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?h=m=r:m=m.next=r}else h=m=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function io(t,r,o,u){var h=t.updateQueue;bn=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var k=b,R=k.next;k.next=null,v===null?m=R:v.next=R,v=k;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=R:b.next=R,$.lastBaseUpdate=k))}if(m!==null){var V=h.baseState;v=0,$=R=k=null,b=m;do{var M=b.lane,K=b.eventTime;if((u&M)===M){$!==null&&($=$.next={eventTime:K,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Y=t,Q=b;switch(M=r,K=o,Q.tag){case 1:if(Y=Q.payload,typeof Y=="function"){V=Y.call(K,V,M);break e}V=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Q.payload,M=typeof Y=="function"?Y.call(K,V,M):Y,M==null)break e;V=H({},V,M);break e;case 2:bn=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,M=h.effects,M===null?h.effects=[b]:M.push(b))}else K={eventTime:K,lane:M,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(R=$=K,k=V):$=$.next=K,v|=M;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;M=b,b=M.next,M.next=null,h.lastBaseUpdate=M,h.shared.pending=null}}while(!0);if($===null&&(k=V),h.baseState=k,h.firstBaseUpdate=R,h.lastBaseUpdate=$,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Kn|=v,t.lanes=v,t.memoizedState=V}}function Nh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(s(191,h));h.call(u)}}}var Ms={},Kt=vn(Ms),Fs=vn(Ms),$s=vn(Ms);function Hn(t){if(t===Ms)throw Error(s(174));return t}function ml(t,r){switch(_e($s,r),_e(Fs,t),_e(Kt,Ms),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ga(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ga(r,t)}je(Kt),_e(Kt,r)}function Nr(){je(Kt),je(Fs),je($s)}function Ah(t){Hn($s.current);var r=Hn(Kt.current),o=ga(r,t.type);r!==o&&(_e(Fs,t),_e(Kt,o))}function gl(t){Fs.current===t&&(je(Kt),je(Fs))}var Pe=vn(0);function oo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var yl=[];function vl(){for(var t=0;t<yl.length;t++)yl[t]._workInProgressVersionPrimary=null;yl.length=0}var ao=D.ReactCurrentDispatcher,wl=D.ReactCurrentBatchConfig,qn=0,Ne=null,Be=null,Ke=null,lo=!1,Us=!1,Vs=0,pv=0;function rt(){throw Error(s(321))}function xl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Lt(t[o],r[o]))return!1;return!0}function bl(t,r,o,u,h,m){if(qn=m,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ao.current=t===null||t.memoizedState===null?vv:wv,t=o(u,h),Us){m=0;do{if(Us=!1,Vs=0,25<=m)throw Error(s(301));m+=1,Ke=Be=null,r.updateQueue=null,ao.current=xv,t=o(u,h)}while(Us)}if(ao.current=ho,r=Be!==null&&Be.next!==null,qn=0,Ke=Be=Ne=null,lo=!1,r)throw Error(s(300));return t}function _l(){var t=Vs!==0;return Vs=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ne.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Ct(){if(Be===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var r=Ke===null?Ne.memoizedState:Ke.next;if(r!==null)Ke=r,Be=t;else{if(t===null)throw Error(s(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Ne.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ws(t,r){return typeof r=="function"?r(t):r}function Sl(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var u=Be,h=u.baseQueue,m=o.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}u.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,u=u.baseState;var b=v=null,k=null,R=m;do{var $=R.lane;if((qn&$)===$)k!==null&&(k=k.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),u=R.hasEagerState?R.eagerState:t(u,R.action);else{var V={lane:$,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};k===null?(b=k=V,v=u):k=k.next=V,Ne.lanes|=$,Kn|=$}R=R.next}while(R!==null&&R!==m);k===null?v=u:k.next=b,Lt(u,r.memoizedState)||(ft=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=k,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do m=h.lane,Ne.lanes|=m,Kn|=m,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function kl(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,m=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do m=t(m,v.action),v=v.next;while(v!==h);Lt(m,r.memoizedState)||(ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function Rh(){}function Oh(t,r){var o=Ne,u=Ct(),h=r(),m=!Lt(u.memoizedState,h);if(m&&(u.memoizedState=h,ft=!0),u=u.queue,jl(Lh.bind(null,o,u,t),[t]),u.getSnapshot!==r||m||Ke!==null&&Ke.memoizedState.tag&1){if(o.flags|=2048,Bs(9,Dh.bind(null,o,u,h,r),void 0,null),Ge===null)throw Error(s(349));(qn&30)!==0||Ih(o,r,h)}return h}function Ih(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r={lastEffect:null,stores:null},Ne.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Dh(t,r,o,u){r.value=o,r.getSnapshot=u,Mh(r)&&Fh(t)}function Lh(t,r,o){return o(function(){Mh(r)&&Fh(t)})}function Mh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Lt(t,o)}catch{return!0}}function Fh(t){var r=rn(t,1);r!==null&&Vt(r,t,1,-1)}function $h(t){var r=Gt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},r.queue=t,t=t.dispatch=yv.bind(null,Ne,t),[r.memoizedState,t]}function Bs(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ne.updateQueue,r===null?(r={lastEffect:null,stores:null},Ne.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Uh(){return Ct().memoizedState}function uo(t,r,o,u){var h=Gt();Ne.flags|=t,h.memoizedState=Bs(1|r,o,void 0,u===void 0?null:u)}function co(t,r,o,u){var h=Ct();u=u===void 0?null:u;var m=void 0;if(Be!==null){var v=Be.memoizedState;if(m=v.destroy,u!==null&&xl(u,v.deps)){h.memoizedState=Bs(r,o,m,u);return}}Ne.flags|=t,h.memoizedState=Bs(1|r,o,m,u)}function Vh(t,r){return uo(8390656,8,t,r)}function jl(t,r){return co(2048,8,t,r)}function Wh(t,r){return co(4,2,t,r)}function Bh(t,r){return co(4,4,t,r)}function zh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Hh(t,r,o){return o=o!=null?o.concat([t]):null,co(4,4,zh.bind(null,r,t),o)}function Tl(){}function qh(t,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xl(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Kh(t,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xl(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Gh(t,r,o){return(qn&21)===0?(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=o):(Lt(o,r)||(o=kd(),Ne.lanes|=o,Kn|=o,t.baseState=!0),r)}function mv(t,r){var o=xe;xe=o!==0&&4>o?o:4,t(!0);var u=wl.transition;wl.transition={};try{t(!1),r()}finally{xe=o,wl.transition=u}}function Jh(){return Ct().memoizedState}function gv(t,r,o){var u=Tn(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Yh(t))Qh(r,o);else if(o=Eh(t,r,o,u),o!==null){var h=ut();Vt(o,t,u,h),Xh(o,r,u)}}function yv(t,r,o){var u=Tn(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yh(t))Qh(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,b=m(v,o);if(h.hasEagerState=!0,h.eagerState=b,Lt(b,v)){var k=r.interleaved;k===null?(h.next=h,fl(r)):(h.next=k.next,k.next=h),r.interleaved=h;return}}catch{}finally{}o=Eh(t,r,h,u),o!==null&&(h=ut(),Vt(o,t,u,h),Xh(o,r,u))}}function Yh(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Qh(t,r){Us=lo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Xh(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ca(t,o)}}var ho={readContext:Et,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},vv={readContext:Et,useCallback:function(t,r){return Gt().memoizedState=[t,r===void 0?null:r],t},useContext:Et,useEffect:Vh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,uo(4194308,4,zh.bind(null,r,t),o)},useLayoutEffect:function(t,r){return uo(4194308,4,t,r)},useInsertionEffect:function(t,r){return uo(4,2,t,r)},useMemo:function(t,r){var o=Gt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Gt();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=gv.bind(null,Ne,t),[u.memoizedState,t]},useRef:function(t){var r=Gt();return t={current:t},r.memoizedState=t},useState:$h,useDebugValue:Tl,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=$h(!1),r=t[0];return t=mv.bind(null,t[1]),Gt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ne,h=Gt();if(Ee){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ge===null)throw Error(s(349));(qn&30)!==0||Ih(u,r,o)}h.memoizedState=o;var m={value:o,getSnapshot:r};return h.queue=m,Vh(Lh.bind(null,u,m,t),[t]),u.flags|=2048,Bs(9,Dh.bind(null,u,m,o,r),void 0,null),o},useId:function(){var t=Gt(),r=Ge.identifierPrefix;if(Ee){var o=nn,u=tn;o=(u&~(1<<32-Dt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Vs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=pv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},wv={readContext:Et,useCallback:qh,useContext:Et,useEffect:jl,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Bh,useMemo:Kh,useReducer:Sl,useRef:Uh,useState:function(){return Sl(Ws)},useDebugValue:Tl,useDeferredValue:function(t){var r=Ct();return Gh(r,Be.memoizedState,t)},useTransition:function(){var t=Sl(Ws)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:Rh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1},xv={readContext:Et,useCallback:qh,useContext:Et,useEffect:jl,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Bh,useMemo:Kh,useReducer:kl,useRef:Uh,useState:function(){return kl(Ws)},useDebugValue:Tl,useDeferredValue:function(t){var r=Ct();return Be===null?r.memoizedState=t:Gh(r,Be.memoizedState,t)},useTransition:function(){var t=kl(Ws)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:Rh,useSyncExternalStore:Oh,useId:Jh,unstable_isNewReconciler:!1};function Ft(t,r){if(t&&t.defaultProps){r=H({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function El(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:H({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var fo={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=ut(),h=Tn(t),m=sn(u,h);m.payload=r,o!=null&&(m.callback=o),r=_n(t,m,h),r!==null&&(Vt(r,t,h,u),so(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=ut(),h=Tn(t),m=sn(u,h);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=_n(t,m,h),r!==null&&(Vt(r,t,h,u),so(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ut(),u=Tn(t),h=sn(o,u);h.tag=2,r!=null&&(h.callback=r),r=_n(t,h,u),r!==null&&(Vt(r,t,u,o),so(r,t,u))}};function Zh(t,r,o,u,h,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,v):r.prototype&&r.prototype.isPureReactComponent?!Ps(o,u)||!Ps(h,m):!0}function ef(t,r,o){var u=!1,h=wn,m=r.contextType;return typeof m=="object"&&m!==null?m=Et(m):(h=ht(r)?Vn:nt.current,u=r.contextTypes,m=(u=u!=null)?Sr(t,h):wn),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=fo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=m),r}function tf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&fo.enqueueReplaceState(r,r.state,null)}function Cl(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},pl(t);var m=r.contextType;typeof m=="object"&&m!==null?h.context=Et(m):(m=ht(r)?Vn:nt.current,h.context=Sr(t,m)),h.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(El(t,r,m,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&fo.enqueueReplaceState(h,h.state,null),io(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ar(t,r){try{var o="",u=r;do o+=me(u),u=u.return;while(u);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:h,digest:null}}function Pl(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Nl(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var bv=typeof WeakMap=="function"?WeakMap:Map;function nf(t,r,o){o=sn(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){xo||(xo=!0,Hl=u),Nl(t,r)},o}function rf(t,r,o){o=sn(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Nl(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Nl(t,r),typeof u!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function sf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new bv;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Dv.bind(null,t,r,o),r.then(t,t))}function of(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function af(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=sn(-1,1),r.tag=2,_n(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var _v=D.ReactCurrentOwner,ft=!1;function lt(t,r,o,u){r.child=t===null?Th(r,null,o,u):Er(r,t.child,o,u)}function lf(t,r,o,u,h){o=o.render;var m=r.ref;return Pr(r,h),u=bl(t,r,o,u,m,h),o=_l(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,on(t,r,h)):(Ee&&o&&sl(r),r.flags|=1,lt(t,r,u,h),r.child)}function uf(t,r,o,u,h){if(t===null){var m=o.type;return typeof m=="function"&&!Xl(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,cf(t,r,m,u,h)):(t=To(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&h)===0){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ps,o(v,u)&&t.ref===r.ref)return on(t,r,h)}return r.flags|=1,t=Cn(m,u),t.ref=r.ref,t.return=r,r.child=t}function cf(t,r,o,u,h){if(t!==null){var m=t.memoizedProps;if(Ps(m,u)&&t.ref===r.ref)if(ft=!1,r.pendingProps=u=m,(t.lanes&h)!==0)(t.flags&131072)!==0&&(ft=!0);else return r.lanes=t.lanes,on(t,r,h)}return Al(t,r,o,u,h)}function df(t,r,o){var u=r.pendingProps,h=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Or,St),St|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,_e(Or,St),St|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,_e(Or,St),St|=u}else m!==null?(u=m.baseLanes|o,r.memoizedState=null):u=o,_e(Or,St),St|=u;return lt(t,r,h,o),r.child}function hf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Al(t,r,o,u,h){var m=ht(o)?Vn:nt.current;return m=Sr(r,m),Pr(r,h),o=bl(t,r,o,u,m,h),u=_l(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,on(t,r,h)):(Ee&&u&&sl(r),r.flags|=1,lt(t,r,o,h),r.child)}function ff(t,r,o,u,h){if(ht(o)){var m=!0;Yi(r)}else m=!1;if(Pr(r,h),r.stateNode===null)mo(t,r),ef(r,o,u),Cl(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,b=r.memoizedProps;v.props=b;var k=v.context,R=o.contextType;typeof R=="object"&&R!==null?R=Et(R):(R=ht(o)?Vn:nt.current,R=Sr(r,R));var $=o.getDerivedStateFromProps,V=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function";V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==u||k!==R)&&tf(r,v,u,R),bn=!1;var M=r.memoizedState;v.state=M,io(r,u,v,h),k=r.memoizedState,b!==u||M!==k||dt.current||bn?(typeof $=="function"&&(El(r,o,$,u),k=r.memoizedState),(b=bn||Zh(r,o,b,u,M,k,R))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),v.props=u,v.state=k,v.context=R,u=b):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Ch(t,r),b=r.memoizedProps,R=r.type===r.elementType?b:Ft(r.type,b),v.props=R,V=r.pendingProps,M=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=Et(k):(k=ht(o)?Vn:nt.current,k=Sr(r,k));var K=o.getDerivedStateFromProps;($=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==V||M!==k)&&tf(r,v,u,k),bn=!1,M=r.memoizedState,v.state=M,io(r,u,v,h);var Y=r.memoizedState;b!==V||M!==Y||dt.current||bn?(typeof K=="function"&&(El(r,o,K,u),Y=r.memoizedState),(R=bn||Zh(r,o,R,u,M,Y,k)||!1)?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Y,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Y,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===t.memoizedProps&&M===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&M===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),v.props=u,v.state=Y,v.context=k,u=R):(typeof v.componentDidUpdate!="function"||b===t.memoizedProps&&M===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&M===t.memoizedState||(r.flags|=1024),u=!1)}return Rl(t,r,o,u,m,h)}function Rl(t,r,o,u,h,m){hf(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&yh(r,o,!1),on(t,r,m);u=r.stateNode,_v.current=r;var b=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Er(r,t.child,null,m),r.child=Er(r,null,b,m)):lt(t,r,b,m),r.memoizedState=u.state,h&&yh(r,o,!0),r.child}function pf(t){var r=t.stateNode;r.pendingContext?mh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&mh(t,r.context,!1),ml(t,r.containerInfo)}function mf(t,r,o,u,h){return Tr(),ll(h),r.flags|=256,lt(t,r,o,u),r.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function Il(t){return{baseLanes:t,cachePool:null,transitions:null}}function gf(t,r,o){var u=r.pendingProps,h=Pe.current,m=!1,v=(r.flags&128)!==0,b;if((b=v)||(b=t!==null&&t.memoizedState===null?!1:(h&2)!==0),b?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),_e(Pe,h&1),t===null)return al(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,t=u.fallback,m?(u=r.mode,m=r.child,v={mode:"hidden",children:v},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Eo(v,u,0,null),t=Qn(t,u,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Il(o),r.memoizedState=Ol,t):Dl(r,v));if(h=t.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return Sv(t,r,v,u,b,h,o);if(m){m=u.fallback,v=r.mode,h=t.child,b=h.sibling;var k={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=k,r.deletions=null):(u=Cn(h,k),u.subtreeFlags=h.subtreeFlags&14680064),b!==null?m=Cn(b,m):(m=Qn(m,v,o,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,v=t.child.memoizedState,v=v===null?Il(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~o,r.memoizedState=Ol,u}return m=t.child,t=m.sibling,u=Cn(m,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Dl(t,r){return r=Eo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function po(t,r,o,u){return u!==null&&ll(u),Er(r,t.child,null,o),t=Dl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Sv(t,r,o,u,h,m,v){if(o)return r.flags&256?(r.flags&=-257,u=Pl(Error(s(422))),po(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=u.fallback,h=r.mode,u=Eo({mode:"visible",children:u.children},h,0,null),m=Qn(m,h,v,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,(r.mode&1)!==0&&Er(r,t.child,null,v),r.child.memoizedState=Il(v),r.memoizedState=Ol,m);if((r.mode&1)===0)return po(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var b=u.dgst;return u=b,m=Error(s(419)),u=Pl(m,u,void 0),po(t,r,v,u)}if(b=(v&t.childLanes)!==0,ft||b){if(u=Ge,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,rn(t,h),Vt(u,t,h,-1))}return Ql(),u=Pl(Error(s(421))),po(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Lv.bind(null,t),h._reactRetry=r,null):(t=m.treeContext,_t=yn(h.nextSibling),bt=r,Ee=!0,Mt=null,t!==null&&(jt[Tt++]=tn,jt[Tt++]=nn,jt[Tt++]=Wn,tn=t.id,nn=t.overflow,Wn=r),r=Dl(r,u.children),r.flags|=4096,r)}function yf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),hl(t.return,r,o)}function Ll(t,r,o,u,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function vf(t,r,o){var u=r.pendingProps,h=u.revealOrder,m=u.tail;if(lt(t,r,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yf(t,o,r);else if(t.tag===19)yf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(_e(Pe,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&oo(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ll(r,!1,h,o,m);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&oo(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ll(r,!0,o,null,m);break;case"together":Ll(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function mo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function on(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Kn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,o=Cn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Cn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function kv(t,r,o){switch(r.tag){case 3:pf(r),Tr();break;case 5:Ah(r);break;case 1:ht(r.type)&&Yi(r);break;case 4:ml(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;_e(no,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(_e(Pe,Pe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?gf(t,r,o):(_e(Pe,Pe.current&1),t=on(t,r,o),t!==null?t.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return vf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(Pe,Pe.current),u)break;return null;case 22:case 23:return r.lanes=0,df(t,r,o)}return on(t,r,o)}var wf,Ml,xf,bf;wf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ml=function(){},xf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Hn(Kt.current);var m=null;switch(o){case"input":h=ha(t,h),u=ha(t,u),m=[];break;case"select":h=H({},h,{value:void 0}),u=H({},u,{value:void 0}),m=[];break;case"textarea":h=ma(t,h),u=ma(t,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ki)}ya(o,u);var v;o=null;for(R in h)if(!u.hasOwnProperty(R)&&h.hasOwnProperty(R)&&h[R]!=null)if(R==="style"){var b=h[R];for(v in b)b.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?m||(m=[]):(m=m||[]).push(R,null));for(R in u){var k=u[R];if(b=h?.[R],u.hasOwnProperty(R)&&k!==b&&(k!=null||b!=null))if(R==="style")if(b){for(v in b)!b.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&b[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(m||(m=[]),m.push(R,o)),o=k;else R==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,b=b?b.__html:void 0,k!=null&&b!==k&&(m=m||[]).push(R,k)):R==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(R,""+k):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(a.hasOwnProperty(R)?(k!=null&&R==="onScroll"&&ke("scroll",t),m||b===k||(m=[])):(m=m||[]).push(R,k))}o&&(m=m||[]).push("style",o);var R=m;(r.updateQueue=R)&&(r.flags|=4)}},bf=function(t,r,o,u){o!==u&&(r.flags|=4)};function zs(t,r){if(!Ee)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function jv(t,r,o){var u=r.pendingProps;switch(il(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return ht(r.type)&&Ji(),st(r),null;case 3:return u=r.stateNode,Nr(),je(dt),je(nt),vl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(eo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mt!==null&&(Gl(Mt),Mt=null))),Ml(t,r),st(r),null;case 5:gl(r);var h=Hn($s.current);if(o=r.type,t!==null&&r.stateNode!=null)xf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=Hn(Kt.current),eo(r)){u=r.stateNode,o=r.type;var m=r.memoizedProps;switch(u[qt]=r,u[Is]=m,t=(r.mode&1)!==0,o){case"dialog":ke("cancel",u),ke("close",u);break;case"iframe":case"object":case"embed":ke("load",u);break;case"video":case"audio":for(h=0;h<As.length;h++)ke(As[h],u);break;case"source":ke("error",u);break;case"img":case"image":case"link":ke("error",u),ke("load",u);break;case"details":ke("toggle",u);break;case"input":ed(u,m),ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},ke("invalid",u);break;case"textarea":rd(u,m),ke("invalid",u)}ya(o,m),h=null;for(var v in m)if(m.hasOwnProperty(v)){var b=m[v];v==="children"?typeof b=="string"?u.textContent!==b&&(m.suppressHydrationWarning!==!0&&qi(u.textContent,b,t),h=["children",b]):typeof b=="number"&&u.textContent!==""+b&&(m.suppressHydrationWarning!==!0&&qi(u.textContent,b,t),h=["children",""+b]):a.hasOwnProperty(v)&&b!=null&&v==="onScroll"&&ke("scroll",u)}switch(o){case"input":Si(u),nd(u,m,!0);break;case"textarea":Si(u),id(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=Ki)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=od(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[qt]=r,t[Is]=u,wf(t,r,!1,!1),r.stateNode=t;e:{switch(v=va(o,u),o){case"dialog":ke("cancel",t),ke("close",t),h=u;break;case"iframe":case"object":case"embed":ke("load",t),h=u;break;case"video":case"audio":for(h=0;h<As.length;h++)ke(As[h],t);h=u;break;case"source":ke("error",t),h=u;break;case"img":case"image":case"link":ke("error",t),ke("load",t),h=u;break;case"details":ke("toggle",t),h=u;break;case"input":ed(t,u),h=ha(t,u),ke("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=H({},u,{value:void 0}),ke("invalid",t);break;case"textarea":rd(t,u),h=ma(t,u),ke("invalid",t);break;default:h=u}ya(o,h),b=h;for(m in b)if(b.hasOwnProperty(m)){var k=b[m];m==="style"?ud(t,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ad(t,k)):m==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&hs(t,k):typeof k=="number"&&hs(t,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?k!=null&&m==="onScroll"&&ke("scroll",t):k!=null&&A(t,m,k,v))}switch(o){case"input":Si(t),nd(t,u,!1);break;case"textarea":Si(t),id(t);break;case"option":u.value!=null&&t.setAttribute("value",""+we(u.value));break;case"select":t.multiple=!!u.multiple,m=u.value,m!=null?dr(t,!!u.multiple,m,!1):u.defaultValue!=null&&dr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ki)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(t&&r.stateNode!=null)bf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(o=Hn($s.current),Hn(Kt.current),eo(r)){if(u=r.stateNode,o=r.memoizedProps,u[qt]=r,(m=u.nodeValue!==o)&&(t=bt,t!==null))switch(t.tag){case 3:qi(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qi(u.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[qt]=r,r.stateNode=u}return st(r),null;case 13:if(je(Pe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Sh(),Tr(),r.flags|=98560,m=!1;else if(m=eo(r),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[qt]=r}else Tr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),m=!1}else Mt!==null&&(Gl(Mt),Mt=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Pe.current&1)!==0?ze===0&&(ze=3):Ql())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return Nr(),Ml(t,r),t===null&&Rs(r.stateNode.containerInfo),st(r),null;case 10:return dl(r.type._context),st(r),null;case 17:return ht(r.type)&&Ji(),st(r),null;case 19:if(je(Pe),m=r.memoizedState,m===null)return st(r),null;if(u=(r.flags&128)!==0,v=m.rendering,v===null)if(u)zs(m,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=oo(t),v!==null){for(r.flags|=128,zs(m,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)m=o,t=u,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return _e(Pe,Pe.current&1|2),r.child}t=t.sibling}m.tail!==null&&Le()>Ir&&(r.flags|=128,u=!0,zs(m,!1),r.lanes=4194304)}else{if(!u)if(t=oo(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ee)return st(r),null}else 2*Le()-m.renderingStartTime>Ir&&o!==1073741824&&(r.flags|=128,u=!0,zs(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(o=m.last,o!==null?o.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Le(),r.sibling=null,o=Pe.current,_e(Pe,u?o&1|2:o&1),r):(st(r),null);case 22:case 23:return Yl(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(St&1073741824)!==0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Tv(t,r){switch(il(r),r.tag){case 1:return ht(r.type)&&Ji(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Nr(),je(dt),je(nt),vl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return gl(r),null;case 13:if(je(Pe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Tr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return je(Pe),null;case 4:return Nr(),null;case 10:return dl(r.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var go=!1,it=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,J=null;function Rr(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Oe(t,r,u)}else o.current=null}function Fl(t,r,o){try{o()}catch(u){Oe(t,r,u)}}var _f=!1;function Cv(t,r){if(Ya=Di,t=Zd(),Wa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,b=-1,k=-1,R=0,$=0,V=t,M=null;t:for(;;){for(var K;V!==o||h!==0&&V.nodeType!==3||(b=v+h),V!==m||u!==0&&V.nodeType!==3||(k=v+u),V.nodeType===3&&(v+=V.nodeValue.length),(K=V.firstChild)!==null;)M=V,V=K;for(;;){if(V===t)break t;if(M===o&&++R===h&&(b=v),M===m&&++$===u&&(k=v),(K=V.nextSibling)!==null)break;V=M,M=V.parentNode}V=K}o=b===-1||k===-1?null:{start:b,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qa={focusedElem:t,selectionRange:o},Di=!1,J=r;J!==null;)if(r=J,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,J=t;else for(;J!==null;){r=J;try{var Y=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var Q=Y.memoizedProps,Me=Y.memoizedState,P=r.stateNode,j=P.getSnapshotBeforeUpdate(r.elementType===r.type?Q:Ft(r.type,Q),Me);P.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var N=r.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(z){Oe(r,r.return,z)}if(t=r.sibling,t!==null){t.return=r.return,J=t;break}J=r.return}return Y=_f,_f=!1,Y}function Hs(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var m=h.destroy;h.destroy=void 0,m!==void 0&&Fl(r,o,m)}h=h.next}while(h!==u)}}function yo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function $l(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Sf(t){var r=t.alternate;r!==null&&(t.alternate=null,Sf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[qt],delete r[Is],delete r[tl],delete r[cv],delete r[dv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kf(t){return t.tag===5||t.tag===3||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ul(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ki));else if(u!==4&&(t=t.child,t!==null))for(Ul(t,r,o),t=t.sibling;t!==null;)Ul(t,r,o),t=t.sibling}function Vl(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Vl(t,r,o),t=t.sibling;t!==null;)Vl(t,r,o),t=t.sibling}var Xe=null,$t=!1;function Sn(t,r,o){for(o=o.child;o!==null;)Tf(t,r,o),o=o.sibling}function Tf(t,r,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Pi,o)}catch{}switch(o.tag){case 5:it||Rr(o,r);case 6:var u=Xe,h=$t;Xe=null,Sn(t,r,o),Xe=u,$t=h,Xe!==null&&($t?(t=Xe,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Xe.removeChild(o.stateNode));break;case 18:Xe!==null&&($t?(t=Xe,o=o.stateNode,t.nodeType===8?el(t.parentNode,o):t.nodeType===1&&el(t,o),Ss(t)):el(Xe,o.stateNode));break;case 4:u=Xe,h=$t,Xe=o.stateNode.containerInfo,$t=!0,Sn(t,r,o),Xe=u,$t=h;break;case 0:case 11:case 14:case 15:if(!it&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Fl(o,r,v),h=h.next}while(h!==u)}Sn(t,r,o);break;case 1:if(!it&&(Rr(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(b){Oe(o,r,b)}Sn(t,r,o);break;case 21:Sn(t,r,o);break;case 22:o.mode&1?(it=(u=it)||o.memoizedState!==null,Sn(t,r,o),it=u):Sn(t,r,o);break;default:Sn(t,r,o)}}function Ef(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ev),r.forEach(function(u){var h=Mv.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Ut(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var m=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 5:Xe=b.stateNode,$t=!1;break e;case 3:Xe=b.stateNode.containerInfo,$t=!0;break e;case 4:Xe=b.stateNode.containerInfo,$t=!0;break e}b=b.return}if(Xe===null)throw Error(s(160));Tf(m,v,h),Xe=null,$t=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(R){Oe(h,r,R)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Cf(r,t),r=r.sibling}function Cf(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ut(r,t),Jt(t),u&4){try{Hs(3,t,t.return),yo(3,t)}catch(Q){Oe(t,t.return,Q)}try{Hs(5,t,t.return)}catch(Q){Oe(t,t.return,Q)}}break;case 1:Ut(r,t),Jt(t),u&512&&o!==null&&Rr(o,o.return);break;case 5:if(Ut(r,t),Jt(t),u&512&&o!==null&&Rr(o,o.return),t.flags&32){var h=t.stateNode;try{hs(h,"")}catch(Q){Oe(t,t.return,Q)}}if(u&4&&(h=t.stateNode,h!=null)){var m=t.memoizedProps,v=o!==null?o.memoizedProps:m,b=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{b==="input"&&m.type==="radio"&&m.name!=null&&td(h,m),va(b,v);var R=va(b,m);for(v=0;v<k.length;v+=2){var $=k[v],V=k[v+1];$==="style"?ud(h,V):$==="dangerouslySetInnerHTML"?ad(h,V):$==="children"?hs(h,V):A(h,$,V,R)}switch(b){case"input":fa(h,m);break;case"textarea":sd(h,m);break;case"select":var M=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var K=m.value;K!=null?dr(h,!!m.multiple,K,!1):M!==!!m.multiple&&(m.defaultValue!=null?dr(h,!!m.multiple,m.defaultValue,!0):dr(h,!!m.multiple,m.multiple?[]:"",!1))}h[Is]=m}catch(Q){Oe(t,t.return,Q)}}break;case 6:if(Ut(r,t),Jt(t),u&4){if(t.stateNode===null)throw Error(s(162));h=t.stateNode,m=t.memoizedProps;try{h.nodeValue=m}catch(Q){Oe(t,t.return,Q)}}break;case 3:if(Ut(r,t),Jt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ss(r.containerInfo)}catch(Q){Oe(t,t.return,Q)}break;case 4:Ut(r,t),Jt(t);break;case 13:Ut(r,t),Jt(t),h=t.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(zl=Le())),u&4&&Ef(t);break;case 22:if($=o!==null&&o.memoizedState!==null,t.mode&1?(it=(R=it)||$,Ut(r,t),it=R):Ut(r,t),Jt(t),u&8192){if(R=t.memoizedState!==null,(t.stateNode.isHidden=R)&&!$&&(t.mode&1)!==0)for(J=t,$=t.child;$!==null;){for(V=J=$;J!==null;){switch(M=J,K=M.child,M.tag){case 0:case 11:case 14:case 15:Hs(4,M,M.return);break;case 1:Rr(M,M.return);var Y=M.stateNode;if(typeof Y.componentWillUnmount=="function"){u=M,o=M.return;try{r=u,Y.props=r.memoizedProps,Y.state=r.memoizedState,Y.componentWillUnmount()}catch(Q){Oe(u,o,Q)}}break;case 5:Rr(M,M.return);break;case 22:if(M.memoizedState!==null){Af(V);continue}}K!==null?(K.return=M,J=K):Af(V)}$=$.sibling}e:for($=null,V=t;;){if(V.tag===5){if($===null){$=V;try{h=V.stateNode,R?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(b=V.stateNode,k=V.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,b.style.display=ld("display",v))}catch(Q){Oe(t,t.return,Q)}}}else if(V.tag===6){if($===null)try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(Q){Oe(t,t.return,Q)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;$===V&&($=null),V=V.return}$===V&&($=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Ut(r,t),Jt(t),u&4&&Ef(t);break;case 21:break;default:Ut(r,t),Jt(t)}}function Jt(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(kf(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hs(h,""),u.flags&=-33);var m=jf(t);Vl(t,m,h);break;case 3:case 4:var v=u.stateNode.containerInfo,b=jf(t);Ul(t,b,v);break;default:throw Error(s(161))}}catch(k){Oe(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Pv(t,r,o){J=t,Pf(t)}function Pf(t,r,o){for(var u=(t.mode&1)!==0;J!==null;){var h=J,m=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||go;if(!v){var b=h.alternate,k=b!==null&&b.memoizedState!==null||it;b=go;var R=it;if(go=v,(it=k)&&!R)for(J=h;J!==null;)v=J,k=v.child,v.tag===22&&v.memoizedState!==null?Rf(h):k!==null?(k.return=v,J=k):Rf(h);for(;m!==null;)J=m,Pf(m),m=m.sibling;J=h,go=b,it=R}Nf(t)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,J=m):Nf(t)}}function Nf(t){for(;J!==null;){var r=J;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:it||yo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!it)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Ft(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Nh(r,m,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Nh(r,v,o)}break;case 5:var b=r.stateNode;if(o===null&&r.flags&4){o=b;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var R=r.alternate;if(R!==null){var $=R.memoizedState;if($!==null){var V=$.dehydrated;V!==null&&Ss(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}it||r.flags&512&&$l(r)}catch(M){Oe(r,r.return,M)}}if(r===t){J=null;break}if(o=r.sibling,o!==null){o.return=r.return,J=o;break}J=r.return}}function Af(t){for(;J!==null;){var r=J;if(r===t){J=null;break}var o=r.sibling;if(o!==null){o.return=r.return,J=o;break}J=r.return}}function Rf(t){for(;J!==null;){var r=J;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{yo(4,r)}catch(k){Oe(r,o,k)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(k){Oe(r,h,k)}}var m=r.return;try{$l(r)}catch(k){Oe(r,m,k)}break;case 5:var v=r.return;try{$l(r)}catch(k){Oe(r,v,k)}}}catch(k){Oe(r,r.return,k)}if(r===t){J=null;break}var b=r.sibling;if(b!==null){b.return=r.return,J=b;break}J=r.return}}var Nv=Math.ceil,vo=D.ReactCurrentDispatcher,Wl=D.ReactCurrentOwner,Pt=D.ReactCurrentBatchConfig,pe=0,Ge=null,$e=null,Ze=0,St=0,Or=vn(0),ze=0,qs=null,Kn=0,wo=0,Bl=0,Ks=null,pt=null,zl=0,Ir=1/0,an=null,xo=!1,Hl=null,kn=null,bo=!1,jn=null,_o=0,Gs=0,ql=null,So=-1,ko=0;function ut(){return(pe&6)!==0?Le():So!==-1?So:So=Le()}function Tn(t){return(t.mode&1)===0?1:(pe&2)!==0&&Ze!==0?Ze&-Ze:fv.transition!==null?(ko===0&&(ko=kd()),ko):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Od(t.type)),t)}function Vt(t,r,o,u){if(50<Gs)throw Gs=0,ql=null,Error(s(185));vs(t,o,u),((pe&2)===0||t!==Ge)&&(t===Ge&&((pe&2)===0&&(wo|=o),ze===4&&En(t,Ze)),mt(t,u),o===1&&pe===0&&(r.mode&1)===0&&(Ir=Le()+500,Qi&&xn()))}function mt(t,r){var o=t.callbackNode;f0(t,r);var u=Ri(t,t===Ge?Ze:0);if(u===0)o!==null&&bd(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&bd(o),r===1)t.tag===0?hv(If.bind(null,t)):vh(If.bind(null,t)),lv(function(){(pe&6)===0&&xn()}),o=null;else{switch(jd(u)){case 1:o=ja;break;case 4:o=_d;break;case 16:o=Ci;break;case 536870912:o=Sd;break;default:o=Ci}o=Wf(o,Of.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Of(t,r){if(So=-1,ko=0,(pe&6)!==0)throw Error(s(327));var o=t.callbackNode;if(Dr()&&t.callbackNode!==o)return null;var u=Ri(t,t===Ge?Ze:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=jo(t,u);else{r=u;var h=pe;pe|=2;var m=Lf();(Ge!==t||Ze!==r)&&(an=null,Ir=Le()+500,Jn(t,r));do try{Ov();break}catch(b){Df(t,b)}while(!0);cl(),vo.current=m,pe=h,$e!==null?r=0:(Ge=null,Ze=0,r=ze)}if(r!==0){if(r===2&&(h=Ta(t),h!==0&&(u=h,r=Kl(t,h))),r===1)throw o=qs,Jn(t,0),En(t,u),mt(t,Le()),o;if(r===6)En(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Av(h)&&(r=jo(t,u),r===2&&(m=Ta(t),m!==0&&(u=m,r=Kl(t,m))),r===1))throw o=qs,Jn(t,0),En(t,u),mt(t,Le()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:Yn(t,pt,an);break;case 3:if(En(t,u),(u&130023424)===u&&(r=zl+500-Le(),10<r)){if(Ri(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){ut(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Za(Yn.bind(null,t,pt,an),r);break}Yn(t,pt,an);break;case 4:if(En(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Dt(u);m=1<<v,v=r[v],v>h&&(h=v),u&=~m}if(u=h,u=Le()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Nv(u/1960))-u,10<u){t.timeoutHandle=Za(Yn.bind(null,t,pt,an),u);break}Yn(t,pt,an);break;case 5:Yn(t,pt,an);break;default:throw Error(s(329))}}}return mt(t,Le()),t.callbackNode===o?Of.bind(null,t):null}function Kl(t,r){var o=Ks;return t.current.memoizedState.isDehydrated&&(Jn(t,r).flags|=256),t=jo(t,r),t!==2&&(r=pt,pt=o,r!==null&&Gl(r)),t}function Gl(t){pt===null?pt=t:pt.push.apply(pt,t)}function Av(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Lt(m(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function En(t,r){for(r&=~Bl,r&=~wo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Dt(r),u=1<<o;t[o]=-1,r&=~u}}function If(t){if((pe&6)!==0)throw Error(s(327));Dr();var r=Ri(t,0);if((r&1)===0)return mt(t,Le()),null;var o=jo(t,r);if(t.tag!==0&&o===2){var u=Ta(t);u!==0&&(r=u,o=Kl(t,u))}if(o===1)throw o=qs,Jn(t,0),En(t,r),mt(t,Le()),o;if(o===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Yn(t,pt,an),mt(t,Le()),null}function Jl(t,r){var o=pe;pe|=1;try{return t(r)}finally{pe=o,pe===0&&(Ir=Le()+500,Qi&&xn())}}function Gn(t){jn!==null&&jn.tag===0&&(pe&6)===0&&Dr();var r=pe;pe|=1;var o=Pt.transition,u=xe;try{if(Pt.transition=null,xe=1,t)return t()}finally{xe=u,Pt.transition=o,pe=r,(pe&6)===0&&xn()}}function Yl(){St=Or.current,je(Or)}function Jn(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,av(o)),$e!==null)for(o=$e.return;o!==null;){var u=o;switch(il(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ji();break;case 3:Nr(),je(dt),je(nt),vl();break;case 5:gl(u);break;case 4:Nr();break;case 13:je(Pe);break;case 19:je(Pe);break;case 10:dl(u.type._context);break;case 22:case 23:Yl()}o=o.return}if(Ge=t,$e=t=Cn(t.current,null),Ze=St=r,ze=0,qs=null,Bl=wo=Kn=0,pt=Ks=null,zn!==null){for(r=0;r<zn.length;r++)if(o=zn[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,m=o.pending;if(m!==null){var v=m.next;m.next=h,u.next=v}o.pending=u}zn=null}return t}function Df(t,r){do{var o=$e;try{if(cl(),ao.current=ho,lo){for(var u=Ne.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}lo=!1}if(qn=0,Ke=Be=Ne=null,Us=!1,Vs=0,Wl.current=null,o===null||o.return===null){ze=1,qs=r,$e=null;break}e:{var m=t,v=o.return,b=o,k=r;if(r=Ze,b.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var R=k,$=b,V=$.tag;if(($.mode&1)===0&&(V===0||V===11||V===15)){var M=$.alternate;M?($.updateQueue=M.updateQueue,$.memoizedState=M.memoizedState,$.lanes=M.lanes):($.updateQueue=null,$.memoizedState=null)}var K=of(v);if(K!==null){K.flags&=-257,af(K,v,b,m,r),K.mode&1&&sf(m,R,r),r=K,k=R;var Y=r.updateQueue;if(Y===null){var Q=new Set;Q.add(k),r.updateQueue=Q}else Y.add(k);break e}else{if((r&1)===0){sf(m,R,r),Ql();break e}k=Error(s(426))}}else if(Ee&&b.mode&1){var Me=of(v);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),af(Me,v,b,m,r),ll(Ar(k,b));break e}}m=k=Ar(k,b),ze!==4&&(ze=2),Ks===null?Ks=[m]:Ks.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var P=nf(m,k,r);Ph(m,P);break e;case 1:b=k;var j=m.type,N=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(kn===null||!kn.has(N)))){m.flags|=65536,r&=-r,m.lanes|=r;var z=rf(m,b,r);Ph(m,z);break e}}m=m.return}while(m!==null)}Ff(o)}catch(Z){r=Z,$e===o&&o!==null&&($e=o=o.return);continue}break}while(!0)}function Lf(){var t=vo.current;return vo.current=ho,t===null?ho:t}function Ql(){(ze===0||ze===3||ze===2)&&(ze=4),Ge===null||(Kn&268435455)===0&&(wo&268435455)===0||En(Ge,Ze)}function jo(t,r){var o=pe;pe|=2;var u=Lf();(Ge!==t||Ze!==r)&&(an=null,Jn(t,r));do try{Rv();break}catch(h){Df(t,h)}while(!0);if(cl(),pe=o,vo.current=u,$e!==null)throw Error(s(261));return Ge=null,Ze=0,ze}function Rv(){for(;$e!==null;)Mf($e)}function Ov(){for(;$e!==null&&!s0();)Mf($e)}function Mf(t){var r=Vf(t.alternate,t,St);t.memoizedProps=t.pendingProps,r===null?Ff(t):$e=r,Wl.current=null}function Ff(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=jv(o,r,St),o!==null){$e=o;return}}else{if(o=Tv(o,r),o!==null){o.flags&=32767,$e=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,$e=null;return}}if(r=r.sibling,r!==null){$e=r;return}$e=r=t}while(r!==null);ze===0&&(ze=5)}function Yn(t,r,o){var u=xe,h=Pt.transition;try{Pt.transition=null,xe=1,Iv(t,r,o,u)}finally{Pt.transition=h,xe=u}return null}function Iv(t,r,o,u){do Dr();while(jn!==null);if((pe&6)!==0)throw Error(s(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(p0(t,m),t===Ge&&($e=Ge=null,Ze=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||bo||(bo=!0,Wf(Ci,function(){return Dr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Pt.transition,Pt.transition=null;var v=xe;xe=1;var b=pe;pe|=4,Wl.current=null,Cv(t,o),Cf(o,t),ev(Qa),Di=!!Ya,Qa=Ya=null,t.current=o,Pv(o),i0(),pe=b,xe=v,Pt.transition=m}else t.current=o;if(bo&&(bo=!1,jn=t,_o=h),m=t.pendingLanes,m===0&&(kn=null),l0(o.stateNode),mt(t,Le()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(xo)throw xo=!1,t=Hl,Hl=null,t;return(_o&1)!==0&&t.tag!==0&&Dr(),m=t.pendingLanes,(m&1)!==0?t===ql?Gs++:(Gs=0,ql=t):Gs=0,xn(),null}function Dr(){if(jn!==null){var t=jd(_o),r=Pt.transition,o=xe;try{if(Pt.transition=null,xe=16>t?16:t,jn===null)var u=!1;else{if(t=jn,jn=null,_o=0,(pe&6)!==0)throw Error(s(331));var h=pe;for(pe|=4,J=t.current;J!==null;){var m=J,v=m.child;if((J.flags&16)!==0){var b=m.deletions;if(b!==null){for(var k=0;k<b.length;k++){var R=b[k];for(J=R;J!==null;){var $=J;switch($.tag){case 0:case 11:case 15:Hs(8,$,m)}var V=$.child;if(V!==null)V.return=$,J=V;else for(;J!==null;){$=J;var M=$.sibling,K=$.return;if(Sf($),$===R){J=null;break}if(M!==null){M.return=K,J=M;break}J=K}}}var Y=m.alternate;if(Y!==null){var Q=Y.child;if(Q!==null){Y.child=null;do{var Me=Q.sibling;Q.sibling=null,Q=Me}while(Q!==null)}}J=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,J=v;else e:for(;J!==null;){if(m=J,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Hs(9,m,m.return)}var P=m.sibling;if(P!==null){P.return=m.return,J=P;break e}J=m.return}}var j=t.current;for(J=j;J!==null;){v=J;var N=v.child;if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,J=N;else e:for(v=j;J!==null;){if(b=J,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:yo(9,b)}}catch(Z){Oe(b,b.return,Z)}if(b===v){J=null;break e}var z=b.sibling;if(z!==null){z.return=b.return,J=z;break e}J=b.return}}if(pe=h,xn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Pi,t)}catch{}u=!0}return u}finally{xe=o,Pt.transition=r}}return!1}function $f(t,r,o){r=Ar(o,r),r=nf(t,r,1),t=_n(t,r,1),r=ut(),t!==null&&(vs(t,1,r),mt(t,r))}function Oe(t,r,o){if(t.tag===3)$f(t,t,o);else for(;r!==null;){if(r.tag===3){$f(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kn===null||!kn.has(u))){t=Ar(o,t),t=rf(r,t,1),r=_n(r,t,1),t=ut(),r!==null&&(vs(r,1,t),mt(r,t));break}}r=r.return}}function Dv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=ut(),t.pingedLanes|=t.suspendedLanes&o,Ge===t&&(Ze&o)===o&&(ze===4||ze===3&&(Ze&130023424)===Ze&&500>Le()-zl?Jn(t,0):Bl|=o),mt(t,r)}function Uf(t,r){r===0&&((t.mode&1)===0?r=1:(r=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var o=ut();t=rn(t,r),t!==null&&(vs(t,r,o),mt(t,o))}function Lv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Uf(t,o)}function Mv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),Uf(t,o)}var Vf;Vf=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||dt.current)ft=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return ft=!1,kv(t,r,o);ft=(t.flags&131072)!==0}else ft=!1,Ee&&(r.flags&1048576)!==0&&wh(r,Zi,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;mo(t,r),t=r.pendingProps;var h=Sr(r,nt.current);Pr(r,o),h=bl(null,r,u,t,h,o);var m=_l();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(u)?(m=!0,Yi(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,pl(r),h.updater=fo,r.stateNode=h,h._reactInternals=r,Cl(r,u,t,o),r=Rl(null,r,u,!0,m,o)):(r.tag=0,Ee&&m&&sl(r),lt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(mo(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=$v(u),t=Ft(u,t),h){case 0:r=Al(null,r,u,t,o);break e;case 1:r=ff(null,r,u,t,o);break e;case 11:r=lf(null,r,u,t,o);break e;case 14:r=uf(null,r,u,Ft(u.type,t),o);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Ft(u,h),Al(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Ft(u,h),ff(t,r,u,h,o);case 3:e:{if(pf(r),t===null)throw Error(s(387));u=r.pendingProps,m=r.memoizedState,h=m.element,Ch(t,r),io(r,u,null,o);var v=r.memoizedState;if(u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Ar(Error(s(423)),r),r=mf(t,r,u,o,h);break e}else if(u!==h){h=Ar(Error(s(424)),r),r=mf(t,r,u,o,h);break e}else for(_t=yn(r.stateNode.containerInfo.firstChild),bt=r,Ee=!0,Mt=null,o=Th(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Tr(),u===h){r=on(t,r,o);break e}lt(t,r,u,o)}r=r.child}return r;case 5:return Ah(r),t===null&&al(r),u=r.type,h=r.pendingProps,m=t!==null?t.memoizedProps:null,v=h.children,Xa(u,h)?v=null:m!==null&&Xa(u,m)&&(r.flags|=32),hf(t,r),lt(t,r,v,o),r.child;case 6:return t===null&&al(r),null;case 13:return gf(t,r,o);case 4:return ml(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Er(r,null,u,o):lt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Ft(u,h),lf(t,r,u,h,o);case 7:return lt(t,r,r.pendingProps,o),r.child;case 8:return lt(t,r,r.pendingProps.children,o),r.child;case 12:return lt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,m=r.memoizedProps,v=h.value,_e(no,u._currentValue),u._currentValue=v,m!==null)if(Lt(m.value,v)){if(m.children===h.children&&!dt.current){r=on(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){v=m.child;for(var k=b.firstContext;k!==null;){if(k.context===u){if(m.tag===1){k=sn(-1,o&-o),k.tag=2;var R=m.updateQueue;if(R!==null){R=R.shared;var $=R.pending;$===null?k.next=k:(k.next=$.next,$.next=k),R.pending=k}}m.lanes|=o,k=m.alternate,k!==null&&(k.lanes|=o),hl(m.return,o,r),b.lanes|=o;break}k=k.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(s(341));v.lanes|=o,b=v.alternate,b!==null&&(b.lanes|=o),hl(v,o,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}lt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Pr(r,o),h=Et(h),u=u(h),r.flags|=1,lt(t,r,u,o),r.child;case 14:return u=r.type,h=Ft(u,r.pendingProps),h=Ft(u.type,h),uf(t,r,u,h,o);case 15:return cf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Ft(u,h),mo(t,r),r.tag=1,ht(u)?(t=!0,Yi(r)):t=!1,Pr(r,o),ef(r,u,h),Cl(r,u,h,o),Rl(null,r,u,!0,t,o);case 19:return vf(t,r,o);case 22:return df(t,r,o)}throw Error(s(156,r.tag))};function Wf(t,r){return xd(t,r)}function Fv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,r,o,u){return new Fv(t,r,o,u)}function Xl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $v(t){if(typeof t=="function")return Xl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===at)return 11;if(t===ie)return 14}return 2}function Cn(t,r){var o=t.alternate;return o===null?(o=Nt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function To(t,r,o,u,h,m){var v=2;if(u=t,typeof t=="function")Xl(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case q:return Qn(o.children,h,m,r);case G:v=8,h|=8;break;case ce:return t=Nt(12,o,r,h|2),t.elementType=ce,t.lanes=m,t;case Qe:return t=Nt(13,o,r,h),t.elementType=Qe,t.lanes=m,t;case ue:return t=Nt(19,o,r,h),t.elementType=ue,t.lanes=m,t;case oe:return Eo(o,h,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:v=10;break e;case qe:v=9;break e;case at:v=11;break e;case ie:v=14;break e;case Re:v=16,u=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Nt(v,o,r,h),r.elementType=t,r.type=u,r.lanes=m,r}function Qn(t,r,o,u){return t=Nt(7,t,u,r),t.lanes=o,t}function Eo(t,r,o,u){return t=Nt(22,t,u,r),t.elementType=oe,t.lanes=o,t.stateNode={isHidden:!1},t}function Zl(t,r,o){return t=Nt(6,t,null,r),t.lanes=o,t}function eu(t,r,o){return r=Nt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Uv(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function tu(t,r,o,u,h,m,v,b,k){return t=new Uv(t,r,o,b,k),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Nt(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(m),t}function Vv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Bf(t){if(!t)return wn;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var o=t.type;if(ht(o))return gh(t,o,r)}return r}function zf(t,r,o,u,h,m,v,b,k){return t=tu(o,u,!0,t,h,m,v,b,k),t.context=Bf(null),o=t.current,u=ut(),h=Tn(o),m=sn(u,h),m.callback=r??null,_n(o,m,h),t.current.lanes=h,vs(t,h,u),mt(t,u),t}function Co(t,r,o,u){var h=r.current,m=ut(),v=Tn(h);return o=Bf(o),r.context===null?r.context=o:r.pendingContext=o,r=sn(m,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=_n(h,r,v),t!==null&&(Vt(t,h,v,m),so(t,h,v)),v}function Po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hf(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function nu(t,r){Hf(t,r),(t=t.alternate)&&Hf(t,r)}function Wv(){return null}var qf=typeof reportError=="function"?reportError:function(t){console.error(t)};function ru(t){this._internalRoot=t}No.prototype.render=ru.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));Co(t,r,null,null)},No.prototype.unmount=ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Gn(function(){Co(null,t,null,null)}),r[Zt]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var r=Cd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<pn.length&&r!==0&&r<pn[o].priority;o++);pn.splice(o,0,t),o===0&&Ad(t)}};function su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kf(){}function Bv(t,r,o,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var R=Po(v);m.call(R)}}var v=zf(r,u,t,0,null,!1,!1,"",Kf);return t._reactRootContainer=v,t[Zt]=v.current,Rs(t.nodeType===8?t.parentNode:t),Gn(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var b=u;u=function(){var R=Po(k);b.call(R)}}var k=tu(t,0,!1,null,null,!1,!1,"",Kf);return t._reactRootContainer=k,t[Zt]=k.current,Rs(t.nodeType===8?t.parentNode:t),Gn(function(){Co(r,k,o,u)}),k}function Ro(t,r,o,u,h){var m=o._reactRootContainer;if(m){var v=m;if(typeof h=="function"){var b=h;h=function(){var k=Po(v);b.call(k)}}Co(r,v,t,h)}else v=Bv(o,r,t,h,u);return Po(v)}Td=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=ys(r.pendingLanes);o!==0&&(Ca(r,o|1),mt(r,Le()),(pe&6)===0&&(Ir=Le()+500,xn()))}break;case 13:Gn(function(){var u=rn(t,1);if(u!==null){var h=ut();Vt(u,t,1,h)}}),nu(t,1)}},Pa=function(t){if(t.tag===13){var r=rn(t,134217728);if(r!==null){var o=ut();Vt(r,t,134217728,o)}nu(t,134217728)}},Ed=function(t){if(t.tag===13){var r=Tn(t),o=rn(t,r);if(o!==null){var u=ut();Vt(o,t,r,u)}nu(t,r)}},Cd=function(){return xe},Pd=function(t,r){var o=xe;try{return xe=t,r()}finally{xe=o}},ba=function(t,r,o){switch(r){case"input":if(fa(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Gi(u);if(!h)throw Error(s(90));Zc(u),fa(u,h)}}}break;case"textarea":sd(t,o);break;case"select":r=o.value,r!=null&&dr(t,!!o.multiple,r,!1)}},fd=Jl,pd=Gn;var zv={usingClientEntryPoint:!1,Events:[Ds,br,Gi,dd,hd,Jl]},Js={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hv={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vd(t),t===null?null:t.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||Wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Pi=Oo.inject(Hv),Ht=Oo}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv,gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(r))throw Error(s(200));return Vv(t,r,null,o)},gt.createRoot=function(t,r){if(!su(t))throw Error(s(299));var o=!1,u="",h=qf;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=tu(t,1,!1,null,null,o,!1,u,h),t[Zt]=r.current,Rs(t.nodeType===8?t.parentNode:t),new ru(r)},gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=vd(r),t=t===null?null:t.stateNode,t},gt.flushSync=function(t){return Gn(t)},gt.hydrate=function(t,r,o){if(!Ao(r))throw Error(s(200));return Ro(null,t,r,!0,o)},gt.hydrateRoot=function(t,r,o){if(!su(t))throw Error(s(405));var u=o!=null&&o.hydratedSources||null,h=!1,m="",v=qf;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=zf(r,null,t,1,o??null,h,!1,m,v),t[Zt]=r.current,Rs(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new No(r)},gt.render=function(t,r,o){if(!Ao(r))throw Error(s(200));return Ro(null,t,r,!1,o)},gt.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(s(40));return t._reactRootContainer?(Gn(function(){Ro(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1},gt.unstable_batchedUpdates=Jl,gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Ao(o))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return Ro(t,r,o,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var tp;function tw(){if(tp)return au.exports;tp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),au.exports=ew(),au.exports}var np;function nw(){if(np)return Io;np=1;var n=tw();return Io.createRoot=n.createRoot,Io.hydrateRoot=n.hydrateRoot,Io}var rw=nw(),L=pc();const mc=L.createContext({});function gc(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const yc=typeof window<"u",qm=yc?L.useLayoutEffect:L.useEffect,ra=L.createContext(null);function vc(n,e){n.indexOf(e)===-1&&n.push(e)}function wc(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const un=(n,e,s)=>s>e?e:s<n?n:s;let xc=()=>{};const cn={},Km=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Gm(n){return typeof n=="object"&&n!==null}const Jm=n=>/^0[^.\s]+$/u.test(n);function bc(n){let e;return()=>(e===void 0&&(e=n()),e)}const It=n=>n,sw=(n,e)=>s=>e(n(s)),vi=(...n)=>n.reduce(sw),li=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class _c{constructor(){this.subscriptions=[]}add(e){return vc(this.subscriptions,e),()=>wc(this.subscriptions,e)}notify(e,s,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qt=n=>n*1e3,Ot=n=>n/1e3;function Ym(n,e){return e?n*(1e3/e):0}const Qm=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,iw=1e-7,ow=12;function aw(n,e,s,i,a){let l,c,d=0;do c=e+(s-e)/2,l=Qm(c,i,a)-n,l>0?s=c:e=c;while(Math.abs(l)>iw&&++d<ow);return c}function wi(n,e,s,i){if(n===e&&s===i)return It;const a=l=>aw(l,0,1,n,s);return l=>l===0||l===1?l:Qm(a(l),e,i)}const Xm=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Zm=n=>e=>1-n(1-e),eg=wi(.33,1.53,.69,.99),Sc=Zm(eg),tg=Xm(Sc),ng=n=>(n*=2)<1?.5*Sc(n):.5*(2-Math.pow(2,-10*(n-1))),kc=n=>1-Math.sin(Math.acos(n)),rg=Zm(kc),sg=Xm(kc),lw=wi(.42,0,1,1),uw=wi(0,0,.58,1),ig=wi(.42,0,.58,1),cw=n=>Array.isArray(n)&&typeof n[0]!="number",og=n=>Array.isArray(n)&&typeof n[0]=="number",dw={linear:It,easeIn:lw,easeInOut:ig,easeOut:uw,circIn:kc,circInOut:sg,circOut:rg,backIn:Sc,backInOut:tg,backOut:eg,anticipate:ng},hw=n=>typeof n=="string",rp=n=>{if(og(n)){xc(n.length===4);const[e,s,i,a]=n;return wi(e,s,i,a)}else if(hw(n))return dw[n];return n},Do=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fw(n,e){let s=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,w=!1,x=!1)=>{const C=x&&a?s:i;return w&&c.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[s,i]=[i,s],s.forEach(p),s.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const pw=40;function ag(n,e){let s=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=Do.reduce((A,D)=>(A[D]=fw(l),A),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:w,preRender:x,render:S,postRender:C}=c,_=()=>{const A=cn.useManualTiming?a.timestamp:performance.now();s=!1,cn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(A-a.timestamp,pw),1)),a.timestamp=A,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),w.process(a),x.process(a),S.process(a),C.process(a),a.isProcessing=!1,s&&e&&(i=!1,n(_))},T=()=>{s=!0,i=!0,a.isProcessing||n(_)};return{schedule:Do.reduce((A,D)=>{const U=c[D];return A[D]=(W,q=!1,G=!1)=>(s||T(),U.schedule(W,q,G)),A},{}),cancel:A=>{for(let D=0;D<Do.length;D++)c[Do[D]].cancel(A)},state:a,steps:c}}const{schedule:Ce,cancel:Dn,state:et,steps:cu}=ag(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);let zo;function mw(){zo=void 0}const vt={now:()=>(zo===void 0&&vt.set(et.isProcessing||cn.useManualTiming?et.timestamp:performance.now()),zo),set:n=>{zo=n,queueMicrotask(mw)}},lg=n=>e=>typeof e=="string"&&e.startsWith(n),jc=lg("--"),gw=lg("var(--"),Tc=n=>gw(n)?yw.test(n.split("/*")[0].trim()):!1,yw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,os={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ui={...os,transform:n=>un(0,1,n)},Lo={...os,default:1},ei=n=>Math.round(n*1e5)/1e5,Ec=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vw(n){return n==null}const ww=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cc=(n,e)=>s=>!!(typeof s=="string"&&ww.test(s)&&s.startsWith(n)||e&&!vw(s)&&Object.prototype.hasOwnProperty.call(s,e)),ug=(n,e,s)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Ec);return{[n]:parseFloat(a),[e]:parseFloat(l),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},xw=n=>un(0,255,n),du={...os,transform:n=>Math.round(xw(n))},ir={test:Cc("rgb","red"),parse:ug("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+du.transform(n)+", "+du.transform(e)+", "+du.transform(s)+", "+ei(ui.transform(i))+")"};function bw(n){let e="",s="",i="",a="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,s+=s,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Du={test:Cc("#"),parse:bw,transform:ir.transform},xi=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),An=xi("deg"),Xt=xi("%"),se=xi("px"),_w=xi("vh"),Sw=xi("vw"),sp={...Xt,parse:n=>Xt.parse(n)/100,transform:n=>Xt.transform(n*100)},Jr={test:Cc("hsl","hue"),parse:ug("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Xt.transform(ei(e))+", "+Xt.transform(ei(s))+", "+ei(ui.transform(i))+")"},We={test:n=>ir.test(n)||Du.test(n)||Jr.test(n),parse:n=>ir.test(n)?ir.parse(n):Jr.test(n)?Jr.parse(n):Du.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ir.transform(n):Jr.transform(n),getAnimatableNone:n=>{const e=We.parse(n);return e.alpha=0,We.transform(e)}},kw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jw(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ec)?.length||0)+(n.match(kw)?.length||0)>0}const cg="number",dg="color",Tw="var",Ew="var(",ip="${}",Cw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ci(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(Cw,p=>(We.test(p)?(i.color.push(l),a.push(dg),s.push(We.parse(p))):p.startsWith(Ew)?(i.var.push(l),a.push(Tw),s.push(p)):(i.number.push(l),a.push(cg),s.push(parseFloat(p))),++l,ip)).split(ip);return{values:s,split:d,indexes:i,types:a}}function hg(n){return ci(n).values}function fg(n){const{split:e,types:s}=ci(n),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=s[c];d===cg?l+=ei(a[c]):d===dg?l+=We.transform(a[c]):l+=a[c]}return l}}const Pw=n=>typeof n=="number"?0:We.test(n)?We.getAnimatableNone(n):n;function Nw(n){const e=hg(n);return fg(n)(e.map(Pw))}const Ln={test:jw,parse:hg,createTransformer:fg,getAnimatableNone:Nw};function hu(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Aw({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let a=0,l=0,c=0;if(!e)a=l=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,p=2*s-d;a=hu(p,d,n+1/3),l=hu(p,d,n),c=hu(p,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Go(n,e){return s=>s>0?e:n}const Ae=(n,e,s)=>n+(e-n)*s,fu=(n,e,s)=>{const i=n*n,a=s*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Rw=[Du,ir,Jr],Ow=n=>Rw.find(e=>e.test(n));function op(n){const e=Ow(n);if(!e)return!1;let s=e.parse(n);return e===Jr&&(s=Aw(s)),s}const ap=(n,e)=>{const s=op(n),i=op(e);if(!s||!i)return Go(n,e);const a={...s};return l=>(a.red=fu(s.red,i.red,l),a.green=fu(s.green,i.green,l),a.blue=fu(s.blue,i.blue,l),a.alpha=Ae(s.alpha,i.alpha,l),ir.transform(a))},Lu=new Set(["none","hidden"]);function Iw(n,e){return Lu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Dw(n,e){return s=>Ae(n,e,s)}function Pc(n){return typeof n=="number"?Dw:typeof n=="string"?Tc(n)?Go:We.test(n)?ap:Fw:Array.isArray(n)?pg:typeof n=="object"?We.test(n)?ap:Lw:Go}function pg(n,e){const s=[...n],i=s.length,a=n.map((l,c)=>Pc(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)s[c]=a[c](l);return s}}function Lw(n,e){const s={...n,...e},i={};for(const a in s)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Pc(n[a])(n[a],e[a]));return a=>{for(const l in i)s[l]=i[l](a);return s}}function Mw(n,e){const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][i[l]],d=n.values[c]??0;s[a]=d,i[l]++}return s}const Fw=(n,e)=>{const s=Ln.createTransformer(e),i=ci(n),a=ci(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Lu.has(n)&&!a.values.length||Lu.has(e)&&!i.values.length?Iw(n,e):vi(pg(Mw(i,a),a.values),s):Go(n,e)};function mg(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Ae(n,e,s):Pc(n)(n,e)}const $w=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Ce.update(e,s),stop:()=>Dn(e),now:()=>et.isProcessing?et.timestamp:vt.now()}},gg=(n,e,s=10)=>{let i="";const a=Math.max(Math.round(e/s),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Jo=2e4;function Nc(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<Jo;)e+=s,i=n.next(e);return e>=Jo?1/0:e}function Uw(n,e=100,s){const i=s({...n,keyframes:[0,e]}),a=Math.min(Nc(i),Jo);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ot(a)}}const Vw=5;function yg(n,e,s){const i=Math.max(e-Vw,0);return Ym(s-n(i),e-i)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pu=.001;function Ww({duration:n=Ie.duration,bounce:e=Ie.bounce,velocity:s=Ie.velocity,mass:i=Ie.mass}){let a,l,c=1-e;c=un(Ie.minDamping,Ie.maxDamping,c),n=un(Ie.minDuration,Ie.maxDuration,Ot(n)),c<1?(a=g=>{const y=g*c,w=y*n,x=y-s,S=Mu(g,c),C=Math.exp(-w);return pu-x/S*C},l=g=>{const w=g*c*n,x=w*s+s,S=Math.pow(c,2)*Math.pow(g,2)*n,C=Math.exp(-w),_=Mu(Math.pow(g,2),c);return(-a(g)+pu>0?-1:1)*((x-S)*C)/_}):(a=g=>{const y=Math.exp(-g*n),w=(g-s)*n+1;return-pu+y*w},l=g=>{const y=Math.exp(-g*n),w=(s-g)*(n*n);return y*w});const d=5/n,p=zw(a,l,d);if(n=Qt(n),isNaN(p))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:n}}}const Bw=12;function zw(n,e,s){let i=s;for(let a=1;a<Bw;a++)i=i-n(i)/e(i);return i}function Mu(n,e){return n*Math.sqrt(1-e*e)}const Hw=["duration","bounce"],qw=["stiffness","damping","mass"];function lp(n,e){return e.some(s=>n[s]!==void 0)}function Kw(n){let e={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...n};if(!lp(n,qw)&&lp(n,Hw))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),a=i*i,l=2*un(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ie.mass,stiffness:a,damping:l}}else{const s=Ww(n);e={...e,...s,mass:Ie.mass},e.isResolvedFromDuration=!0}return e}function Yo(n=Ie.visualDuration,e=Ie.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:w,velocity:x,isResolvedFromDuration:S}=Kw({...s,velocity:-Ot(s.velocity||0)}),C=x||0,_=g/(2*Math.sqrt(p*y)),T=c-l,I=Ot(Math.sqrt(p/y)),O=Math.abs(T)<5;i||(i=O?Ie.restSpeed.granular:Ie.restSpeed.default),a||(a=O?Ie.restDelta.granular:Ie.restDelta.default);let A;if(_<1){const U=Mu(I,_);A=W=>{const q=Math.exp(-_*I*W);return c-q*((C+_*I*T)/U*Math.sin(U*W)+T*Math.cos(U*W))}}else if(_===1)A=U=>c-Math.exp(-I*U)*(T+(C+I*T)*U);else{const U=I*Math.sqrt(_*_-1);A=W=>{const q=Math.exp(-_*I*W),G=Math.min(U*W,300);return c-q*((C+_*I*T)*Math.sinh(G)+U*T*Math.cosh(G))/U}}const D={calculatedDuration:S&&w||null,next:U=>{const W=A(U);if(S)d.done=U>=w;else{let q=U===0?C:0;_<1&&(q=U===0?Qt(C):yg(A,U,W));const G=Math.abs(q)<=i,ce=Math.abs(c-W)<=a;d.done=G&&ce}return d.value=d.done?c:W,d},toString:()=>{const U=Math.min(Nc(D),Jo),W=gg(q=>D.next(U*q).value,U,30);return U+"ms "+W},toTransition:()=>{}};return D}Yo.applyToOptions=n=>{const e=Uw(n,100,Yo);return n.ease=e.ease,n.duration=Qt(e.duration),n.type="keyframes",n};function Fu({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const w=n[0],x={done:!1,value:w},S=G=>d!==void 0&&G<d||p!==void 0&&G>p,C=G=>d===void 0?p:p===void 0||Math.abs(d-G)<Math.abs(p-G)?d:p;let _=s*e;const T=w+_,I=c===void 0?T:c(T);I!==T&&(_=I-w);const O=G=>-_*Math.exp(-G/i),A=G=>I+O(G),D=G=>{const ce=O(G),ve=A(G);x.done=Math.abs(ce)<=g,x.value=x.done?I:ve};let U,W;const q=G=>{S(x.value)&&(U=G,W=Yo({keyframes:[x.value,C(x.value)],velocity:yg(A,G,x.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return q(0),{calculatedDuration:null,next:G=>{let ce=!1;return!W&&U===void 0&&(ce=!0,D(G),q(G)),U!==void 0&&G>=U?W.next(G-U):(!ce&&D(G),x)}}}function Gw(n,e,s){const i=[],a=s||cn.mix||mg,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||It:e;d=vi(p,d)}i.push(d)}return i}function Jw(n,e,{clamp:s=!0,ease:i,mixer:a}={}){const l=n.length;if(xc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=Gw(e,i,a),p=d.length,g=y=>{if(c&&y<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(y<n[w+1]);w++);const x=li(n[w],n[w+1],y);return d[w](x)};return s?y=>g(un(n[0],n[l-1],y)):g}function Yw(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const a=li(0,e,i);n.push(Ae(s,1,a))}}function Qw(n){const e=[0];return Yw(e,n.length-1),e}function Xw(n,e){return n.map(s=>s*e)}function Zw(n,e){return n.map(()=>e||ig).splice(0,n.length-1)}function ti({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const a=cw(i)?i.map(rp):rp(i),l={done:!1,value:e[0]},c=Xw(s&&s.length===e.length?s:Qw(e),n),d=Jw(c,e,{ease:Array.isArray(a)?a:Zw(e,a)});return{calculatedDuration:n,next:p=>(l.value=d(p),l.done=p>=n,l)}}const ex=n=>n!==null;function Ac(n,{repeat:e,repeatType:s="loop"},i,a=1){const l=n.filter(ex),d=a<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const tx={decay:Fu,inertia:Fu,tween:ti,keyframes:ti,spring:Yo};function vg(n){typeof n.type=="string"&&(n.type=tx[n.type])}class Rc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const nx=n=>n/100;class Oc extends Rc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vg(e);const{type:s=ti,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const p=s||ti;p!==ti&&typeof d[0]!="number"&&(this.mixKeyframes=vi(nx,mg(d[0],d[1])),d=[0,100]);const g=p({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Nc(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:w,repeatType:x,repeatDelay:S,type:C,onUpdate:_,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const I=this.currentTime-g*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?I<0:I>a;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,D=i;if(w){const G=Math.min(this.currentTime,a)/d;let ce=Math.floor(G),ve=G%1;!ve&&G>=1&&(ve=1),ve===1&&ce--,ce=Math.min(ce,w+1),!!(ce%2)&&(x==="reverse"?(ve=1-ve,S&&(ve-=S/d)):x==="mirror"&&(D=c)),A=un(0,1,ve)*d}const U=O?{done:!1,value:y[0]}:D.next(A);l&&(U.value=l(U.value));let{done:W}=U;!O&&p!==null&&(W=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return q&&C!==Fu&&(U.value=Ac(y,this.options,T,this.speed)),_&&_(U.value),q&&this.finish(),U}then(e,s){return this.finished.then(e,s)}get duration(){return Ot(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(this.currentTime)}set time(e){e=Qt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ot(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$w,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rx(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const or=n=>n*180/Math.PI,$u=n=>{const e=or(Math.atan2(n[1],n[0]));return Uu(e)},sx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$u,rotateZ:$u,skewX:n=>or(Math.atan(n[1])),skewY:n=>or(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Uu=n=>(n=n%360,n<0&&(n+=360),n),up=$u,cp=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),dp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ix={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cp,scaleY:dp,scale:n=>(cp(n)+dp(n))/2,rotateX:n=>Uu(or(Math.atan2(n[6],n[5]))),rotateY:n=>Uu(or(Math.atan2(-n[2],n[0]))),rotateZ:up,rotate:up,skewX:n=>or(Math.atan(n[4])),skewY:n=>or(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Vu(n){return n.includes("scale")?1:0}function Wu(n,e){if(!n||n==="none")return Vu(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(s)i=ix,a=s;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=sx,a=d}if(!a)return Vu(e);const l=i[e],c=a[1].split(",").map(ax);return typeof l=="function"?l(c):c[l]}const ox=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Wu(s,e)};function ax(n){return parseFloat(n.trim())}const as=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ls=new Set(as),hp=n=>n===os||n===se,lx=new Set(["x","y","z"]),ux=as.filter(n=>!lx.has(n));function cx(n){const e=[];return ux.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const lr={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Wu(e,"x"),y:(n,{transform:e})=>Wu(e,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const ur=new Set;let Bu=!1,zu=!1,Hu=!1;function wg(){if(zu){const n=Array.from(ur).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const a=cx(i);a.length&&(s.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=s.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zu=!1,Bu=!1,ur.forEach(n=>n.complete(Hu)),ur.clear()}function xg(){ur.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(zu=!0)})}function dx(){Hu=!0,xg(),wg(),Hu=!1}class Ic{constructor(e,s,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),Bu||(Bu=!0,Ce.read(xg),Ce.resolveKeyframes(wg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&s){const d=i.readValue(s,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}rx(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ur.delete(this)}cancel(){this.state==="scheduled"&&(ur.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hx=n=>n.startsWith("--");function fx(n,e,s){hx(e)?n.style.setProperty(e,s):n.style[e]=s}const px=bc(()=>window.ScrollTimeline!==void 0),mx={};function gx(n,e){const s=bc(n);return()=>mx[e]??s()}const bg=gx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xs=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,fp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xs([0,.65,.55,1]),circOut:Xs([.55,0,1,.45]),backIn:Xs([.31,.01,.66,-.59]),backOut:Xs([.33,1.53,.69,.99])};function _g(n,e){if(n)return typeof n=="function"?bg()?gg(n,e):"ease-out":og(n)?Xs(n):Array.isArray(n)?n.map(s=>_g(s,e)||fp.easeOut):fp[n]}function yx(n,e,s,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[e]:s};p&&(y.offset=p);const w=_g(d,a);Array.isArray(w)&&(y.easing=w);const x={delay:i,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),n.animate(y,x)}function Sg(n){return typeof n=="function"&&"applyToOptions"in n}function vx({type:n,...e}){return Sg(n)&&bg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wx extends Rc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,xc(typeof e.type!="string");const g=vx(e);this.animation=yx(s,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ac(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):fx(s,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ot(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&px()?(this.animation.timeline=e,It):s(this)}}const kg={anticipate:ng,backInOut:tg,circInOut:sg};function xx(n){return n in kg}function bx(n){typeof n.ease=="string"&&xx(n.ease)&&(n.ease=kg[n.ease])}const pp=10;class _x extends wx{constructor(e){bx(e),vg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const d=new Oc({...c,autoplay:!1}),p=Qt(this.finishedTime??this.time);s.setWithVelocity(d.sample(p-pp).value,d.sample(p).value,pp),d.stop()}}const mp=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ln.test(n)||n==="0")&&!n.startsWith("url("));function Sx(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function kx(n,e,s,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=mp(a,e),d=mp(l,e);return!c||!d?!1:Sx(n)||(s==="spring"||Sg(s))&&i}function qu(n){n.duration=0,n.type="keyframes"}const jx=new Set(["opacity","clipPath","filter","transform"]),Tx=bc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ex(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:a,damping:l,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return Tx()&&s&&jx.has(s)&&(s!=="transform"||!g)&&!p&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Cx=40;class Px extends Rc{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vt.now();const x={autoplay:e,delay:s,type:i,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,...w},S=y?.KeyframeResolver||Ic;this.keyframeResolver=new S(d,(C,_,T)=>this.onKeyframesResolved(C,_,x,!T),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=vt.now(),kx(e,l,c,d)||((cn.instantAnimations||!p)&&y?.(Ac(e,i,s)),e[0]=e[e.length-1],qu(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Cx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},S=!g&&Ex(x)?new _x({...x,element:x.motionValue.owner.current}):new Oc(x);S.finished.then(()=>this.notifyFinished()).catch(It),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dx()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Nx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ax(n){const e=Nx.exec(n);if(!e)return[,];const[,s,i,a]=e;return[`--${s??i}`,a]}function jg(n,e,s=1){const[i,a]=Ax(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return Km(c)?parseFloat(c):c}return Tc(a)?jg(a,e,s+1):a}function Dc(n,e){return n?.[e]??n?.default??n}const Tg=new Set(["width","height","top","left","right","bottom",...as]),Rx={test:n=>n==="auto",parse:n=>n},Eg=n=>e=>e.test(n),Cg=[os,se,Xt,An,Sw,_w,Rx],gp=n=>Cg.find(Eg(n));function Ox(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Jm(n):!0}const Ix=new Set(["brightness","contrast","saturate","opacity"]);function Dx(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Ec)||[];if(!i)return n;const a=s.replace(i,"");let l=Ix.has(e)?1:0;return i!==s&&(l*=100),e+"("+l+a+")"}const Lx=/\b([a-z-]*)\(.*?\)/gu,Ku={...Ln,getAnimatableNone:n=>{const e=n.match(Lx);return e?e.map(Dx).join(" "):n}},yp={...os,transform:Math.round},Mx={rotate:An,rotateX:An,rotateY:An,rotateZ:An,scale:Lo,scaleX:Lo,scaleY:Lo,scaleZ:Lo,skew:An,skewX:An,skewY:An,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:ui,originX:sp,originY:sp,originZ:se},Lc={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se,...Mx,zIndex:yp,fillOpacity:ui,strokeOpacity:ui,numOctaves:yp},Fx={...Lc,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:Ku,WebkitFilter:Ku},Pg=n=>Fx[n];function Ng(n,e){let s=Pg(n);return s!==Ku&&(s=Ln),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const $x=new Set(["auto","none","0"]);function Ux(n,e,s){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!$x.has(l)&&ci(l).values.length&&(a=n[i]),i++}if(a&&s)for(const l of e)n[l]=Ng(s,a)}class Vx extends Ic{constructor(e,s,i,a,l){super(e,s,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Tc(g))){const y=jg(g,s.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Tg.has(i)||e.length!==2)return;const[a,l]=e,c=gp(a),d=gp(l);if(c!==d)if(hp(c)&&hp(d))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else lr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Ox(e[a]))&&i.push(a);i.length&&Ux(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=lr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function Wx(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=s?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Ag=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Rg(n){return Gm(n)&&"offsetHeight"in n}const vp=30,Bx=n=>!isNaN(parseFloat(n));class zx{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=vt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Bx(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new _c);const i=this.events[e].add(s);return e==="change"?()=>{i(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,vp);return Ym(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rs(n,e){return new zx(n,e)}const{schedule:Mc}=ag(queueMicrotask,!1),Bt={x:!1,y:!1};function Og(){return Bt.x||Bt.y}function Hx(n){return n==="x"||n==="y"?Bt[n]?null:(Bt[n]=!0,()=>{Bt[n]=!1}):Bt.x||Bt.y?null:(Bt.x=Bt.y=!0,()=>{Bt.x=Bt.y=!1})}function Ig(n,e){const s=Wx(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[s,a,()=>i.abort()]}function wp(n){return!(n.pointerType==="touch"||Og())}function qx(n,e,s={}){const[i,a,l]=Ig(n,s),c=d=>{if(!wp(d))return;const{target:p}=d,g=e(p,d);if(typeof g!="function"||!p)return;const y=w=>{wp(w)&&(g(w),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Dg=(n,e)=>e?n===e?!0:Dg(n,e.parentElement):!1,Fc=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Kx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gx(n){return Kx.has(n.tagName)||n.tabIndex!==-1}const Ho=new WeakSet;function xp(n){return e=>{e.key==="Enter"&&n(e)}}function mu(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Jx=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=xp(()=>{if(Ho.has(s))return;mu(s,"down");const a=xp(()=>{mu(s,"up")}),l=()=>mu(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function bp(n){return Fc(n)&&!Og()}function Yx(n,e,s={}){const[i,a,l]=Ig(n,s),c=d=>{const p=d.currentTarget;if(!bp(d))return;Ho.add(p);const g=e(p,d),y=(S,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",x),Ho.has(p)&&Ho.delete(p),bp(S)&&typeof g=="function"&&g(S,{success:C})},w=S=>{y(S,p===window||p===document||s.useGlobalTarget||Dg(p,S.target))},x=S=>{y(S,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",x,a)};return i.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Rg(d)&&(d.addEventListener("focus",g=>Jx(g,a)),!Gx(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Lg(n){return Gm(n)&&"ownerSVGElement"in n}function Qx(n){return Lg(n)&&n.tagName==="svg"}const ot=n=>!!(n&&n.getVelocity),Xx=[...Cg,We,Ln],Zx=n=>Xx.find(Eg(n)),$c=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _p(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function e1(...n){return e=>{let s=!1;const i=n.map(a=>{const l=_p(a,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():_p(n[a],null)}}}}function t1(...n){return L.useCallback(e1(...n),n)}class n1 extends L.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,a=Rg(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function r1({children:n,isPresent:e,anchorX:s,root:i}){const a=L.useId(),l=L.useRef(null),c=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=L.useContext($c),p=t1(l,n?.ref);return L.useInsertionEffect(()=>{const{width:g,height:y,top:w,left:x,right:S}=c.current;if(e||!l.current||!g||!y)return;const C=s==="left"?`left: ${x}`:`right: ${S}`;l.current.dataset.motionPopId=a;const _=document.createElement("style");d&&(_.nonce=d);const T=i??document.head;return T.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${w}px !important;
          }
        `),()=>{T.contains(_)&&T.removeChild(_)}},[e]),f.jsx(n1,{isPresent:e,childRef:l,sizeRef:c,children:L.cloneElement(n,{ref:p})})}const s1=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=gc(i1),y=L.useId();let w=!0,x=L.useMemo(()=>(w=!1,{id:y,initial:e,isPresent:s,custom:a,onExitComplete:S=>{g.set(S,!0);for(const C of g.values())if(!C)return;i&&i()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,i]);return l&&w&&(x={...x}),L.useMemo(()=>{g.forEach((S,C)=>g.set(C,!1))},[s]),L.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),c==="popLayout"&&(n=f.jsx(r1,{isPresent:s,anchorX:d,root:p,children:n})),f.jsx(ra.Provider,{value:x,children:n})};function i1(){return new Map}function Mg(n=!0){const e=L.useContext(ra);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=e,l=L.useId();L.useEffect(()=>{if(n)return a(l)},[n]);const c=L.useCallback(()=>n&&i&&i(l),[l,i,n]);return!s&&i?[!1,c]:[!0]}const Mo=n=>n.key||"";function Sp(n){const e=[];return L.Children.forEach(n,s=>{L.isValidElement(s)&&e.push(s)}),e}const sa=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=Mg(c),w=L.useMemo(()=>Sp(n),[n]),x=c&&!g?[]:w.map(Mo),S=L.useRef(!0),C=L.useRef(w),_=gc(()=>new Map),[T,I]=L.useState(w),[O,A]=L.useState(w);qm(()=>{S.current=!1,C.current=w;for(let W=0;W<O.length;W++){const q=Mo(O[W]);x.includes(q)?_.delete(q):_.get(q)!==!0&&_.set(q,!1)}},[O,x.length,x.join("-")]);const D=[];if(w!==T){let W=[...w];for(let q=0;q<O.length;q++){const G=O[q],ce=Mo(G);x.includes(ce)||(W.splice(q,0,G),D.push(G))}return l==="wait"&&D.length&&(W=D),A(Sp(W)),I(w),null}const{forceRender:U}=L.useContext(mc);return f.jsx(f.Fragment,{children:O.map(W=>{const q=Mo(W),G=c&&!g?!1:w===O||x.includes(q),ce=()=>{if(_.has(q))_.set(q,!0);else return;let ve=!0;_.forEach(qe=>{qe||(ve=!1)}),ve&&(U?.(),A(C.current),c&&y?.(),i&&i())};return f.jsx(s1,{isPresent:G,initial:!S.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:G?void 0:ce,anchorX:d,children:W},q)})})},Fg=L.createContext({strict:!1}),kp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ss={};for(const n in kp)ss[n]={isEnabled:e=>kp[n].some(s=>!!e[s])};function o1(n){for(const e in n)ss[e]={...ss[e],...n[e]}}const a1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||a1.has(n)}let $g=n=>!Qo(n);function l1(n){typeof n=="function"&&($g=e=>e.startsWith("on")?!Qo(e):n(e))}try{l1(require("@emotion/is-prop-valid").default)}catch{}function u1(n,e,s){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||($g(a)||s===!0&&Qo(a)||!e&&!Qo(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ia=L.createContext({});function oa(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function di(n){return typeof n=="string"||Array.isArray(n)}const Uc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vc=["initial",...Uc];function aa(n){return oa(n.animate)||Vc.some(e=>di(n[e]))}function Ug(n){return!!(aa(n)||n.variants)}function c1(n,e){if(aa(n)){const{initial:s,animate:i}=n;return{initial:s===!1||di(s)?s:void 0,animate:di(i)?i:void 0}}return n.inherit!==!1?e:{}}function d1(n){const{initial:e,animate:s}=c1(n,L.useContext(ia));return L.useMemo(()=>({initial:e,animate:s}),[jp(e),jp(s)])}function jp(n){return Array.isArray(n)?n.join(" "):n}const hi={};function h1(n){for(const e in n)hi[e]=n[e],jc(e)&&(hi[e].isCSSVariable=!0)}function Vg(n,{layout:e,layoutId:s}){return ls.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!hi[n]||n==="opacity")}const f1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p1=as.length;function m1(n,e,s){let i="",a=!0;for(let l=0;l<p1;l++){const c=as[l],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||s){const g=Ag(d,Lc[c]);if(!p){a=!1;const y=f1[c]||c;i+=`${y}(${g}) `}s&&(e[c]=g)}}return i=i.trim(),s?i=s(e,a?"":i):a&&(i="none"),i}function Wc(n,e,s){const{style:i,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const p in e){const g=e[p];if(ls.has(p)){c=!0;continue}else if(jc(p)){a[p]=g;continue}else{const y=Ag(g,Lc[p]);p.startsWith("origin")?(d=!0,l[p]=y):i[p]=y}}if(e.transform||(c||s?i.transform=m1(e,n.transform,s):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const Bc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wg(n,e,s){for(const i in e)!ot(e[i])&&!Vg(i,s)&&(n[i]=e[i])}function g1({transformTemplate:n},e){return L.useMemo(()=>{const s=Bc();return Wc(s,e,n),Object.assign({},s.vars,s.style)},[e])}function y1(n,e){const s=n.style||{},i={};return Wg(i,s,n),Object.assign(i,g1(n,e)),i}function v1(n,e){const s={},i=y1(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const w1={offset:"stroke-dashoffset",array:"stroke-dasharray"},x1={offset:"strokeDashoffset",array:"strokeDasharray"};function b1(n,e,s=1,i=0,a=!0){n.pathLength=1;const l=a?w1:x1;n[l.offset]=se.transform(-i);const c=se.transform(e),d=se.transform(s);n[l.array]=`${c} ${d}`}function Bg(n,{attrX:e,attrY:s,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(Wc(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:x}=n;w.transform&&(x.transform=w.transform,delete w.transform),(x.transform||w.transformOrigin)&&(x.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),s!==void 0&&(w.y=s),i!==void 0&&(w.scale=i),a!==void 0&&b1(w,a,l,c,!1)}const zg=()=>({...Bc(),attrs:{}}),Hg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _1(n,e,s,i){const a=L.useMemo(()=>{const l=zg();return Bg(l,e,Hg(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Wg(l,n.style,n),a.style={...l,...a.style}}return a}const S1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zc(n){return typeof n!="string"||n.includes("-")?!1:!!(S1.indexOf(n)>-1||/[A-Z]/u.test(n))}function k1(n,e,s,{latestValues:i},a,l=!1){const d=(zc(n)?_1:v1)(e,i,a,n),p=u1(e,typeof n=="string",l),g=n!==L.Fragment?{...p,...d,ref:s}:{},{children:y}=e,w=L.useMemo(()=>ot(y)?y.get():y,[y]);return L.createElement(n,{...g,children:w})}function Tp(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function Hc(n,e,s,i){if(typeof e=="function"){const[a,l]=Tp(i);e=e(s!==void 0?s:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=Tp(i);e=e(s!==void 0?s:n.custom,a,l)}return e}function qo(n){return ot(n)?n.get():n}function j1({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,a){return{latestValues:T1(s,i,a,n),renderState:e()}}function T1(n,e,s,i){const a={},l=i(n,{});for(const x in l)a[x]=qo(l[x]);let{initial:c,animate:d}=n;const p=aa(n),g=Ug(n);e&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=s?s.initial===!1:!1;y=y||c===!1;const w=y?d:c;if(w&&typeof w!="boolean"&&!oa(w)){const x=Array.isArray(w)?w:[w];for(let S=0;S<x.length;S++){const C=Hc(n,x[S]);if(C){const{transitionEnd:_,transition:T,...I}=C;for(const O in I){let A=I[O];if(Array.isArray(A)){const D=y?A.length-1:0;A=A[D]}A!==null&&(a[O]=A)}for(const O in _)a[O]=_[O]}}}return a}const qg=n=>(e,s)=>{const i=L.useContext(ia),a=L.useContext(ra),l=()=>j1(n,e,i,a);return s?l():gc(l)};function qc(n,e,s){const{style:i}=n,a={};for(const l in i)(ot(i[l])||e.style&&ot(e.style[l])||Vg(l,n)||s?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const E1=qg({scrapeMotionValuesFromProps:qc,createRenderState:Bc});function Kg(n,e,s){const i=qc(n,e,s);for(const a in n)if(ot(n[a])||ot(e[a])){const l=as.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const C1=qg({scrapeMotionValuesFromProps:Kg,createRenderState:zg}),P1=Symbol.for("motionComponentSymbol");function Yr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function N1(n,e,s){return L.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Yr(s)&&(s.current=i))},[e])}const Kc=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A1="framerAppearId",Gg="data-"+Kc(A1),Jg=L.createContext({});function R1(n,e,s,i,a){const{visualElement:l}=L.useContext(ia),c=L.useContext(Fg),d=L.useContext(ra),p=L.useContext($c).reducedMotion,g=L.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,w=L.useContext(Jg);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&O1(g.current,s,a,w);const x=L.useRef(!1);L.useInsertionEffect(()=>{y&&x.current&&y.update(s,d)});const S=s[Gg],C=L.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return qm(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),C.current=!1),y.enteringChildren=void 0)}),y}function O1(n,e,s,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Yg(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Yr(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function Yg(n){if(n)return n.options.allowProjection!==!1?n.projection:Yg(n.parent)}function gu(n,{forwardMotionProps:e=!1}={},s,i){s&&o1(s);const a=zc(n)?C1:E1;function l(d,p){let g;const y={...L.useContext($c),...d,layoutId:I1(d)},{isStatic:w}=y,x=d1(d),S=a(d,w);if(!w&&yc){D1();const C=L1(y);g=C.MeasureLayout,x.visualElement=R1(n,S,y,i,C.ProjectionNode)}return f.jsxs(ia.Provider,{value:x,children:[g&&x.visualElement?f.jsx(g,{visualElement:x.visualElement,...y}):null,k1(n,d,N1(S,x.visualElement,p),S,w,e)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=L.forwardRef(l);return c[P1]=n,c}function I1({layoutId:n}){const e=L.useContext(mc).id;return e&&n!==void 0?e+"-"+n:n}function D1(n,e){L.useContext(Fg).strict}function L1(n){const{drag:e,layout:s}=ss;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function M1(n,e){if(typeof Proxy>"u")return gu;const s=new Map,i=(l,c)=>gu(l,c,n,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(s.has(c)||s.set(c,gu(c,void 0,n,e)),s.get(c))})}function Qg({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function F1({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $1(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function yu(n){return n===void 0||n===1}function Gu({scale:n,scaleX:e,scaleY:s}){return!yu(n)||!yu(e)||!yu(s)}function tr(n){return Gu(n)||Xg(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Xg(n){return Ep(n.x)||Ep(n.y)}function Ep(n){return n&&n!=="0%"}function Xo(n,e,s){const i=n-s,a=e*i;return s+a}function Cp(n,e,s,i,a){return a!==void 0&&(n=Xo(n,a,i)),Xo(n,s,i)+e}function Ju(n,e=0,s=1,i,a){n.min=Cp(n.min,e,s,i,a),n.max=Cp(n.max,e,s,i,a)}function Zg(n,{x:e,y:s}){Ju(n.x,e.translate,e.scale,e.originPoint),Ju(n.y,s.translate,s.scale,s.originPoint)}const Pp=.999999999999,Np=1.0000000000001;function U1(n,e,s,i=!1){const a=s.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=s[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xr(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Zg(n,c)),i&&tr(l.latestValues)&&Xr(n,l.latestValues))}e.x<Np&&e.x>Pp&&(e.x=1),e.y<Np&&e.y>Pp&&(e.y=1)}function Qr(n,e){n.min=n.min+e,n.max=n.max+e}function Ap(n,e,s,i,a=.5){const l=Ae(n.min,n.max,a);Ju(n,e,s,l,i)}function Xr(n,e){Ap(n.x,e.x,e.scaleX,e.scale,e.originX),Ap(n.y,e.y,e.scaleY,e.scale,e.originY)}function ey(n,e){return Qg($1(n.getBoundingClientRect(),e))}function V1(n,e,s){const i=ey(n,s),{scroll:a}=e;return a&&(Qr(i.x,a.offset.x),Qr(i.y,a.offset.y)),i}const Rp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zr=()=>({x:Rp(),y:Rp()}),Op=()=>({min:0,max:0}),Fe=()=>({x:Op(),y:Op()}),Yu={current:null},ty={current:!1};function W1(){if(ty.current=!0,!!yc)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yu.current=n.matches;n.addEventListener("change",e),e()}else Yu.current=!1}const B1=new WeakMap;function z1(n,e,s){for(const i in e){const a=e[i],l=s[i];if(ot(a))n.addValue(i,a);else if(ot(l))n.addValue(i,rs(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,rs(c!==void 0?c:a,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Ip=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H1{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ic,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=vt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ce.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=aa(s),this.isVariantNode=Ug(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in w){const S=w[x];p[x]!==void 0&&ot(S)&&S.set(p[x])}}mount(e){this.current=e,B1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),ty.current||W1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yu.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ls.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ss){const s=ss[e];if(!s)continue;const{isEnabled:i,Feature:a}=s;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Ip.length;i++){const a=Ip[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=z1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=rs(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Km(i)||Jm(i))?i=parseFloat(i):!Zx(i)&&Ln.test(s)&&(i=Ng(e,s)),this.setBaseTarget(e,ot(i)?i.get():i)),ot(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=Hc(this.props,s,this.presenceContext?.custom);l&&(i=l[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ot(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new _c),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Mc.render(this.render)}}class ny extends H1{constructor(){super(...arguments),this.KeyframeResolver=Vx}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ot(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ry(n,{style:e,vars:s},i,a){const l=n.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in s)l.setProperty(c,s[c])}function q1(n){return window.getComputedStyle(n)}class K1 extends ny{constructor(){super(...arguments),this.type="html",this.renderInstance=ry}readValueFromInstance(e,s){if(ls.has(s))return this.projection?.isProjecting?Vu(s):ox(e,s);{const i=q1(e),a=(jc(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return ey(e,s)}build(e,s,i){Wc(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return qc(e,s,i)}}const sy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G1(n,e,s,i){ry(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(sy.has(a)?a:Kc(a),e.attrs[a])}class J1 extends ny{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ls.has(s)){const i=Pg(s);return i&&i.default||0}return s=sy.has(s)?s:Kc(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return Kg(e,s,i)}build(e,s,i){Bg(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,a){G1(e,s,i,a)}mount(e){this.isSVGTag=Hg(e.tagName),super.mount(e)}}const Y1=(n,e)=>zc(n)?new J1(e):new K1(e,{allowProjection:n!==L.Fragment});function es(n,e,s){const i=n.getProps();return Hc(i,e,s!==void 0?s:i.custom,n)}const Qu=n=>Array.isArray(n);function Q1(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,rs(s))}function X1(n){return Qu(n)?n[n.length-1]||0:n}function Z1(n,e){const s=es(n,e);let{transitionEnd:i={},transition:a={},...l}=s||{};l={...l,...i};for(const c in l){const d=X1(l[c]);Q1(n,c,d)}}function eb(n){return!!(ot(n)&&n.add)}function Xu(n,e){const s=n.getValue("willChange");if(eb(s))return s.add(e);if(!s&&cn.WillChange){const i=new cn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function iy(n){return n.props[Gg]}const tb=n=>n!==null;function nb(n,{repeat:e,repeatType:s="loop"},i){const a=n.filter(tb),l=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[l]}const rb={type:"spring",stiffness:500,damping:25,restSpeed:10},sb=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ib={type:"keyframes",duration:.8},ob={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ab=(n,{keyframes:e})=>e.length>2?ib:ls.has(n)?n.startsWith("scale")?sb(e[1]):rb:ob;function lb({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const Gc=(n,e,s,i={},a,l)=>c=>{const d=Dc(i,n)||{},p=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Qt(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};lb(d)||Object.assign(y,ab(n,y)),y.duration&&(y.duration=Qt(y.duration)),y.repeatDelay&&(y.repeatDelay=Qt(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(qu(y),y.delay===0&&(w=!0)),(cn.instantAnimations||cn.skipAnimations)&&(w=!0,qu(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,w&&!l&&e.get()!==void 0){const x=nb(y.keyframes,d);if(x!==void 0){Ce.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new Oc(y):new Px(y)};function ub({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function oy(n,e,{delay:s=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in d){const w=n.getValue(y,n.latestValues[y]??null),x=d[y];if(x===void 0||g&&ub(g,y))continue;const S={delay:s,...Dc(l||{},y)},C=w.get();if(C!==void 0&&!w.isAnimating&&!Array.isArray(x)&&x===C&&!S.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const I=iy(n);if(I){const O=window.MotionHandoffAnimation(I,y,Ce);O!==null&&(S.startTime=O,_=!0)}}Xu(n,y),w.start(Gc(y,w,x,n.shouldReduceMotion&&Tg.has(y)?{type:!1}:S,n,_));const T=w.animation;T&&p.push(T)}return c&&Promise.all(p).then(()=>{Ce.update(()=>{c&&Z1(n,c)})}),p}function ay(n,e,s,i=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=n.size,d=(c-1)*i;return typeof s=="function"?s(l,c):a===1?l*i:d-l*i}function Zu(n,e,s={}){const i=es(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(oy(n,i,s)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:w}=a;return cb(n,e,p,g,y,w,s)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(s.delay)])}function cb(n,e,s=0,i=0,a=0,l=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",e),d.push(Zu(p,e,{...c,delay:s+(typeof i=="function"?0:i)+ay(n.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function db(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Zu(n,l,s));i=Promise.all(a)}else if(typeof e=="string")i=Zu(n,e,s);else{const a=typeof e=="function"?es(n,e,s.custom):e;i=Promise.all(oy(n,a,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function ly(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const hb=Vc.length;function uy(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?uy(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<hb;s++){const i=Vc[s],a=n.props[i];(di(a)||a===!1)&&(e[i]=a)}return e}const fb=[...Uc].reverse(),pb=Uc.length;function mb(n){return e=>Promise.all(e.map(({animation:s,options:i})=>db(n,s,i)))}function gb(n){let e=mb(n),s=Dp(),i=!0;const a=p=>(g,y)=>{const w=es(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:x,transitionEnd:S,...C}=w;g={...g,...C,...S}}return g};function l(p){e=p(n)}function c(p){const{props:g}=n,y=uy(n.parent)||{},w=[],x=new Set;let S={},C=1/0;for(let T=0;T<pb;T++){const I=fb[T],O=s[I],A=g[I]!==void 0?g[I]:y[I],D=di(A),U=I===p?O.isActive:null;U===!1&&(C=T);let W=A===y[I]&&A!==g[I]&&D;if(W&&i&&n.manuallyAnimateOnMount&&(W=!1),O.protectedKeys={...S},!O.isActive&&U===null||!A&&!O.prevProp||oa(A)||typeof A=="boolean")continue;const q=yb(O.prevProp,A);let G=q||I===p&&O.isActive&&!W&&D||T>C&&D,ce=!1;const ve=Array.isArray(A)?A:[A];let qe=ve.reduce(a(I),{});U===!1&&(qe={});const{prevResolvedValues:at={}}=O,Qe={...at,...qe},ue=oe=>{G=!0,x.has(oe)&&(ce=!0,x.delete(oe)),O.needsAnimating[oe]=!0;const B=n.getValue(oe);B&&(B.liveStyle=!1)};for(const oe in Qe){const B=qe[oe],X=at[oe];if(S.hasOwnProperty(oe))continue;let H=!1;Qu(B)&&Qu(X)?H=!ly(B,X):H=B!==X,H?B!=null?ue(oe):x.add(oe):B!==void 0&&x.has(oe)?ue(oe):O.protectedKeys[oe]=!0}O.prevProp=A,O.prevResolvedValues=qe,O.isActive&&(S={...S,...qe}),i&&n.blockInitialAnimation&&(G=!1);const ie=W&&q;G&&(!ie||ce)&&w.push(...ve.map(oe=>{const B={type:I};if(typeof oe=="string"&&i&&!ie&&n.manuallyAnimateOnMount&&n.parent){const{parent:X}=n,H=es(X,oe);if(X.enteringChildren&&H){const{delayChildren:E}=H.transition||{};B.delay=ay(X.enteringChildren,n,E)}}return{animation:oe,options:B}}))}if(x.size){const T={};if(typeof g.initial!="boolean"){const I=es(n,Array.isArray(g.initial)?g.initial[0]:g.initial);I&&I.transition&&(T.transition=I.transition)}x.forEach(I=>{const O=n.getBaseTarget(I),A=n.getValue(I);A&&(A.liveStyle=!0),T[I]=O??null}),w.push({animation:T})}let _=!!w.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(w):Promise.resolve()}function d(p,g){if(s[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(p,g)),s[p].isActive=g;const y=c(p);for(const w in s)s[w].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>s,reset:()=>{s=Dp()}}}function yb(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ly(e,n):!1}function Xn(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dp(){return{animate:Xn(!0),whileInView:Xn(),whileHover:Xn(),whileTap:Xn(),whileDrag:Xn(),whileFocus:Xn(),exit:Xn()}}class Mn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vb extends Mn{constructor(e){super(e),e.animationState||(e.animationState=gb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wb=0;class xb extends Mn{constructor(){super(...arguments),this.id=wb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bb={animation:{Feature:vb},exit:{Feature:xb}};function fi(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function bi(n){return{point:{x:n.pageX,y:n.pageY}}}const _b=n=>e=>Fc(e)&&n(e,bi(e));function ni(n,e,s,i){return fi(n,e,_b(s),i)}const cy=1e-4,Sb=1-cy,kb=1+cy,dy=.01,jb=0-dy,Tb=0+dy;function ct(n){return n.max-n.min}function Eb(n,e,s){return Math.abs(n-e)<=s}function Lp(n,e,s,i=.5){n.origin=i,n.originPoint=Ae(e.min,e.max,n.origin),n.scale=ct(s)/ct(e),n.translate=Ae(s.min,s.max,n.origin)-n.originPoint,(n.scale>=Sb&&n.scale<=kb||isNaN(n.scale))&&(n.scale=1),(n.translate>=jb&&n.translate<=Tb||isNaN(n.translate))&&(n.translate=0)}function ri(n,e,s,i){Lp(n.x,e.x,s.x,i?i.originX:void 0),Lp(n.y,e.y,s.y,i?i.originY:void 0)}function Mp(n,e,s){n.min=s.min+e.min,n.max=n.min+ct(e)}function Cb(n,e,s){Mp(n.x,e.x,s.x),Mp(n.y,e.y,s.y)}function Fp(n,e,s){n.min=e.min-s.min,n.max=n.min+ct(e)}function si(n,e,s){Fp(n.x,e.x,s.x),Fp(n.y,e.y,s.y)}function Rt(n){return[n("x"),n("y")]}const hy=({current:n})=>n?n.ownerDocument.defaultView:null,$p=(n,e)=>Math.abs(n-e);function Pb(n,e){const s=$p(n.x,e.x),i=$p(n.y,e.y);return Math.sqrt(s**2+i**2)}class fy{constructor(e,s,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wu(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=Pb(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:_}=x,{timestamp:T}=et;this.history.push({..._,timestamp:T});const{onStart:I,onMove:O}=this.handlers;S||(I&&I(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=vu(S,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:C,onSessionEnd:_,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=wu(x.type==="pointercancel"?this.lastMoveEventInfo:vu(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(x,I),_&&_(x,I)},!Fc(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=bi(e),p=vu(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=et;this.history=[{...g,timestamp:y}];const{onSessionStart:w}=s;w&&w(e,wu(p,this.history)),this.removeListeners=vi(ni(this.contextWindow,"pointermove",this.handlePointerMove),ni(this.contextWindow,"pointerup",this.handlePointerUp),ni(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function vu(n,e){return e?{point:e(n.point)}:n}function Up(n,e){return{x:n.x-e.x,y:n.y-e.y}}function wu({point:n},e){return{point:n,delta:Up(n,py(e)),offset:Up(n,Nb(e)),velocity:Ab(e,.1)}}function Nb(n){return n[0]}function py(n){return n[n.length-1]}function Ab(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const a=py(n);for(;s>=0&&(i=n[s],!(a.timestamp-i.timestamp>Qt(e)));)s--;if(!i)return{x:0,y:0};const l=Ot(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rb(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Ae(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Ae(s,n,i.max):Math.min(n,s)),n}function Vp(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function Ob(n,{top:e,left:s,bottom:i,right:a}){return{x:Vp(n.x,s,a),y:Vp(n.y,e,i)}}function Wp(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function Ib(n,e){return{x:Wp(n.x,e.x),y:Wp(n.y,e.y)}}function Db(n,e){let s=.5;const i=ct(n),a=ct(e);return a>i?s=li(e.min,e.max-i,n.min):i>a&&(s=li(n.min,n.max-a,e.min)),un(0,1,s)}function Lb(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const ec=.35;function Mb(n=ec){return n===!1?n=0:n===!0&&(n=ec),{x:Bp(n,"left","right"),y:Bp(n,"top","bottom")}}function Bp(n,e,s){return{min:zp(n,e),max:zp(n,s)}}function zp(n,e){return typeof n=="number"?n:n[e]||0}const Fb=new WeakMap;class $b{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=w=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(bi(w).point)},c=(w,x)=>{const{drag:S,dragPropagation:C,onDragStart:_}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hx(S),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(I=>{let O=this.getAxisMotionValue(I).get()||0;if(Xt.test(O)){const{projection:A}=this.visualElement;if(A&&A.layout){const D=A.layout.layoutBox[I];D&&(O=ct(D)*(parseFloat(O)/100))}}this.originPoint[I]=O}),_&&Ce.postRender(()=>_(w,x)),Xu(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(w,x)=>{this.latestPointerEvent=w,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:_,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:I}=x;if(C&&this.currentDirection===null){this.currentDirection=Ub(I),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,I),this.updateAxis("y",x.point,I),this.visualElement.render(),T&&T(w,x)},p=(w,x)=>{this.latestPointerEvent=w,this.latestPanInfo=x,this.stop(w,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Rt(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new fy(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:hy(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,a=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ce.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:a}=this.getProps();if(!i||!Fo(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Rb(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Yr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Ob(i.layoutBox,e):this.constraints=!1,this.elastic=Mb(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Lb(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Yr(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=V1(i,a.root,this.visualElement.getTransformPagePoint());let c=Ib(a.layout.layoutBox,l);if(s){const d=s(F1(c));this.hasMutatedConstraints=!!d,d&&(c=Qg(d))}return c}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Rt(y=>{if(!Fo(y,s,this.currentDirection))return;let w=p&&p[y]||{};c&&(w={min:0,max:0});const x=a?200:1e6,S=a?40:1e7,C={type:"inertia",velocity:i?e[y]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(y,C)});return Promise.all(g).then(d)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return Xu(this.visualElement,e),i.start(Gc(e,i,0,s,this.visualElement,!1))}stopAnimation(){Rt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[s];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rt(s=>{const{drag:i}=this.getProps();if(!Fo(s,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(s);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[s];l.set(e[s]-Ae(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Yr(s)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rt(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=Db({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rt(c=>{if(!Fo(c,e,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(Ae(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;Fb.set(this.visualElement,this);const e=this.visualElement.current,s=ni(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Yr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ce.read(i);const c=fi(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rt(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=p[y].translate,w.set(w.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ec,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Fo(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function Ub(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class Vb extends Mn{constructor(e){super(e),this.removeGroupControls=It,this.removeListeners=It,this.controls=new $b(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hp=n=>(e,s)=>{n&&Ce.postRender(()=>n(e,s))};class Wb extends Mn{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(e){this.session=new fy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Hp(e),onStart:Hp(s),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Ce.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ni(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ko={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qp(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Qs={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(se.test(n))n=parseFloat(n);else return n;const s=qp(n,e.target.x),i=qp(n,e.target.y);return`${s}% ${i}%`}},Bb={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,a=Ln.parse(n);if(a.length>5)return i;const l=Ln.createTransformer(n),c=typeof a[0]!="number"?1:0,d=s.x.scale*e.x,p=s.y.scale*e.y;a[0+c]/=d,a[1+c]/=p;const g=Ae(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let xu=!1;class zb extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;h1(Hb),l&&(s.group&&s.group.add(l),i&&i.register&&a&&i.register(l),xu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ko.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,xu=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ce.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:a}=e;xu=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function my(n){const[e,s]=Mg(),i=L.useContext(mc);return f.jsx(zb,{...n,layoutGroup:i,switchLayoutGroup:L.useContext(Jg),isPresent:e,safeToRemove:s})}const Hb={borderRadius:{...Qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qs,borderTopRightRadius:Qs,borderBottomLeftRadius:Qs,borderBottomRightRadius:Qs,boxShadow:Bb};function qb(n,e,s){const i=ot(n)?n:rs(n);return i.start(Gc("",i,e,s)),i.animation}const Kb=(n,e)=>n.depth-e.depth;class Gb{constructor(){this.children=[],this.isDirty=!1}add(e){vc(this.children,e),this.isDirty=!0}remove(e){wc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kb),this.isDirty=!1,this.children.forEach(e)}}function Jb(n,e){const s=vt.now(),i=({timestamp:a})=>{const l=a-s;l>=e&&(Dn(i),n(l-e))};return Ce.setup(i,!0),()=>Dn(i)}const gy=["TopLeft","TopRight","BottomLeft","BottomRight"],Yb=gy.length,Kp=n=>typeof n=="string"?parseFloat(n):n,Gp=n=>typeof n=="number"||se.test(n);function Qb(n,e,s,i,a,l){a?(n.opacity=Ae(0,s.opacity??1,Xb(i)),n.opacityExit=Ae(e.opacity??1,0,Zb(i))):l&&(n.opacity=Ae(e.opacity??1,s.opacity??1,i));for(let c=0;c<Yb;c++){const d=`border${gy[c]}Radius`;let p=Jp(e,d),g=Jp(s,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Gp(p)===Gp(g)?(n[d]=Math.max(Ae(Kp(p),Kp(g),i),0),(Xt.test(g)||Xt.test(p))&&(n[d]+="%")):n[d]=g}(e.rotate||s.rotate)&&(n.rotate=Ae(e.rotate||0,s.rotate||0,i))}function Jp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Xb=yy(0,.5,rg),Zb=yy(.5,.95,It);function yy(n,e,s){return i=>i<n?0:i>e?1:s(li(n,e,i))}function Yp(n,e){n.min=e.min,n.max=e.max}function At(n,e){Yp(n.x,e.x),Yp(n.y,e.y)}function Qp(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Xp(n,e,s,i,a){return n-=e,n=Xo(n,1/s,i),a!==void 0&&(n=Xo(n,1/a,i)),n}function e_(n,e=0,s=1,i=.5,a,l=n,c=n){if(Xt.test(e)&&(e=parseFloat(e),e=Ae(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Ae(l.min,l.max,i);n===l&&(d-=e),n.min=Xp(n.min,e,s,d,a),n.max=Xp(n.max,e,s,d,a)}function Zp(n,e,[s,i,a],l,c){e_(n,e[s],e[i],e[a],e.scale,l,c)}const t_=["x","scaleX","originX"],n_=["y","scaleY","originY"];function em(n,e,s,i){Zp(n.x,e,t_,s?s.x:void 0,i?i.x:void 0),Zp(n.y,e,n_,s?s.y:void 0,i?i.y:void 0)}function tm(n){return n.translate===0&&n.scale===1}function vy(n){return tm(n.x)&&tm(n.y)}function nm(n,e){return n.min===e.min&&n.max===e.max}function r_(n,e){return nm(n.x,e.x)&&nm(n.y,e.y)}function rm(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function wy(n,e){return rm(n.x,e.x)&&rm(n.y,e.y)}function sm(n){return ct(n.x)/ct(n.y)}function im(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class s_{constructor(){this.members=[]}add(e){vc(this.members,e),e.scheduleRender()}remove(e){if(wc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let i;for(let a=s;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i_(n,e,s){let i="";const a=n.x.translate/e.x,l=n.y.translate/e.y,c=s?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:w,rotateY:x,skewX:S,skewY:C}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),w&&(i+=`rotateX(${w}deg) `),x&&(i+=`rotateY(${x}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=n.x.scale*e.x,p=n.y.scale*e.y;return(d!==1||p!==1)&&(i+=`scale(${d}, ${p})`),i||"none"}const bu=["","X","Y","Z"],o_=1e3;let a_=0;function _u(n,e,s,i){const{latestValues:a}=e;a[n]&&(s[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function xy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=iy(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Ce,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&xy(i)}function by({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=a_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c_),this.nodes.forEach(p_),this.nodes.forEach(m_),this.nodes.forEach(d_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gb)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new _c),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Lg(c)&&!Qx(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let y,w=0;const x=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{w=window.innerWidth}),n(c,()=>{const S=window.innerWidth;S!==w&&(w=S,this.root.updateBlockedByResize=!0,y&&y(),y=Jb(x,250),Ko.hasAnimatedSinceResize&&(Ko.hasAnimatedSinceResize=!1,this.nodes.forEach(lm)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||x_,{onLayoutAnimationStart:_,onLayoutAnimationComplete:T}=g.getProps(),I=!this.targetLayout||!wy(this.targetLayout,S),O=!w&&x;if(this.options.layoutRoot||this.resumeFrom||O||w&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Dc(C,"layout"),onPlay:_,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,O)}else w||lm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g_),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(om);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(am);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f_),this.nodes.forEach(l_),this.nodes.forEach(u_)):this.nodes.forEach(am),this.clearAllSnapshots();const d=vt.now();et.delta=un(0,1e3/60,d-et.timestamp),et.timestamp=d,et.isProcessing=!0,cu.update.process(et),cu.preRender.process(et),cu.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h_),this.sharedNodes.forEach(y_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ct(this.snapshot.measuredBox.x)&&!ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!vy(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||tr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),b_(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Fe();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(__))){const{scroll:g}=this.root;g&&(Qr(d.x,g.offset.x),Qr(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Fe();if(At(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:w}=g;g!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&At(d,c),Qr(d.x,y.offset.x),Qr(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=Fe();At(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Xr(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),tr(y.latestValues)&&Xr(p,y.latestValues)}return tr(this.latestValues)&&Xr(p,this.latestValues),p}removeTransform(c){const d=Fe();At(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!tr(g.latestValues))continue;Gu(g.latestValues)&&g.updateSnapshot();const y=Fe(),w=g.measurePageBox();At(y,w),em(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return tr(this.latestValues)&&em(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),si(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),Zg(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),si(this.relativeTargetOrigin,this.target,x.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gu(this.parent.latestValues)||Xg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===et.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;At(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;U1(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Fe());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qp(this.prevProjectionDelta.x,this.projectionDelta.x),Qp(this.prevProjectionDelta.y,this.projectionDelta.y)),ri(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!im(this.projectionDelta.x,this.prevProjectionDelta.x)||!im(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zr(),this.projectionDelta=Zr(),this.projectionDeltaWithTransform=Zr()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},w=Zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Fe(),S=p?p.source:void 0,C=this.layout?this.layout.source:void 0,_=S!==C,T=this.getStack(),I=!T||T.members.length<=1,O=!!(_&&!I&&this.options.crossfade===!0&&!this.path.some(w_));this.animationProgress=0;let A;this.mixTargetDelta=D=>{const U=D/1e3;um(w.x,c.x,U),um(w.y,c.y,U),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v_(this.relativeTarget,this.relativeTargetOrigin,x,U),A&&r_(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Fe()),At(A,this.relativeTarget)),_&&(this.animationValues=y,Qb(y,g,this.latestValues,U,O,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Ko.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rs(0)),this.currentAnimation=qb(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&_y(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Fe();const w=ct(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const x=ct(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+x}At(d,p),Xr(d,y),ri(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new s_),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&_u("z",c,g,this.animationValues);for(let y=0;y<bu.length;y++)_u(`rotate${bu[y]}`,c,g,this.animationValues),_u(`skew${bu[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=qo(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=qo(d?.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let w=i_(this.projectionDeltaWithTransform,this.treeScale,y);p&&(w=p(y,w)),c.transform=w;const{x,y:S}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in hi){if(y[C]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:I}=hi[C],O=w==="none"?y[C]:_(y[C],g);if(T){const A=T.length;for(let D=0;D<A;D++)c[T[D]]=O}else I?this.options.visualElement.renderState.vars[C]=O:c[C]=O}this.options.layoutId&&(c.pointerEvents=g===this?qo(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(om),this.root.sharedNodes.clear()}}}function l_(n){n.updateLayout()}function u_(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Rt(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],x=ct(w);w.min=s[y].min,w.max=w.min+x}):_y(a,e.layoutBox,s)&&Rt(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],x=ct(s[y]);w.max=w.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+x)});const c=Zr();ri(c,s,e.layoutBox);const d=Zr();l?ri(d,n.applyTransform(i,!0),e.measuredBox):ri(d,s,e.layoutBox);const p=!vy(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:x}=y;if(w&&x){const S=Fe();si(S,e.layoutBox,w.layoutBox);const C=Fe();si(C,s,x.layoutBox),wy(S,C)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=S,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function c_(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function d_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function h_(n){n.clearSnapshot()}function om(n){n.clearMeasurements()}function am(n){n.isLayoutDirty=!1}function f_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function lm(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function p_(n){n.resolveTargetDelta()}function m_(n){n.calcProjection()}function g_(n){n.resetSkewAndRotation()}function y_(n){n.removeLeadSnapshot()}function um(n,e,s){n.translate=Ae(e.translate,0,s),n.scale=Ae(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function cm(n,e,s,i){n.min=Ae(e.min,s.min,i),n.max=Ae(e.max,s.max,i)}function v_(n,e,s,i){cm(n.x,e.x,s.x,i),cm(n.y,e.y,s.y,i)}function w_(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const x_={duration:.45,ease:[.4,0,.1,1]},dm=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),hm=dm("applewebkit/")&&!dm("chrome/")?Math.round:It;function fm(n){n.min=hm(n.min),n.max=hm(n.max)}function b_(n){fm(n.x),fm(n.y)}function _y(n,e,s){return n==="position"||n==="preserve-aspect"&&!Eb(sm(e),sm(s),.2)}function __(n){return n!==n.root&&n.scroll?.wasRoot}const S_=by({attachResizeListener:(n,e)=>fi(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Su={current:void 0},Sy=by({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Su.current){const n=new S_({});n.mount(window),n.setOptions({layoutScroll:!0}),Su.current=n}return Su.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),k_={pan:{Feature:Wb},drag:{Feature:Vb,ProjectionNode:Sy,MeasureLayout:my}};function pm(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,l=i[a];l&&Ce.postRender(()=>l(e,bi(e)))}class j_ extends Mn{mount(){const{current:e}=this.node;e&&(this.unmount=qx(e,(s,i)=>(pm(this.node,i,"Start"),a=>pm(this.node,a,"End"))))}unmount(){}}class T_ extends Mn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vi(fi(this.node.current,"focus",()=>this.onFocus()),fi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mm(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),l=i[a];l&&Ce.postRender(()=>l(e,bi(e)))}class E_ extends Mn{mount(){const{current:e}=this.node;e&&(this.unmount=Yx(e,(s,i)=>(mm(this.node,i,"Start"),(a,{success:l})=>mm(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tc=new WeakMap,ku=new WeakMap,C_=n=>{const e=tc.get(n.target);e&&e(n)},P_=n=>{n.forEach(C_)};function N_({root:n,...e}){const s=n||document;ku.has(s)||ku.set(s,{});const i=ku.get(s),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(P_,{root:n,...e})),i[a]}function A_(n,e,s){const i=N_(e);return tc.set(n,s),i.observe(n),()=>{tc.delete(n),i.unobserve(n)}}const R_={some:0,all:1};class O_ extends Mn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:a="some",once:l}=e,c={root:s?s.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:R_[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),x=g?y:w;x&&x(p)};return A_(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(I_(e,s))&&this.startObserver()}unmount(){}}function I_({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const D_={inView:{Feature:O_},tap:{Feature:E_},focus:{Feature:T_},hover:{Feature:j_}},L_={layout:{ProjectionNode:Sy,MeasureLayout:my}},M_={...bb,...D_,...k_,...L_},re=M1(M_,Y1);function F_({currentView:n,onNavigate:e,canGoBack:s,onBack:i}){const a=[{label:"Modèles",view:"contracts"},{label:"Bond",view:"bond"},{label:"Conseiller",view:"conseiller"},{label:"Prix",view:"pricing"},{label:"Documentation",view:"docs"},{label:"Nous consulter",view:"contact"}];return f.jsx(re.header,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.2,ease:"linear"},className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[s&&f.jsxs("button",{onClick:i,className:"group flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200","aria-label":"Retour",children:[f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"stroke-current",children:f.jsx("path",{d:"M10 14L4 8L10 2",strokeWidth:"1.5",strokeLinecap:"square"})}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),f.jsx("button",{onClick:()=>e("home"),className:"hover:opacity-80 transition-opacity duration-200",children:f.jsx("span",{className:"text-[1.25rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1},children:"SYMIONE"})})]}),f.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:a.map(l=>{const c=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return f.jsx("button",{onClick:()=>e(l.view),className:`text-[0.75rem] uppercase tracking-[0.08em] transition-colors duration-200 ${c?"text-accent":"text-muted-foreground hover:text-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:c?500:400},children:l.label},l.view)})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>e("login"),className:"hidden sm:block px-10 py-3.5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Connexion"}),f.jsxs("button",{onClick:()=>e("contracts"),className:"px-10 py-3.5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center gap-2",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["Commencer",f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current",children:f.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})]}),f.jsx("nav",{className:"lg:hidden pb-4 flex gap-4 overflow-x-auto",children:a.map(l=>{const c=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return f.jsx("button",{onClick:()=>e(l.view),className:`text-[0.625rem] uppercase tracking-[0.08em] whitespace-nowrap transition-colors duration-200 ${c?"text-accent":"text-muted-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:c?500:400},children:l.label},l.view)})})]})})}function $_(){return f.jsx("footer",{className:"border-t border-border mt-auto",children:f.jsx("div",{className:"max-w-[1920px] mx-auto px-8 lg:px-16 py-8",children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"disclaimer-section border border-border p-4",children:[f.jsx("p",{className:"text-[0.8125rem] mb-2",style:{lineHeight:1.6},children:"Avertissement juridique: Symione est un outil d'aide à la décision. Nos contenus sont informatifs et ne constituent pas des conseils juridiques personnalisés. Nous recommandons de consulter un avocat pour toute situation complexe."}),f.jsxs("p",{className:"text-[0.8125rem] text-muted-foreground",children:["Vos données sont chiffrées et conformes au RGPD.",f.jsx("a",{href:"/confidentialite",className:"underline ml-2",children:"Politique de confidentialité"}),f.jsx("span",{className:"mx-2",children:"•"}),f.jsx("a",{href:"/mentions-legales",className:"underline",children:"Mentions légales"})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("p",{className:"text-[0.75rem] text-muted-foreground uppercase tracking-wide",style:{fontWeight:500},children:"© 2025 SYMIONE"}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",children:"Intelligent legal systems for modern practices"})]}),f.jsxs("div",{className:"flex gap-8",children:[f.jsx("a",{href:"/confidentialite",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Confidentialité"}),f.jsx("a",{href:"/mentions-legales",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Mentions légales"}),f.jsx("a",{href:"#support",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Support"})]})]})]})})})}function U_(){const[n,e]=L.useState(0);L.useEffect(()=>{const a=()=>{e(window.scrollY)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]);const s=Math.max(1-n/400,0),i=n*.2;return f.jsx("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-16",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 w-full",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"linear"},style:{opacity:s,transform:`translateY(${i}px)`},className:"relative",children:[f.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"flex items-center gap-3 mb-12",children:[f.jsx("div",{className:"h-px w-12 bg-border"}),f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME D'INTELLIGENCE JURIDIQUE"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("h1",{className:"text-[3.5rem] md:text-[5rem] lg:text-[7rem] tracking-[-0.03em]",style:{fontWeight:700,lineHeight:.95},children:["Documents.",f.jsx("br",{}),"Intelligence.",f.jsx("br",{}),"Précision."]}),f.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.3},className:"flex flex-wrap gap-6 md:gap-8 pt-4",children:[{label:"PRÉCISION",value:"99.7%"},{label:"JURIDICTIONS",value:"12+"},{label:"LATENCE",value:"<200ms"}].map((a,l)=>f.jsxs("div",{className:"flex items-baseline gap-3",children:[f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:a.label}),f.jsx("span",{className:"text-[1rem] tracking-[-0.01em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:a.value})]},a.label))})]}),f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"mt-16 flex flex-col sm:flex-row gap-3",children:[f.jsxs("button",{className:"group relative px-12 py-5 bg-accent text-accent-foreground overflow-hidden transition-all duration-200 hover:shadow-[0_0_20px_var(--accent-glow)] flex items-center justify-center gap-3",children:[f.jsx("span",{className:"relative z-10 text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Commencer"}),f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:f.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),f.jsx("button",{className:"group px-12 py-5 border border-border hover:border-foreground transition-all duration-200 flex items-center justify-center gap-3",children:f.jsx("span",{className:"text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Documentation"})})]})]}),f.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.4},className:"absolute bottom-12 left-6 lg:left-12",style:{opacity:Math.max(1-n/200,0)},children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-px h-16 bg-border relative overflow-hidden",children:f.jsx(re.div,{animate:{y:[-64,64]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-full h-4 bg-accent/50"})}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"SCROLL"})]})})]})})}const V_=[{id:"synthesis",code:"SYN",title:"Module de Synthèse",function:"Génération de contrats",description:"Création automatisée de documents depuis la bibliothèque",route:"contracts",status:"PRÊT"},{id:"compliance",code:"CMP",title:"Scanner de Conformité",function:"Révision et analyse",description:"Vérification juridique en temps réel",route:"editor",status:"PRÊT"},{id:"conseiller",code:"CNS",title:"Module Conseil",function:"Assistance juridique",description:"Conseil expert et réseau d'avocats",route:"conseiller",status:"PRÊT"}];function W_({onNavigate:n,onNavigateConseiller:e}){return f.jsx("section",{className:"py-20 lg:py-24",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[f.jsx(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"mb-12 pb-8 border-b border-border",children:f.jsxs("div",{className:"flex items-end justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTEM / MODULES"}),f.jsx("h2",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.1},children:"Surface de contrôle"})]}),f.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),f.jsx("p",{className:"text-[0.625rem] tracking-[0.05em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"3 MODULES PRÊTS"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-px bg-border",children:V_.map((s,i)=>f.jsxs(re.button,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:i*.08,ease:"linear"},onClick:()=>{s.id==="conseiller"?e():s.route&&n(s.route)},disabled:!s.route,className:`group relative bg-card p-8 lg:p-10 text-left transition-all duration-200 ${s.route?"hover:bg-accent/5 cursor-pointer":"cursor-not-allowed opacity-60"}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-8",children:[f.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground px-2 py-1 border border-border",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.code}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="PRÊT"?"bg-accent":"bg-muted-foreground/40"}`}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:s.status})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.3},children:s.title}),f.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-accent",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.function})]}),f.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:s.description})]}),s.route&&f.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:f.jsxs("div",{className:"flex items-center justify-between group-hover:opacity-100 transition-opacity duration-200",children:[f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Module disponible"}),f.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Ouvrir"}),f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current transform group-hover:translate-x-1 transition-transform duration-200",children:f.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})})]},s.id))})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z_=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),gm=n=>{const e=z_(n);return e.charAt(0).toUpperCase()+e.slice(1)},ky=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>L.createElement("svg",{ref:p,...H_,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:ky("lucide",a),...d},[...c.map(([g,y])=>L.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(n,e)=>{const s=L.forwardRef(({className:i,...a},l)=>L.createElement(q_,{ref:l,iconNode:e,className:ky(`lucide-${B_(gm(n))}`,`lucide-${n}`,i),...a}));return s.displayName=gm(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],la=De("arrow-left",K_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],J_=De("book",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Q_=De("check",Y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z_=De("chevron-right",X_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tS=De("circle-alert",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jy=De("circle-check-big",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sS=De("circle-x",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],oS=De("code",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],lS=De("download",aS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cS=De("file-text",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hS=De("info",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pi=De("loader-circle",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],mS=De("mail",pS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ty=De("message-square",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],vS=De("phone",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ym=De("plus",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],bS=De("scale",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ey=De("search",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],kS=De("sparkles",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cy=De("triangle-alert",jS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Py=De("x",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CS=De("zap",ES),PS="modulepreload",NS=function(n){return"/"+n},vm={},us=function(e,s,i){let a=Promise.resolve();if(s&&s.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=c(s.map(g=>{if(g=NS(g),g in vm)return;vm[g]=!0;const y=g.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":PS,y||(x.as="script"),x.crossOrigin="",x.href=g,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((S,C)=>{x.addEventListener("load",S),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},AS={},wm=AS?.VITE_API_BASE_URL?String(void 0).replace(/\/$/,""):"";function ua(n){return wm?`${wm}${n}`:n}async function ca(n){try{return await n.json()}catch{return{error:!0,message:n.statusText}}}async function $o(n){const e=await fetch(ua(n),{method:"GET"});if(!e.ok)throw await ca(e);return e.json()}async function ju(n,e){const s={"Content-Type":"application/json"};try{const{supabase:a}=await us(async()=>{const{supabase:d}=await Promise.resolve().then(()=>lT);return{supabase:d}},void 0),{data:l}=await a.auth.getSession(),c=l.session?.access_token;c&&(s.Authorization=`Bearer ${c}`)}catch{}const i=await fetch(ua(n),{method:"POST",headers:s,body:JSON.stringify(e)});if(i.status===429){const a=Number(i.headers.get("X-RateLimit-Reset")||0);throw{error:!0,message:"Rate limit exceeded",code:"RATE_LIMIT",retryInSec:Math.max(0,a-Math.floor(Date.now()/1e3))}}if(!i.ok)throw await ca(i);return i.json()}async function RS(n,e){const s=await fetch(ua(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await ca(s);return s.json()}async function OS(n,e,s){const i=await fetch(ua("/api/export"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:n,format:e,metadata:s})});if(!i.ok)throw await ca(i);const a=await i.blob(),l=URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`contract.${e}`,document.body.appendChild(c),c.click(),c.remove(),URL.revokeObjectURL(l)}const IS={},DS=IS?.VITE_JURISDICTION||"FR",mi={health:()=>$o("/api/health"),listContracts:n=>$o(`/api/contracts?jurisdiction=${encodeURIComponent(n||DS)}`),getTemplate:(n,e)=>$o(e?`/api/contracts/${n}?jurisdiction=${encodeURIComponent(e)}`:`/api/contracts/${n}`),getClauses:n=>$o(`/api/contracts/${n}/clauses`),updateClause:(n,e,s)=>RS(`/api/contracts/${n}/clauses`,{id:n,clause_id:e,...s}),generate:n=>ju("/api/generate",n),review:n=>ju("/api/review",n),explain:n=>ju("/api/explain",n),export:OS};let LS=0;const nc=new Set;function tt(n,e="info"){const s={id:`toast-${++LS}`,message:n,type:e};nc.forEach(i=>i(s))}function MS(){const[n,e]=L.useState([]);L.useEffect(()=>{const i=a=>{e(l=>[...l,a]),setTimeout(()=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast timeout cleanup"}),e(l=>(l||[]).filter(c=>c&&c.id!==a.id))},5e3)};return nc.add(i),()=>{nc.delete(i)}},[]);const s=i=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast removeToast"}),e(a=>(a||[]).filter(l=>l&&l.id!==i))};return f.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:f.jsx(sa,{children:n.map(i=>f.jsxs(re.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"linear"},className:"bg-card border border-border p-4 pr-12 min-w-[320px] max-w-md shadow-lg pointer-events-auto relative",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[i.type==="success"&&f.jsx(jy,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="error"&&f.jsx(tS,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="info"&&f.jsx(hS,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0",strokeWidth:1.5}),f.jsx("p",{className:"text-[0.8125rem] flex-1",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:i.message})]}),f.jsx("button",{onClick:()=>s(i.id),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:f.jsx(Py,{className:"w-3.5 h-3.5",strokeWidth:1.5})})]},i.id))})})}const FS={},$S={business:"Entreprise",employment:"Emploi",property:"Immobilier",freelance:"Freelance",personal:"Personnel",closure:"Clôture",custom:"Personnalisé"};function US({onBack:n,onSelectTemplate:e,plan:s="free"}){const[i,a]=L.useState([]),[l,c]=L.useState(!0),[d,p]=L.useState(""),[g,y]=L.useState(FS?.VITE_JURISDICTION||"FR"),[w,x]=L.useState(null),[S,C]=L.useState(!1);L.useEffect(()=>{async function D(){try{const{index:U}=await mi.listContracts(g);!Array.isArray(U)||U.length===0?a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}]):a(U)}catch(U){tt(U.message||"Failed to load templates","error"),a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}])}finally{c(!1)}}c(!0),D()},[g]),console.log("🔍 Filter debug:",{array:i,arrayType:typeof i,isArray:Array.isArray(i),location:"ContractsListView filteredContracts"});const _=(i||[]).filter(D=>{const U=d.toLowerCase();return D.title.toLowerCase().includes(U)||D.category.toLowerCase().includes(U)||D.id.toLowerCase().includes(U)});async function T(D){if(!D||D.length<16){x(null);return}C(!0);try{const U=await fetch("/api/templates/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:D})});if(U.ok){const W=await U.json();x(W)}}finally{C(!1)}}const I=D=>!1,[O,A]=L.useState(!1);return f.jsx("div",{className:"min-h-screen pt-16",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[f.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[f.jsx(la,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Control Surface"})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYNTHESIS MODULE / TEMPLATE LIBRARY"}),f.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Select template"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative lg:w-96",children:[f.jsx(Ey,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground",strokeWidth:1.5}),f.jsx("input",{type:"text",placeholder:"🔍 Rechercher un contrat (ex: bail, CDI, NDA...)",value:d,onChange:D=>{p(D.target.value),T(D.target.value)},className:"w-full pl-10 pr-4 py-3 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),f.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"px-3 py-2 bg-input-background border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[f.jsx("option",{value:"FR",children:"FR"}),f.jsx("option",{value:"EN",children:"EN"})]})]})]}),f.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-system-standby animate-pulse":"bg-accent"}`}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:l?"Loading templates...":`${_.length} templates available`})]}),d.length>15&&f.jsxs("div",{className:"mt-4 border border-border p-4",children:[S&&f.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce"}),f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),w&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-[0.875rem] mb-3",children:[f.jsx("h4",{className:"text-[0.95rem] mb-1",style:{fontWeight:600},children:"💡 Analyse de votre besoin"}),f.jsx("p",{className:"text-muted-foreground",children:w.interpretation})]}),w.matchingTemplates.length>0?f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-[0.95rem]",style:{fontWeight:600},children:"📄 Templates correspondants"}),w.matchingTemplates.map(D=>f.jsxs("button",{onClick:()=>e(D.id,g),className:"w-full text-left border border-border p-3 hover:border-foreground",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:D.name}),f.jsx("span",{className:`text-[0.75rem] ${D.available?"text-green-700":"text-amber-700"}`,children:D.available?"✓ Disponible":"🔒 Plan Pro"})]}),D.description&&f.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",children:D.description})]},D.id))]}):f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.875rem] text-muted-foreground",children:"Aucun template exact — ce cas peut nécessiter un avocat."}),f.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"mt-2 px-4 py-2 border border-border",children:"Consulter le Conseiller Juridique →"})]})]})]})]}),l?f.jsx("div",{className:"flex items-center justify-center py-24",children:f.jsx(pi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):_.length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Aucun template ne correspond à votre recherche"}),f.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"px-6 py-3 border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"💬 Décrire mon besoin au Conseiller Juridique"})]}):f.jsx("div",{className:"space-y-px bg-border",children:_.map((D,U)=>(I(D.id),f.jsxs(re.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2,delay:U*.04,ease:"linear"},onClick:()=>{e(D.id,g)},className:"group bg-card p-6 lg:p-8 text-left transition-all duration-200 relative w-full border-l-2 hover:bg-accent/5 hover:border-l-accent border-transparent",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:D.id.toUpperCase()})}),f.jsx("div",{className:"lg:col-span-5",children:f.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:D.title})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Category"}),f.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:$S[D.category]||D.category})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Path"}),f.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:D.path})]})})]}),f.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-accent",children:f.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})})]},D.id)))}),O&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[f.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Template Premium"}),f.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Ce template est disponible dans le Plan Pro (149€/mois) qui inclut 50+ templates et 20 contrats/mois."}),f.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),f.jsx("button",{onClick:()=>{window.location.href="/login"},className:"px-4 py-2 border border-border",children:"Créer un compte gratuit"}),f.jsx("button",{onClick:()=>{window.location.href="/prix"},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro"})]})]})})]})})}const VS=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>us(async()=>{const{default:i}=await Promise.resolve().then(()=>cs);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class Jc extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class xm extends Jc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bm extends Jc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _m extends Jc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(rc||(rc={}));var WS=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class BS{constructor(e,{headers:s={},customFetch:i,region:a=rc.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=VS(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return WS(this,arguments,void 0,function*(s,i={}){var a;try{const{headers:l,method:c,body:d,signal:p}=i;let g={},{region:y}=i;y||(y=this.region);const w=new URL(`${this.url}/${s}`);y&&y!=="any"&&(g["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(g["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(g["Content-Type"]="application/json",x=JSON.stringify(d)));const S=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:x,signal:p}).catch(I=>{throw I.name==="AbortError"?I:new xm(I)}),C=S.headers.get("x-relay-error");if(C&&C==="true")throw new bm(S);if(!S.ok)throw new _m(S);let _=((a=S.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield S.json():_==="application/octet-stream"?T=yield S.blob():_==="text/event-stream"?T=S:_==="multipart/form-data"?T=yield S.formData():T=yield S.text(),{data:T,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new xm(l)}:{data:null,error:l,response:l instanceof _m||l instanceof bm?l.context:void 0}}})}}var Ye={},Lr={},Mr={},Fr={},$r={},Ur={},zS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=zS();const HS=is.fetch,Ny=is.fetch.bind(is),Ay=is.Headers,qS=is.Request,KS=is.Response,cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ay,Request:qS,Response:KS,default:Ny,fetch:HS},Symbol.toStringTag,{value:"Module"})),GS=Gv(cs);var Uo={},Sm;function Ry(){if(Sm)return Uo;Sm=1,Object.defineProperty(Uo,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Uo.default=n,Uo}var km;function Oy(){if(km)return Ur;km=1;var n=Ur&&Ur.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=n(GS),s=n(Ry());class i{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,w,x,S;let C=null,_=null,T=null,I=g.status,O=g.statusText;if(g.ok){if(this.method!=="HEAD"){const W=await g.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?_=W:_=JSON.parse(W))}const D=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),U=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&U&&U.length>1&&(T=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(C={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,T=null,I=406,O="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const D=await g.text();try{C=JSON.parse(D),Array.isArray(C)&&g.status===404&&(_=[],C=null,I=200,O="OK")}catch{g.status===404&&D===""?(I=204,O="No Content"):C={message:D}}if(C&&this.isMaybeSingle&&(!((S=C?.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,I=200,O="OK"),C&&this.shouldThrowOnError)throw new s.default(C)}return{error:C,data:_,count:T,status:I,statusText:O}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,w,x;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(w=g?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=g?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return Ur.default=i,Ur}var jm;function Iy(){if(jm)return $r;jm=1;var n=$r&&$r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($r,"__esModule",{value:!0});const e=n(Oy());class s extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:p=d}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const p=typeof d>"u"?"offset":`${d}.offset`,g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:p=!1,format:g="text"}={}){var y;const w=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return $r.default=s,$r}var Tm;function Yc(){if(Tm)return Fr;Tm=1;var n=Fr&&Fr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fr,"__esModule",{value:!0});const e=n(Iy());class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${p}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Fr.default=s,Fr}var Em;function Dy(){if(Em)return Mr;Em=1;var n=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=n(Yc());class s{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(a,l){const{head:c=!1,count:d}=l??{},p=c?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var d;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(g.length>0){const y=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(w.length>0){const x=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Mr.default=s,Mr}var Cm;function JS(){if(Cm)return Lr;Cm=1;var n=Lr&&Lr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Lr,"__esModule",{value:!0});const e=n(Dy()),s=n(Yc());class i{constructor(l,{headers:c={},schema:d,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=p}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:p=!1,count:g}={}){var y;let w;const x=new URL(`${this.url}/rpc/${l}`);let S;d||p?(w=d?"HEAD":"GET",Object.entries(c).filter(([_,T])=>T!==void 0).map(([_,T])=>[_,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([_,T])=>{x.searchParams.append(_,T)})):(w="POST",S=c);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new s.default({method:w,url:x,headers:C,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Lr.default=i,Lr}var Pm;function YS(){if(Pm)return Ye;Pm=1;var n=Ye&&Ye.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.PostgrestError=Ye.PostgrestBuilder=Ye.PostgrestTransformBuilder=Ye.PostgrestFilterBuilder=Ye.PostgrestQueryBuilder=Ye.PostgrestClient=void 0;const e=n(JS());Ye.PostgrestClient=e.default;const s=n(Dy());Ye.PostgrestQueryBuilder=s.default;const i=n(Yc());Ye.PostgrestFilterBuilder=i.default;const a=n(Iy());Ye.PostgrestTransformBuilder=a.default;const l=n(Oy());Ye.PostgrestBuilder=l.default;const c=n(Ry());return Ye.PostgrestError=c.default,Ye.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ye}var QS=YS();const XS=Kv(QS),{PostgrestClient:ZS,PostgrestQueryBuilder:TT,PostgrestFilterBuilder:ET,PostgrestTransformBuilder:CT,PostgrestBuilder:PT,PostgrestError:NT}=XS;class ek{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tk="2.75.1",nk=`realtime-js/${tk}`,rk="1.0.0",sc=1e4,sk=1e3,ik=100;var ii;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ii||(ii={}));var He;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(He||(He={}));var zt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(zt||(zt={}));var ic;(function(n){n.websocket="websocket"})(ic||(ic={}));var rr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(rr||(rr={}));class ok{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const a=s.getUint8(1),l=s.getUint8(2);let c=this.HEADER_LENGTH+2;const d=i.decode(e.slice(c,c+a));c=c+a;const p=i.decode(e.slice(c,c+l));c=c+l;const g=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:p,payload:g}}}class Ly{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Se||(Se={}));const Nm=(n,e,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=ak(c,n,e,a),l),{}):{}},ak=(n,e,s,i)=>{const a=e.find(d=>d.name===n),l=a?.type,c=s[n];return l&&!i.includes(l)?My(l,c):oc(c)},My=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return dk(e,s)}switch(n){case Se.bool:return lk(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return uk(e);case Se.json:case Se.jsonb:return ck(e);case Se.timestamp:return hk(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return oc(e);default:return oc(e)}},oc=n=>n,lk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},uk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ck=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},dk=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const c=n.slice(1,s);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>My(e,d))}return n},hk=n=>typeof n=="string"?n.replace(" ","T"):n,Fy=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Tu{constructor(e,s,i={},a=sc){this.channel=e,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Am;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Am||(Am={}));class oi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=oi.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=oi.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,a){const l=this.cloneDeep(e),c=this.transformState(s),d={},p={};return this.map(l,(g,y)=>{c[g]||(p[g]=y)}),this.map(c,(g,y)=>{const w=l[g];if(w){const x=y.map(T=>T.presence_ref),S=w.map(T=>T.presence_ref),C=y.filter(T=>S.indexOf(T.presence_ref)<0),_=w.filter(T=>x.indexOf(T.presence_ref)<0);C.length>0&&(d[g]=C),_.length>0&&(p[g]=_)}else d[g]=y}),this.syncDiff(l,{joins:d,leaves:p},i,a)}static syncDiff(e,s,i,a){const{joins:l,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,p)=>{var g;const y=(g=e[d])!==null&&g!==void 0?g:[];if(e[d]=this.cloneDeep(p),y.length>0){const w=e[d].map(S=>S.presence_ref),x=y.filter(S=>w.indexOf(S.presence_ref)<0);e[d].unshift(...x)}i(d,y,p)}),this.map(c,(d,p)=>{let g=e[d];if(!g)return;const y=p.map(w=>w.presence_ref);g=g.filter(w=>y.indexOf(w.presence_ref)<0),e[d]=g,a(d,g,p),g.length===0&&delete e[d]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const a=e[i];return"metas"in a?s[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Rm||(Rm={}));var ai;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ai||(ai={}));var ln;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class Qc{constructor(e,s={config:{}},i){var a,l;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Ly(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new oi(this),this.broadcastEndpointURL=Fy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:c,presence:d,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[ai.PRESENCE]&&this.bindings[ai.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},x={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(ln.CHANNEL_ERROR,S)),this._onClose(()=>e?.(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket.setAuth(),S===void 0){e?.(ln.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,T=(C=_?.length)!==null&&C!==void 0?C:0,I=[];for(let O=0;O<T;O++){const A=_[O],{filter:{event:D,schema:U,table:W,filter:q}}=A,G=S&&S[O];if(G&&G.event===D&&G.schema===U&&G.table===W&&G.filter===q)I.push(Object.assign(Object.assign({},A),{id:G.id}));else{this.unsubscribe(),this.state=He.errored,e?.(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(ln.SUBSCRIBED);return}}).receive("error",S=>{this.state=He.errored,e?.(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===He.joined&&e===ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,p;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Tu(this,zt.leave,{},e),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),c}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tu(this,e,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ik){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:p,leave:g,join:y}=zt;if(i&&[d,p,g,y].indexOf(c)>=0&&i!==this._joinRef())return;let x=this._onMessage(c,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var C,_,T;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(_=S.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(S=>S.callback(x,i)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var C,_,T,I,O,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const D=S.id,U=(C=S.filter)===null||C===void 0?void 0:C.event;return D&&((_=s.ids)===null||_===void 0?void 0:_.includes(D))&&(U==="*"||U?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(O=(I=S?.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:_,table:T,commit_timestamp:I,type:O,errors:A}=C;x=Object.assign(Object.assign({},{schema:_,table:T,commit_timestamp:I,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(C))}S.callback(x,i)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const a=e.toLocaleLowerCase(),l={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Qc.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zt.close,{},e)}_onError(e){this._on(zt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Nm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Nm(e.columns,e.old_record)),s}}const Eu=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fk=[1e3,2e3,5e3,1e4],pk=1e4,mk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gk{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sc,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.reconnectTimer=null,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new ok,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>us(async()=>{const{default:d}=await Promise.resolve().then(()=>cs);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${ic.websocket}`,this.httpEndpoint=Fy(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ek.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rk}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return rr.Connecting;case ii.open:return rr.Open;case ii.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Qc(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${s} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=s,d=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${d}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(zt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${i}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([mk],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:nk};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(zt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ly(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,a,l,c,d,p,g,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:sc,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Vo.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Eu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>fk[w-1]||pk),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((w,x)=>x(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Xc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ve(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class yk extends Xc{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ac extends Xc{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var vk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const $y=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>us(async()=>{const{default:i}=await Promise.resolve().then(()=>cs);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},wk=()=>vk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield us(()=>Promise.resolve().then(()=>cs),void 0)).Response:Response}),lc=n=>{if(Array.isArray(n))return n.map(s=>lc(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=lc(i)}),e},xk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var cr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const Cu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),bk=(n,e,s)=>cr(void 0,void 0,void 0,function*(){const i=yield wk();n instanceof i&&!s?.noResolveJson?n.json().then(a=>{const l=n.status||500,c=a?.statusCode||l+"";e(new yk(Cu(a),l,c))}).catch(a=>{e(new ac(Cu(a),a))}):e(new ac(Cu(n),n))}),_k=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||!i?a:(xk(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function _i(n,e,s,i,a,l){return cr(this,void 0,void 0,function*(){return new Promise((c,d)=>{n(s,_k(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>bk(p,d,i))})})}function Zo(n,e,s,i){return cr(this,void 0,void 0,function*(){return _i(n,"GET",e,s,i)})}function Yt(n,e,s,i,a){return cr(this,void 0,void 0,function*(){return _i(n,"POST",e,i,a,s)})}function uc(n,e,s,i,a){return cr(this,void 0,void 0,function*(){return _i(n,"PUT",e,i,a,s)})}function Sk(n,e,s,i){return cr(this,void 0,void 0,function*(){return _i(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Uy(n,e,s,i,a){return cr(this,void 0,void 0,function*(){return _i(n,"DELETE",e,i,a,s)})}var kk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class jk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return kk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}var Tk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})},Vy;class Ek{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[Vy]="BlobDownloadBuilder",this.promise=null}asStream(){return new jk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Tk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}}Vy=Symbol.toStringTag;var yt=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const Ck={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pk{constructor(e,s={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=$y(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,a){return yt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Om),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),w=yield(e=="PUT"?uc:Yt)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}upload(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,a){return yt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:Om.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const w=yield uc(this.fetch,d.toString(),p,{headers:y});return{data:{path:l,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ve(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,s){return yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const l=yield Yt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Xc("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}update(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}copy(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,i){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Yt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}download(e,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),p=()=>Zo(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Ek(p,this.shouldThrowOnError)}info(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield Zo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:lc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}exists(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Sk(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i)&&i instanceof ac){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),a=[],l=s?.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const d=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}remove(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}list(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ck),s),{prefix:e||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}listV2(e,s){return yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Nk="2.75.1",Ak={"X-Client-Info":`storage-js/${Nk}`};var Vr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class Rk{constructor(e,s={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ak),s),this.fetch=$y(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vr(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ve(e))return{data:null,error:e};throw e}})}getBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}createBucket(e){return Vr(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}updateBucket(e,s){return Vr(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield Uy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}}class Ok extends Rk{constructor(e,s={},i,a){super(e,s,i,a)}from(e){return new Pk(this.url,this.headers,e,this.fetch)}}const Ik="2.75.1";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const Dk={"X-Client-Info":`supabase-js-${Zs}/${Ik}`},Lk={headers:Dk},Mk={schema:"public"},Fk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$k={};var Uk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const Vk=n=>{let e;return n?e=n:typeof fetch>"u"?e=Ny:e=fetch,(...s)=>e(...s)},Wk=()=>typeof Headers>"u"?Ay:Headers,Bk=(n,e,s)=>{const i=Vk(s),a=Wk();return(l,c)=>Uk(void 0,void 0,void 0,function*(){var d;const p=(d=yield e())!==null&&d!==void 0?d:n;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:g}))})};var zk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};function Hk(n){return n.endsWith("/")?n:n+"/"}function qk(n,e){var s,i;const{db:a,auth:l,realtime:c,global:d}=n,{db:p,auth:g,realtime:y,global:w}=e,x={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),d),{headers:Object.assign(Object.assign({},(s=w?.headers)!==null&&s!==void 0?s:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>zk(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function Kk(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wy="2.75.1",Kr=30*1e3,cc=3,Pu=cc*Kr,Gk="http://localhost:9999",Jk="supabase.auth.token",Yk={"X-Client-Info":`gotrue-js/${Wy}`},dc="X-Supabase-Api-Version",By={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xk=600*1e3;class gi extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ne(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Zk extends gi{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function ej(n){return ne(n)&&n.name==="AuthApiError"}class sr extends gi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Fn extends gi{constructor(e,s,i,a){super(e,i,a),this.name=s,this.status=i}}class Rn extends Fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tj(n){return ne(n)&&n.name==="AuthSessionMissingError"}class Wr extends Fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wo extends Fn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bo extends Fn{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nj(n){return ne(n)&&n.name==="AuthImplicitGrantRedirectError"}class Im extends Fn{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends Fn{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Nu(n){return ne(n)&&n.name==="AuthRetryableFetchError"}class Dm extends Fn{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class fc extends Fn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lm=` 	
\r=`.split(""),rj=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Lm.length;e+=1)n[Lm[e].charCodeAt(0)]=-2;for(let e=0;e<ea.length;e+=1)n[ea[e].charCodeAt(0)]=e;return n})();function Mm(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(ea[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(ea[i]),e.queuedBits-=6}}function zy(n,e,s){const i=rj[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Fm(n){const e=[],s=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{oj(c,i,s)};for(let c=0;c<n.length;c+=1)zy(n.charCodeAt(c),a,l);return e.join("")}function sj(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ij(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}sj(i,e)}}function oj(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ts(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)zy(n.charCodeAt(a),s,i);return new Uint8Array(e)}function aj(n){const e=[];return ij(n,s=>e.push(s)),new Uint8Array(e)}function ar(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>Mm(a,s,i)),Mm(null,s,i),e.join("")}function lj(n){return Math.round(Date.now()/1e3)+n}function uj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},Hy=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function cj(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return s.searchParams.forEach((i,a)=>{e[a]=i}),e}const qy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>us(async()=>{const{default:i}=await Promise.resolve().then(()=>cs);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},dj=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Gr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},er=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Nn=async(n,e)=>{await n.removeItem(e)};class da{constructor(){this.promise=new da.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}da.promiseConstructor=Promise;function Au(n){const e=n.split(".");if(e.length!==3)throw new fc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Qk.test(e[i]))throw new fc("JWT not in base64url format");return{header:JSON.parse(Fm(e[0])),payload:JSON.parse(Fm(e[1])),signature:ts(e[2]),raw:{header:e[0],payload:e[1]}}}async function hj(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function fj(n,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function pj(n){return("0"+n.toString(16)).substr(-2)}function mj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,pj).join("")}async function gj(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function yj(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await gj(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(n,e,s=!1){const i=mj();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await Gr(n,`${e}-code-verifier`,a);const l=await yj(i);return[l,i===l?"plain":"s256"]}const vj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wj(n){const e=n.headers.get(dc);if(!e||!e.match(vj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xj(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function bj(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _j=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(n){if(!_j.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $m(n){return JSON.parse(JSON.stringify(n))}var Sj=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};const nr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kj=[502,503,504];async function Um(n){var e;if(!dj(n))throw new hc(nr(n),0);if(kj.includes(n.status))throw new hc(nr(n),n.status);let s;try{s=await n.json()}catch(l){throw new sr(nr(l),l)}let i;const a=wj(n);if(a&&a.getTime()>=By["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Dm(nr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Rn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Dm(nr(s),n.status,s.weak_password.reasons);throw new Zk(nr(s),n.status||500,i)}const jj=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function le(n,e,s,i){var a;const l=Object.assign({},i?.headers);l[dc]||(l[dc]=By["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Tj(n,e,s+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Tj(n,e,s,i,a,l){const c=jj(e,i,a,l);let d;try{d=await n(s,Object.assign({},c))}catch(p){throw console.error(p),new hc(nr(p),0)}if(d.ok||await Um(d),i?.noResolveJson)return d;try{return await d.json()}catch(p){await Um(p)}}function Wt(n){var e;let s=null;Pj(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=lj(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function Vm(n){const e=Wt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function On(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Ej(n){return{data:n,error:null}}function Cj(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l}=n,c=Sj(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function Wm(n){return n}function Pj(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ou=["global","local","others"];var Nj=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class Aj{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=qy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Ou[0]){if(Ou.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ou.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:On})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Nj(e,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Cj,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:On})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Wm});if(y.error)throw y.error;const w=await y.json(),x=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=_}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){zr(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:On})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){zr(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:On})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){zr(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:On})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){zr(e.userId);try{const{data:s,error:i}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(e){zr(e.userId),zr(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Wm});if(y.error)throw y.error;const w=await y.json(),x=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(C=>{const _=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);g[`${T}Page`]=_}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ne(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}}function Bm(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Hr={debug:!!(globalThis&&Hy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ky extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Rj extends Ky{}async function Oj(n,e,s){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Rj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Hr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Ij(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gy(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Dj(n){return parseInt(n,16)}function Lj(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Mj(n){var e;const{chainId:s,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:p,resources:g,scheme:y,uri:w,version:x}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=Gy(n.address),C=y?`${y}://${i}`:i,_=n.statement?`${n.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${S}

${_}`;let I=`URI: ${w}
Version: ${x}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(I+=`
Expiration Time: ${a.toISOString()}`),d&&(I+=`
Not Before: ${d.toISOString()}`),p&&(I+=`
Request ID: ${p}`),g){let O=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}I+=O}return`${T}
${I}`}class Ue extends Error{constructor({message:e,code:s,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class ta extends Ue{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Fj({error:n,options:e}){var s,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ue({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Yy(c)){if(l.rp.id!==c)return new Ue({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function $j({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ue({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Yy(i)){if(s.rpId!==i)return new Ue({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Jy=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class Uj{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Vj=new Uj;function Wj(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,a=Jy(n,["challenge","user","excludeCredentials"]),l=ts(e).buffer,c=Object.assign(Object.assign({},s),{id:ts(s.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];d.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ts(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Bj(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=Jy(n,["challenge","allowCredentials"]),a=ts(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ts(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function zj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:ar(new Uint8Array(n.response.attestationObject)),clientDataJSON:ar(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ar(new Uint8Array(a.authenticatorData)),clientDataJSON:ar(new Uint8Array(a.clientDataJSON)),signature:ar(new Uint8Array(a.signature)),userHandle:a.userHandle?ar(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yy(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function zm(){var n,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qj(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ta("Browser returned unexpected credential type",e)}:{data:null,error:new ta("Empty credential response",e)}}catch(e){return{data:null,error:Fj({error:e,options:n})}}}async function Kj(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ta("Browser returned unexpected credential type",e)}:{data:null,error:new ta("Empty credential response",e)}}catch(e){return{data:null,error:$j({error:e,options:n})}}}const Gj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jj={userVerification:"preferred",hints:["security-key"]};function na(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(s(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=na(d,c):i[l]=na(c)}else i[l]=c}return i}function Yj(n,e){return na(Gj,n,e||{})}function Qj(n,e){return na(Jj,n,e||{})}class Xj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!c)return{data:null,error:d};const p=a??Vj.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=Yj(c.webauthn.credential_options.publicKey,l?.create),{data:y,error:w}=await qj({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const g=Qj(c.webauthn.credential_options.publicKey,l?.request),{data:y,error:w}=await Kj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new sr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!s)return{data:null,error:new gi("rpId is required for WebAuthn authentication")};try{if(!zm())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new sr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!s)return{data:null,error:new gi("rpId is required for WebAuthn registration")};try{if(!zm())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new sr("Unexpected error in register",c)}}}}Ij();const Zj={url:Gk,storageKey:Jk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hm(n,e,s){return await s()}const qr={};class yi{get jwks(){var e,s;return(s=(e=qr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=qr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qr[this.storageKey]=Object.assign(Object.assign({},qr[this.storageKey]),{cachedAt:e})}constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yi.nextInstanceID,yi.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Zj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Aj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qy(a.fetch),this.lock=a.lock||Hm,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Oj:this.lock=Hm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xj(this)},this.persistSession?(a.storage?this.storage=a.storage:Hy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=cj(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),kt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),nj(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?{error:s}:{error:new sr("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,a;try{const l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wt}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var s,i,a;try{let l;if("email"in e){const{email:y,password:w,options:x}=e;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await Br(this.storage,this.storageKey)),l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:w,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:C},xform:Wt})}else if("phone"in e){const{phone:y,password:w,options:x}=e;l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Wt})}else throw new Wo("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:c,options:d}=e;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else if("phone"in e){const{phone:l,password:c,options:d}=e;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else throw new Wo("You must provide either an email or phone number and a password");const{data:i,error:a}=s;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Wr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,a,l,c,d,p,g,y,w,x;let S,C;if("message"in e)S=e.message,C=e.signature;else{const{chain:_,wallet:T,statement:I,options:O}=e;let A;if(kt())if(typeof T=="object")A=T;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")A=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const D=new URL((s=O?.url)!==null&&s!==void 0?s:window.location.href),U=await A.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Gy(U[0]);let q=(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const ce=await A.request({method:"eth_chainId"});q=Dj(ce)}const G={domain:D.host,address:W,statement:I,uri:D.href,version:"1",chainId:q,nonce:(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=Mj(G),C=await A.request({method:"personal_sign",params:[Lj(S),W]})}try{const{data:_,error:T}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wt});if(T)throw T;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Wr}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:T})}catch(_){if(ne(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var s,i,a,l,c,d,p,g,y,w,x,S;let C,_;if("message"in e)C=e.message,_=e.signature;else{const{chain:T,wallet:I,statement:O,options:A}=e;let D;if(kt())if(typeof I=="object")D=I;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))D=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const U=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const W=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),O?{statement:O}:null));let q;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")q=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)q=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)C=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),_=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${U.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(a=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const W=await D.signMessage(new TextEncoder().encode(C),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=W}}try{const{data:T,error:I}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ar(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Wt});if(I)throw I;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Wr}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:I})}catch(T){if(ne(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{const{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Wt});if(await Nn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Wr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(ne(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:s,provider:i,token:a,access_token:l,nonce:c}=e,d=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Wt}),{data:p,error:g}=d;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Wr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,a,l,c;try{if("email"in e){const{email:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Br(this.storage,this.storageKey));const{error:w}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:d,options:p}=e,{data:g,error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Wo("You must provide either an email or phone number.")}catch(d){if(ne(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var s,i;try{let a,l;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Wt});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,i,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Br(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Ej})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new Rn;const{error:a}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:d}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Wo("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Pu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await er(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Ru()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,y)=>(!c&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:On}):await this._useSession(async s=>{var i,a,l;const{data:c,error:d}=s;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:On})})}catch(s){if(ne(s))return tj(s)&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Rn;const c=a.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Br(this.storage,this.storageKey));const{data:g,error:y}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:On});if(y)throw y;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rn;const s=Date.now()/1e3;let i=s,a=!0,l=null;const{payload:c}=Au(e.access_token);if(c.exp&&(i=c.exp,a=i<=s),a){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(ne(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:c,error:d}=s;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Rn;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!kt())throw new Bo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Im("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:p,token_type:g}=e;if(!l||!d||!c||!g)throw new Bo("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(d);let x=y+w;p&&(x=parseInt(p));const S=x-y;S*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const C=x-w;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,y);const{data:_,error:T}=await this._getUser(l);if(T)throw T;const I={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:x,refresh_token:c,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(i){if(ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{error:l};const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(ej(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=uj(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,a;try{const{data:{session:l},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Br(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,p,g,y;const{data:w,error:x}=l;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return kt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ne(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:c,provider:d,token:p,access_token:g,nonce:y}=e,w=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Wt}),{data:x,error:S}=w;return S?{data:{user:null,session:null},error:S}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Wr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:S})}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:c}=s;if(c)throw c;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await fj(async a=>(a>0&&await hj(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Nu(l)&&Date.now()+c-i<Kr})}catch(i){if(this._debug(s,"error",i),ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),kt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await er(this.storage,this.storageKey);if(a&&this.userStorage){let c=await er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Gr(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Ru()}else if(a&&!a.user&&!a.user){const c=await er(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Nn(this.storage,this.storageKey+"-user"),await Gr(this.storage,this.storageKey,a)):a.user=Ru()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Pu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Pu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Nu(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new da;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Rn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),ne(l)){const c={data:null,error:l};return Nu(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,s)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Gr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=$m(a);await Gr(this.storage,this.storageKey,l)}else{const a=$m(s);await Gr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Nn(this.storage,this.storageKey),await Nn(this.storage,this.storageKey+"-code-verifier"),await Nn(this.storage,this.storageKey+"-user"),this.userStorage&&await Nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Kr}ms, refresh threshold is ${cc} ticks`),a<=cc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ky)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Br(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;return l?{data:null,error:l}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:c}=s;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zj(e.webauthn.credential_response):Hj(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:p})})}catch(s){if(ne(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const c=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Wj(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Bj(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Au(a.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+Xk>a)return i;const{data:l,error:c}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:S,error:C}=await this.getSession();if(C||!S.session)return{data:null,error:C};i=S.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:p}}=Au(i);s?.allowExpired||xj(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:a,signature:c},error:null}}const y=bj(a.alg),w=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,c,aj(`${d}.${p}`)))throw new fc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}}yi.nextInstanceID=0;const eT=yi;class tT extends eT{constructor(e){super(e)}}var nT=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(w){c(w)}}function p(y){try{g(i.throw(y))}catch(w){c(w)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class rT{constructor(e,s,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=s;const d=Kk(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:Mk,realtime:$k,auth:Object.assign(Object.assign({},Fk),{storageKey:p}),global:Lk},y=qk(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Bk(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new ZS(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Ok(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new BS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return nT(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:d,lock:p,debug:g},y,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tT({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:c,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:p,debug:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sT=(n,e,s)=>new rT(n,e,s);function iT(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ns={},oT=ns?.VITE_SUPABASE_URL||ns?.VITE_PUBLIC_SUPABASE_URL||ns?.NEXT_PUBLIC_SUPABASE_URL,aT=ns?.VITE_SUPABASE_ANON_KEY||ns?.VITE_PUBLIC_SUPABASE_ANON_KEY||ns?.NEXT_PUBLIC_SUPABASE_ANON_KEY,In=sT(oT,aT),lT=Object.freeze(Object.defineProperty({__proto__:null,supabase:In},Symbol.toStringTag,{value:"Module"})),uT={};async function cT(n){const{contractText:e,fileName:s="contract.pdf",htmlOverride:i,metadata:a={version:"1.0.0"}}=n,l=uT?.VITE_API_BASE_URL,c=l?`${l.replace(/\/$/,"")}/api/export`:"/api/export",d=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:e,format:"pdf",html:i,metadata:a})});if(!d.ok){let w="Export failed";try{w=(await d.json())?.message||w}catch{}throw new Error(w)}const p=await d.blob(),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=s,document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(g)}function dT(n){const[e,s]=L.useState(n);return L.useEffect(()=>{if(e<=0)return;const i=setInterval(()=>{s(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(i)},[e]),e}function hT({contractText:n,onClose:e}){const[s,i]=L.useState(!1),[a,l]=L.useState(null),c=async()=>{i(!0);try{const g=await mi.review({contract_text:n});l(g)}catch(g){tt(g.message||"Review failed","error")}finally{i(!1)}},d={low:"text-accent",medium:"text-yellow-600",high:"text-destructive"},p={low:jy,medium:Cy,high:sS};return f.jsx(sa,{children:f.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:e,children:f.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"linear"},onClick:g=>g.stopPropagation(),className:"bg-card border border-border max-w-3xl w-full max-h-[80vh] overflow-auto",children:[f.jsx("div",{className:"p-6 lg:p-8 border-b border-border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Compliance Scanner"}),f.jsx("h2",{className:"text-[1.5rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Contract Review"})]}),f.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"stroke-current",children:f.jsx("path",{d:"M5 5L15 15M5 15L15 5",strokeWidth:"1.5",strokeLinecap:"square"})})})]})}),f.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&!s&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Analyze contract for compliance issues and risk factors"}),f.jsx("button",{onClick:c,className:"px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Start Review"})]}),s&&f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(pi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}),a&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"border-l-2 border-accent pl-4",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Overall Risk Level"}),f.jsx("p",{className:`text-[1.25rem] uppercase tracking-wider ${d[a.overall_risk]}`,style:{fontWeight:600},children:a.overall_risk})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Summary"}),f.jsx("p",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:a.summary})]}),a.red_flags.length>0&&f.jsxs("div",{children:[f.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["Issues Detected (",a.red_flags.length,")"]}),f.jsx("div",{className:"space-y-3",children:a.red_flags.map((g,y)=>{const w=p[g.severity];return f.jsx("div",{className:"border border-border p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(w,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${d[g.severity]}`,strokeWidth:1.5}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:g.clause}),f.jsx("p",{className:"text-[0.875rem] mb-2",style:{fontWeight:500},children:g.issue}),f.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:g.suggestion})]})]})},y)})})]})]})]})]})})})}function fT({templateId:n,jurisdiction:e,onBack:s}){const[i,a]=L.useState(null),[l,c]=L.useState(!0),[d,p]=L.useState(!1),[g,y]=L.useState(!1),[w,x]=L.useState(!1),[S,C]=L.useState(!1),[_,T]=L.useState(!1),[I,O]=L.useState({}),[A,D]=L.useState(""),[U,W]=L.useState(0),[q,G]=L.useState(!1),ce=dT(U);L.useEffect(()=>{async function ue(){try{const{template:ie}=await mi.getTemplate(n,e);a(ie);const Re={};ie.inputs.forEach(oe=>{oe.type==="date"?Re[oe.key]=new Date().toISOString().split("T")[0]:Re[oe.key]=""}),O(Re)}catch(ie){tt(ie.message||"Failed to load template","error"),s()}finally{c(!1)}}ue()},[n,s]);const ve=(ue,ie)=>{O(Re=>({...Re,[ue]:ie}))},qe=async()=>{if(!i)return;console.log("🔍 Filter debug:",{array:i?.inputs,arrayType:typeof i?.inputs,isArray:Array.isArray(i?.inputs),location:"ContractEditorView handleGenerate"});const ue=(i.inputs||[]).filter(ie=>ie&&ie.required&&!I[ie.key]).map(ie=>ie.label);if(ue.length>0){tt(`Required fields missing: ${ue.join(", ")}`,"error");return}try{const{data:ie}=await In.auth.getSession();if(!ie.session?.access_token){const oe=new Date,B=`${oe.getFullYear()}-${oe.getMonth()+1}`,X="symi_free_gen",H=localStorage.getItem(X);let E={month:B,count:0};if(H)try{E=JSON.parse(H)}catch{}if(E.month!==B&&(E={month:B,count:0}),E.count>=10){T(!0);return}E.count+=1,localStorage.setItem(X,JSON.stringify(E))}}catch{}p(!0);try{const ie=await mi.generate({contract_id:n,user_inputs:I,lawyer_mode:!1});D(ie.generated_text),tt("Contract generated successfully","success")}catch(ie){ie.code==="RATE_LIMIT"?(W(ie.retryInSec||60),tt(`Rate limit exceeded. Retry in ${ie.retryInSec}s`,"error")):ie.code==="LIMIT_REACHED"?(x(!1),C(!1),T(!0)):tt(ie.message||"Generation failed","error")}finally{p(!1)}},at=async ue=>{if(!A){tt("No contract to export","error");return}y(!0);try{if(ue==="pdf"){x(!0),y(!1);return}tt(`Contract exported as ${ue.toUpperCase()}`,"success")}catch(ie){tt(ie.message||"Export failed","error")}finally{}},Qe=async()=>{if(S){y(!0);try{await cT({contractText:A,fileName:"contrat.pdf",metadata:{version:i?.metadata.version,date:new Date().toISOString().split("T")[0]}}),tt("Contract exported as PDF","success"),x(!1),C(!1)}catch(ue){tt(ue.message||"Export failed","error")}finally{y(!1)}}};return l||!i?f.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:f.jsx(pi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):f.jsxs("div",{className:"min-h-screen pt-16",children:[f.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 lg:px-12 py-12",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:[f.jsxs("button",{onClick:s,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[f.jsx(la,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Template Library"})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d?"bg-accent animate-pulse":"bg-system-standby"}`}),f.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["SYNTHESIS MODULE / ",n.toUpperCase()]})]}),f.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:i.metadata.title}),f.jsxs("p",{className:"text-[0.75rem] text-muted-foreground mt-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[i.metadata.jurisdiction," • v",i.metadata.version]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:qe,disabled:d||ce>0,className:"flex items-center gap-2 px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:d?f.jsxs(f.Fragment,{children:[f.jsx(pi,{className:"w-3.5 h-3.5 animate-spin",strokeWidth:1.5}),"Génération"]}):ce>0?f.jsxs(f.Fragment,{children:[f.jsx(Cy,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Réessayer ",ce,"s"]}):f.jsxs(f.Fragment,{children:[f.jsx(kS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Générer"]})}),A&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[f.jsx(Ey,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Analyser"]}),f.jsxs("button",{onClick:()=>at("pdf"),disabled:g,className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[f.jsx(lS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Télécharger PDF"]})]})]})]})]}),f.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.15,ease:"linear"},className:"grid grid-cols-1 lg:grid-cols-2 gap-px bg-border",children:[f.jsx("div",{className:"bg-card p-6 lg:p-8 space-y-8",children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Input Parameters"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"ACTIVE"})]})]}),f.jsx("div",{className:"space-y-5",children:i.inputs.map(ue=>f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[ue.label,ue.required&&f.jsx("span",{className:"text-accent ml-1",children:"*"})]}),ue.type==="textarea"?f.jsx("textarea",{value:I[ue.key]||"",onChange:ie=>ve(ue.key,ie.target.value),rows:4,className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none",style:{fontFamily:"var(--font-mono)",fontWeight:400}}):ue.type==="select"?f.jsx("select",{value:I[ue.key]||"",onChange:ie=>ve(ue.key,ie.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:f.jsx("option",{value:"",children:"Select..."})}):f.jsx("input",{type:ue.type,value:I[ue.key]||"",onChange:ie=>ve(ue.key,ie.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400}})]},ue.key))})]})}),f.jsxs("div",{className:"bg-card p-6 lg:p-8 overflow-auto max-h-[calc(100vh-200px)] sticky top-20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Output Preview"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`h-px w-8 ${A?"bg-accent":"bg-border"}`}),f.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:A?"READY":"STANDBY"})]})]}),A?f.jsx("div",{className:"prose prose-sm max-w-none",children:f.jsx("div",{className:"text-[0.875rem] whitespace-pre-wrap",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:A})}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Remplissez les paramètres et cliquez sur Générer"})})]})]})]}),q&&A&&f.jsx(hT,{contractText:A,onClose:()=>G(!1)}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-lg",children:[f.jsx("h3",{className:"text-[1.125rem] mb-3",style:{fontWeight:600},children:"Conditions d'utilisation du document"}),f.jsxs("div",{className:"space-y-3 text-[0. NineTwoFiverem]",style:{lineHeight:1.6},children:[f.jsx("p",{children:"Ce document est généré automatiquement par intelligence artificielle et fourni à titre informatif uniquement."}),f.jsx("p",{children:"Il ne remplace pas l'avis personnalisé d'un avocat et n'a pas de valeur juridique sans validation par un professionnel du droit."}),f.jsx("p",{children:"Symione décline toute responsabilité en cas de litige découlant de l'utilisation de ce document sans consultation juridique préalable."}),f.jsx("p",{children:"Pour une situation à enjeu important, nous recommandons de faire valider ce document par un avocat."})]}),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("label",{className:"flex items-center gap-2 text-[0.875rem]",children:[f.jsx("input",{type:"checkbox",checked:S,onChange:ue=>C(ue.target.checked)}),"J'ai lu et j'accepte ces conditions d'utilisation"]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>{x(!1),C(!1)},className:"px-4 py-2 border border-border",children:"Annuler"}),f.jsx("button",{onClick:Qe,disabled:!S||g,className:"px-4 py-2 bg-accent text-accent-foreground disabled:opacity-50",children:"Télécharger le contrat PDF"})]})]})]})}),_&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[f.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Limite gratuite atteinte"}),f.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Vous avez généré 2 contrats ce mois. Passez au Plan Pro pour débloquer 20 contrats/mois."}),f.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),f.jsx("button",{onClick:async()=>{try{const ie=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:"pro"})})).json();ie?.url?window.location.href=ie.url:window.location.href="/prix"}catch{window.location.href="/prix"}},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro (149€/mois)"})]})]})})]})}const pT=`Bonjour, je suis votre assistant juridique intelligent.

Je fournis des informations générales et des recommandations basées sur votre situation, mais je ne remplace pas un avocat.

Pour toute situation complexe, à fort enjeu, ou nécessitant une action en justice, je vous recommanderai de consulter un professionnel du droit.

Comment puis-je vous aider aujourd'hui?`;function mT({onBack:n}){const[e,s]=L.useState(""),[i,a]=L.useState(""),[l,c]=L.useState(!1),[d,p]=L.useState(null),[g,y]=L.useState([]),[w,x]=L.useState(""),S=async()=>{if(!e||e.trim().length<50){tt("Veuillez décrire votre situation en détail (min 50 caractères)","error");return}c(!0),p(null);try{const _=await fetch("/api/conseiller/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({problem:e,city:i})});if(!_.ok)throw new Error("Erreur lors de l'analyse");const T=await _.json();p(T),y(I=>[...I,{id:`u-${Date.now()}`,role:"user",content:e},{id:`a-${Date.now()}`,role:"assistant",content:`Analyse complétée pour ${i||"votre zone"}.`}])}catch(_){tt(_.message||"Erreur lors de l'analyse","error")}finally{c(!1)}},C=()=>{w.trim()&&(y(_=>[..._,{id:`u-${Date.now()}`,role:"user",content:w},{id:`a-${Date.now()}`,role:"assistant",content:"Réponse contextuelle (bientôt disponible)."}]),x(""))};return f.jsx("div",{className:"min-h-screen pt-16",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[f.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[f.jsx(la,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),f.jsxs("div",{className:"pb-6 border-b border-border",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"MODULE CONSEIL / ASSISTANCE"}),f.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Conseiller juridique"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[f.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 p-4",style:{whiteSpace:"pre-wrap",lineHeight:1.6},children:pT}),f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"bg-card border border-border p-6 lg:p-8",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Décrivez votre situation"}),f.jsx("textarea",{value:e,onChange:_=>s(_.target.value),rows:8,placeholder:"Contexte, enjeux, dates clés, actions déjà réalisées",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ville (pour recommandation avocat)"}),f.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:"Paris",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),f.jsx("button",{onClick:S,disabled:l||!e.trim(),className:"w-full px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:l?f.jsxs(f.Fragment,{children:[f.jsx(pi,{className:"w-3.5 h-3.5 animate-spin",strokeWidth:1.5}),"Analyse en cours..."]}):"Analyser ma situation"}),f.jsx("p",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:"Réponse en moins de 30 secondes • Service confidentiel"})]})}),d&&f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"space-y-6",children:[f.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[f.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Analyse de votre situation"}),f.jsx("p",{className:"text-[0.875rem] mb-4",style:{lineHeight:1.6},children:d.audit.summary}),Array.isArray(d.audit.risks)&&d.audit.risks.length>0&&f.jsxs("div",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:[f.jsx("div",{className:"mb-1",style:{fontWeight:600},children:"Points d'attention:"}),f.jsx("ul",{className:"list-disc pl-5",children:d.audit.risks.map((_,T)=>f.jsx("li",{children:_},T))})]}),f.jsxs("div",{className:"text-[0.75rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)"},children:[f.jsxs("span",{children:["Urgence: ",d.audit.urgency]})," • ",f.jsxs("span",{children:["Complexité: ",d.audit.complexity]})]})]}),d.recommendedTemplate&&f.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[f.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Modèle recommandé"}),f.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:d.recommendedTemplate.name}),d.recommendedTemplate.reason&&f.jsx("p",{className:"text-[0.875rem] mt-1 text-muted-foreground",children:d.recommendedTemplate.reason}),f.jsx("div",{className:"mt-2",children:d.recommendedTemplate.available?f.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):f.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),d.recommendedTemplate.slug&&f.jsx("button",{className:"mt-4 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${d.recommendedTemplate.slug}`,children:"Utiliser ce modèle →"}),d.needsLawyer&&f.jsxs("div",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:["⚠️ ",f.jsx("strong",{children:"Attention:"})," Votre situation est complexe. Nous recommandons aussi de consulter un avocat."]})]}),d.needsLawyer&&Array.isArray(d.recommendedLawyers)&&d.recommendedLawyers.length>0&&f.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[f.jsx("h2",{className:"text-[1.25rem] mb-4",style:{fontWeight:600},children:"Avocats recommandés"}),!d.recommendedTemplate&&f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-3",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),f.jsx("div",{className:"space-y-3",children:d.recommendedLawyers.map((_,T)=>f.jsxs("div",{className:"border border-border p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:_.name}),typeof _.rating=="number"&&f.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[_.rating,"/5"]})]}),f.jsx("div",{className:"text-[0.875rem] text-muted-foreground mt-1",children:[_.specialty,_.city,_.firm].filter(Boolean).join(" • ")}),_.phone&&f.jsx("a",{href:`tel:${_.phone}`,className:"text-[0.75rem] mt-2 inline-block underline",children:"Contacter"})]},T))})]}),f.jsxs("div",{className:"border border-border p-4 text-[0.875rem] bg-accent/5",children:[f.jsx("span",{className:"mr-2",children:"💡"}),"Créez un compte gratuit pour sauvegarder vos consultations et générer des contrats personnalisés.",f.jsx("button",{onClick:()=>window.location.href="/login",className:"ml-3 underline",children:"Créer un compte"})]})]})]}),f.jsx("div",{className:"lg:col-span-7",children:f.jsxs("div",{className:"bg-card border border-border p-4 lg:p-6 min-h-[520px] flex flex-col gap-4",children:[!d&&!l&&f.jsx("div",{className:"text-center text-[0.875rem] text-muted-foreground py-16",children:"Décrivez votre situation à gauche pour recevoir une analyse juridique détaillée"}),l&&f.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),d&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"border border-border p-4",children:[f.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📋 Analyse de votre situation"}),f.jsxs("p",{className:"text-[0.875rem] mb-2",children:[f.jsx("strong",{children:"Résumé:"})," ",d.audit.summary]}),Array.isArray(d.audit.risks)&&d.audit.risks.length>0&&f.jsxs("div",{className:"text-[0.875rem] mb-2",children:[f.jsx("strong",{children:"Points d'attention:"}),f.jsx("ul",{className:"list-disc pl-5",children:d.audit.risks.map((_,T)=>f.jsx("li",{children:_},T))})]}),f.jsxs("div",{className:"flex items-center gap-3 text-[0.75rem] text-muted-foreground",children:[f.jsxs("span",{children:["Urgence: ",d.audit.urgency]}),f.jsx("span",{children:"•"}),f.jsxs("span",{children:["Complexité: ",d.audit.complexity]})]})]}),d.recommendedTemplate&&f.jsxs("div",{className:"border border-border p-4",children:[f.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📄 Template recommandé"}),f.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:d.recommendedTemplate.name}),d.recommendedTemplate.reason&&f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-1",children:d.recommendedTemplate.reason}),f.jsx("div",{className:"mt-2",children:d.recommendedTemplate.available?f.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):f.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),d.recommendedTemplate.slug&&f.jsx("button",{className:"mt-3 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${d.recommendedTemplate.slug}`,children:"Utiliser ce template →"}),d.needsLawyer&&f.jsx("p",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:"⚠️ Situation complexe: nous recommandons aussi de consulter un avocat"})]}),Array.isArray(d.recommendedLawyers)&&d.recommendedLawyers.length>0&&f.jsxs("div",{className:"border border-border p-4",children:[f.jsxs("h4",{className:"text-[0.95rem] mb-2",children:["⚖️ Avocats recommandés ",i?`à ${i}`:""]}),!d.recommendedTemplate&&f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-2",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),f.jsx("div",{className:"space-y-3",children:d.recommendedLawyers.map((_,T)=>f.jsxs("div",{className:"border border-border p-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:_.name}),typeof _.rating=="number"&&f.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[_.rating,"/5"]})]}),f.jsx("div",{className:"text-[0.875rem] text-muted-foreground",children:[_.specialty,_.city,_.firm].filter(Boolean).join(" • ")}),_.phone&&f.jsx("a",{href:`tel:${_.phone}`,className:"underline text-[0.8125rem] mt-1 inline-block",children:"Contacter"})]},T))})]}),g.map(_=>f.jsx("div",{className:`p-3 border ${_.role==="assistant"?"bg-accent/5 border-accent/20":"bg-card border-border"}`,children:_.content},_.id)),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",placeholder:"Question complémentaire...",value:w,onChange:_=>x(_.target.value),onKeyPress:_=>_.key==="Enter"&&C(),className:"flex-1 px-3 py-2 bg-input-background border border-border",style:{fontFamily:"var(--font-mono)"}}),f.jsx("button",{onClick:C,className:"px-4 py-2 border border-border",children:"→"})]})]})]})})]})]})})}const gT=[{id:"pro",name:"Pro",price:"149",period:"/ mois",description:"Pour freelances, PME et consultants qui veulent une équipe juridique à portée de main",features:["20 contrats par mois","Accès bibliothèque complète (50+ modèles)","Conseiller IA (chat + vocal)","Export PDF & DOCX","Révisions illimitées","Support prioritaire (< 24h)"],icon:Ty,iconText:"Assistant IA quotidien, simple et efficace",cta:"Commencer",variant:"outline",target:"Freelances, PME, Consultants"},{id:"cabinet",name:"Cabinet",price:"349",period:"/ mois",description:"Pour cabinets d'avocats et directions juridiques",features:["Contrats illimités","Rapport SYMI Intelligence hebdomadaire","Référencement prioritaire (Top 3 suggestions)","Assistant vocal IA personnalisé (votre branding)","Onboarding & formation inclus","Support prioritaire (< 2h, 7j/7)","Formation continue (1x/trimestre)"],icon:bS,iconText:"Partenariat avancé et avantages exclusifs",cta:"Devenir partenaire",variant:"accent",highlighted:!0,target:"Cabinets & Directions juridiques"},{id:"enterprise",name:"Entreprise",price:"Sur consultation",period:"",description:"Pour grands cabinets (20+) et corporate",features:["White label complet (votre marque)","Accès API (ERP/CRM)","Rapports SYMI personnalisés","Multi-juridictions (FR, UE, UK, US)","SLA 99.9% garanti","Account manager dédié","Installation sur-mesure et développements custom"],icon:vS,iconText:"Accompagnement dédié et intégrations avancées",cta:"Discuter de vos besoins",variant:"outline",target:"Grandes organisations"}];function yT({onNavigate:n}){const e=s=>{n(s==="cabinet"?"contact":"login")};return f.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-8 text-center",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"TARIFICATION / PLANS"}),f.jsxs("div",{className:"max-w-3xl mx-auto border border-border p-12 text-center",children:[f.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] mb-6 tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.2},children:"Choisissez votre liberté."}),f.jsxs("p",{className:"text-[1rem] text-muted-foreground",style:{lineHeight:1.7},children:["Pas d'engagement. Pas de surprise. Juste des",f.jsx("br",{}),"contrats professionnels accessibles à tous."]})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:gT.map((s,i)=>{const a=s.icon;return f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.08,ease:"linear"},className:`border border-border bg-card p-8 lg:p-10 relative transition-all duration-200 ${s.highlighted?"ring-2 ring-accent ring-offset-2 ring-offset-background":"hover:border-accent/50"}`,children:[s.highlighted&&f.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-accent text-accent-foreground text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Recommandé"}),f.jsxs("div",{className:"mb-8 pb-8 border-b border-border",children:[f.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:s.name}),f.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.target}),f.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.id!=="enterprise"?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[3.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:s.price}),f.jsxs("span",{className:"text-[1rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["€ ",s.period]})]}):f.jsx("span",{className:"text-[1.75rem] tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.2},children:s.price})}),f.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:s.description})]}),f.jsxs("div",{className:"flex items-start gap-3 mb-6 p-3 bg-accent/5 border border-accent/10",children:[f.jsx(a,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5",strokeWidth:1.5}),f.jsx("p",{className:"text-[0.75rem]",style:{lineHeight:1.5,fontFamily:"var(--font-mono)",fontWeight:300},children:s.iconText})]}),f.jsx("ul",{className:"space-y-3 mb-10",children:s.features.map((l,c)=>f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-1 flex-shrink-0",children:f.jsx(Q_,{className:"w-4 h-4 text-accent",strokeWidth:2})}),f.jsx("span",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:l})]},c))}),f.jsx("button",{onClick:async()=>{if(s.id==="pro"||s.id==="cabinet")try{const c=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:s.id})})).json();c?.url?window.location.href=c.url:e(s.id)}catch{e(s.id)}else e(s.id)},className:`w-full px-8 py-5 text-[0.75rem] uppercase tracking-[0.12em] transition-all duration-200 ${s.variant==="accent"?"bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)]":"border border-border hover:border-foreground hover:bg-accent/5"}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:s.cta})]},s.id)})}),f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.4},className:"mt-12 text-center",children:[f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{lineHeight:1.7},children:"Tous les plans incluent l'accès aux 3 juridictions (FR, UK, US) et la garantie de génération en moins de 5 minutes."}),f.jsx("button",{onClick:()=>n("contact"),className:"text-[0.75rem] uppercase tracking-[0.08em] text-accent hover:underline",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Besoin d'un plan sur mesure ? Contactez-nous →"})]})]})})}function vT({onNavigate:n}){const[e,s]=L.useState(!1),[i,a]=L.useState(""),[l,c]=L.useState(""),d=async p=>{p.preventDefault();try{if(e){const{error:g}=await In.auth.signUp({email:i,password:l});if(g)throw g;tt("Inscription réussie. Vérifiez votre email.","success"),n("contracts")}else{const{error:g}=await In.auth.signInWithPassword({email:i,password:l});if(g)throw g;tt("Connexion réussie","success"),n("contracts")}}catch(g){tt(g.message||"Erreur authentification","error")}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center py-20 px-6",children:f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"ACCÈS PLATEFORME"}),f.jsx("h1",{className:"text-[2.5rem] mb-4 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:e?"Créer un compte.":"Connexion."}),f.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7},children:e?"Commencez à générer vos contrats professionnels":"Accédez à votre espace de travail juridique"})]}),f.jsxs("form",{onSubmit:d,className:"space-y-6",children:[f.jsx("div",{className:"border border-border bg-card p-8",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Adresse email"}),f.jsx("input",{id:"email",type:"email",value:i,onChange:p=>a(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"votre@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Mot de passe"}),f.jsx("input",{id:"password",type:"password",value:l,onChange:p=>c(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"••••••••"})]}),!e&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4"}),f.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)"},children:"Se souvenir de moi"})]}),f.jsx("button",{type:"button",className:"text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"Mot de passe oublié ?"})]})]})}),f.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:e?"Créer mon compte":"Se connecter"}),f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:e?"Déjà un compte ? Se connecter →":"Pas encore de compte ? S'inscrire →"})})]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-border",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground text-center mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ou continuer avec"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{type:"button",onClick:async()=>{await In.auth.signInWithOAuth({provider:"google"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Google"}),f.jsx("button",{type:"button",onClick:async()=>{await In.auth.signInWithOAuth({provider:"azure"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Microsoft"})]})]})]})})}function wT(){const n=[{icon:CS,title:"Démarrage rapide",description:"Commencez en moins de 5 minutes",items:["Créer un compte","Choisir un template","Générer votre premier contrat","Exporter en PDF/DOCX"]},{icon:cS,title:"Bibliothèque de templates",description:"50+ modèles professionnels",items:["Contrats de travail (CDI, CDD, Stage)","Contrats commerciaux (Vente, Prestation)","Accords de confidentialité (NDA)","Baux et locations"]},{icon:oS,title:"API & Intégrations",description:"Pour les plans Cabinet",items:["REST API documentation","Webhooks & événements","White label & branding","SSO & authentification"]},{icon:J_,title:"Guide juridique",description:"Comprendre vos contrats",items:["Clauses essentielles","Mentions obligatoires","Juridictions supportées","Conformité RGPD"]}];return f.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME / DOCUMENTATION"}),f.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Documentation."}),f.jsx("p",{className:"text-[1rem] text-muted-foreground max-w-2xl",style:{lineHeight:1.7},children:"Guides complets, références API et ressources pour maîtriser la plateforme SYMIONE."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-border",children:n.map((e,s)=>{const i=e.icon;return f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:s*.08,ease:"linear"},className:"bg-card p-8 lg:p-10 hover:bg-accent/5 transition-colors duration-200 cursor-pointer",children:[f.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[f.jsx("div",{className:"p-3 border border-border",children:f.jsx(i,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600},children:e.title}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:e.description})]})]}),f.jsx("ul",{className:"space-y-3 border-t border-border pt-6",children:e.items.map((a,l)=>f.jsxs("li",{className:"flex items-center gap-3 group",children:[f.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full group-hover:bg-accent transition-colors duration-200"}),f.jsx("span",{className:"text-[0.875rem] group-hover:text-accent transition-colors duration-200",style:{lineHeight:1.6},children:a})]},l))})]},e.title)})}),f.jsx(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.3},className:"mt-16 border border-border p-8 lg:p-10",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:"Besoin d'aide supplémentaire ?"}),f.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:"Notre équipe support est disponible pour vous accompagner."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Support"}),f.jsx("button",{className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"API Docs"})]})]})})]})})}function xT(){const[n,e]=L.useState({name:"",email:"",company:"",subject:"general",message:""}),s=i=>{i.preventDefault(),console.log("Contact form submitted:",n),alert("Message envoyé ! Notre équipe vous répondra sous 24h.")};return f.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:f.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CONTACT / SUPPORT"}),f.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Nous consulter."}),f.jsx("p",{className:"text-[1rem] text-muted-foreground mb-12",style:{lineHeight:1.7},children:"Notre équipe est à votre disposition pour répondre à vos questions sur nos plans, fonctionnalités ou partenariats."}),f.jsx("div",{className:"space-y-8",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 border border-border",children:f.jsx(mS,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-[1rem] mb-1",style:{fontWeight:600},children:"Email"}),f.jsx("a",{href:"mailto:contact@symi.io",className:"text-[0.875rem] text-muted-foreground hover:text-accent transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-border",children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Liens rapides"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("a",{href:"mailto:sales@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Demande commerciale"}),f.jsx("a",{href:"mailto:support@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Support technique"}),f.jsx("a",{href:"mailto:partners@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Partenariats cabinets"})]})]})]}),f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear",delay:.1},children:f.jsx("form",{onSubmit:s,className:"border border-border bg-card p-8 lg:p-10",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Nom complet *"}),f.jsx("input",{id:"name",type:"text",value:n.name,onChange:i=>e({...n,name:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Email *"}),f.jsx("input",{id:"email",type:"email",value:n.email,onChange:i=>e({...n,email:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Entreprise / Cabinet"}),f.jsx("input",{id:"company",type:"text",value:n.company,onChange:i=>e({...n,company:i.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"subject",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Sujet *"}),f.jsxs("select",{id:"subject",value:n.subject,onChange:i=>e({...n,subject:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},children:[f.jsx("option",{value:"general",children:"Question générale"}),f.jsx("option",{value:"sales",children:"Demande commerciale"}),f.jsx("option",{value:"support",children:"Support technique"}),f.jsx("option",{value:"partnership",children:"Partenariat cabinet"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"message",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Message *"}),f.jsx("textarea",{id:"message",value:n.message,onChange:i=>e({...n,message:i.target.value}),required:!0,rows:6,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem] resize-none",style:{fontFamily:"var(--font-mono)"}})]}),f.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Envoyer le message"}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center",style:{fontFamily:"var(--font-mono)"},children:"Réponse sous 24h ouvrées"})]})})})]})})})}function bT({onNavigate:n}){const[e,s]=L.useState(""),[i,a]=L.useState(!1),[l,c]=L.useState([]),d=async()=>{if(e.trim()){a(!0);try{const p=await fetch("https://symilegalback.vercel.app/api/contracts/suggest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:e})});if(p.ok){const g=await p.json();c(Array.isArray(g)?g:[g])}else console.error("Suggest failed:",p.status),c(["Contrat de prestation de services informatiques","Contrat de freelance développement web","Contrat de conseil en technologie"])}catch(p){console.error("Error:",p),c(["Contrat de prestation de services informatiques","Contrat de freelance développement web","Contrat de conseil en technologie"])}finally{a(!1)}}};return f.jsx("div",{className:"min-h-screen pt-16",children:f.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYMI BOND / CRÉATION CONTRAT"}),f.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Créer un contrat"}),f.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"L'AI vous aide à rédiger selon votre intent avec des questions spécifiques"})]}),f.jsxs("button",{onClick:()=>n("bond"),className:"px-10 py-4 border border-border hover:border-foreground transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[f.jsx(la,{className:"w-4 h-4",strokeWidth:2}),f.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Retour"})]})]})}),f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:f.jsxs("div",{className:"max-w-2xl",children:[f.jsx("label",{className:"block text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Décrivez votre projet"}),f.jsx("textarea",{value:e,onChange:p=>s(p.target.value),placeholder:"Ex: Je veux créer un contrat de freelance pour développement web avec paiement par jalons...",className:"w-full p-4 border border-border bg-background text-foreground placeholder:text-muted-foreground focus:border-accent focus:outline-none transition-colors duration-200",rows:4,style:{fontFamily:"var(--font-mono)",fontWeight:300}}),f.jsx("button",{onClick:d,disabled:i||!e.trim(),className:"mt-4 px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-accent-foreground border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Analyse en cours..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(ym,{className:"w-4 h-4",strokeWidth:2}),f.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Analyser avec l'AI"})]})})]})}),l.length>0&&f.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:[f.jsx("h3",{className:"text-[1.25rem] mb-6",style:{fontWeight:600},children:"Suggestions de l'AI"}),f.jsx("div",{className:"grid gap-4",children:l.map((p,g)=>f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:g*.1,ease:"linear"},className:"p-6 border border-border hover:border-accent transition-all duration-200 cursor-pointer",onClick:()=>n("bond-contract",p),children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center",children:f.jsx(ym,{className:"w-4 h-4 text-accent",strokeWidth:2})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[1rem] mb-1",style:{fontWeight:500},children:p}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Cliquez pour créer ce contrat"})]})]})},g))})]}),f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"text-center py-12",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsx("h3",{className:"text-[1.25rem] mb-4",style:{fontWeight:600},children:"Comment ça marche ?"}),f.jsxs("div",{className:"grid gap-4 text-left",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center mt-1",children:f.jsx("span",{className:"text-[0.75rem] text-accent font-bold",children:"1"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[0.875rem] mb-1",style:{fontWeight:500},children:"Décrivez votre projet"}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"L'AI analyse votre description pour comprendre votre intent"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center mt-1",children:f.jsx("span",{className:"text-[0.75rem] text-accent font-bold",children:"2"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[0.875rem] mb-1",style:{fontWeight:500},children:"Questions spécifiques"}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"L'AI pose des questions adaptées à votre type de contrat"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center mt-1",children:f.jsx("span",{className:"text-[0.75rem] text-accent font-bold",children:"3"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-[0.875rem] mb-1",style:{fontWeight:500},children:"Contrat personnalisé"}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Génération automatique avec vos réponses (montant ajouté par l'utilisateur)"})]})]})]})]})})]})})}function _T(){const[n,e]=L.useState("checking"),[s,i]=L.useState(null);return L.useEffect(()=>{async function a(){try{await mi.health(),e("online"),i(new Date)}catch{e("offline"),i(new Date)}}a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]),n==="checking"?null:f.jsx("div",{className:"fixed bottom-6 left-6 z-40 pointer-events-none",children:f.jsxs("div",{className:"flex items-center gap-2 bg-card/80 backdrop-blur-sm border border-border px-3 py-2",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n==="online"?"bg-accent animate-pulse":"bg-destructive"}`}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:n==="online"?"System Online":"System Offline"})]})})}const Iu=[{id:"signup",question:"Comment créer un compte ?",answer:`Cliquez sur "Connexion" en haut à droite, puis "S'inscrire". Remplissez vos informations et choisissez votre plan.`},{id:"plans",question:"Quels sont les plans disponibles ?",answer:"Nous proposons 3 plans : Pro (149€/mois), Cabinet (349€/mois), et Entreprise (sur consultation). Consultez la page Prix pour plus de détails."},{id:"templates",question:"Combien de templates sont disponibles ?",answer:"Nous proposons plus de 50 templates professionnels couvrant 3 juridictions (FR, UK, US), incluant contrats de travail, commerciaux, NDA, baux, etc."},{id:"export",question:"Comment exporter mes contrats ?",answer:"Avec le plan Pro et Cabinet, vous pouvez exporter en PDF et DOCX."},{id:"time",question:"Combien de temps prend la génération ?",answer:"La génération d'un contrat prend moins de 5 minutes en moyenne, de la sélection du template à l'export final."},{id:"lawyer",question:"Puis-je faire valider par un avocat ?",answer:"Le référencement avocat n'est pas inclus dans le plan Pro. Les partenaires Cabinet bénéficient d'un référencement prioritaire."},{id:"support",question:"Comment vous contacter ?",answer:"Envoyez-nous un email à contact@symi.io. Nous répondons sous 24h ouvrées. Les abonnés Pro et Cabinet bénéficient d'un support prioritaire."}];function ST(){const[n,e]=L.useState(!1),[s,i]=L.useState(null);return f.jsxs(f.Fragment,{children:[f.jsx(re.button,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.2,ease:"linear"},onClick:()=>e(!n),className:"fixed bottom-6 right-6 z-50 p-4 bg-accent text-accent-foreground shadow-lg hover:shadow-[0_0_24px_var(--accent-glow)] transition-all duration-200 border border-accent","aria-label":"Assistance",children:n?f.jsx(Py,{className:"w-6 h-6",strokeWidth:1.5}):f.jsx(Ty,{className:"w-6 h-6",strokeWidth:1.5})}),f.jsx(sa,{children:n&&f.jsxs(re.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2,ease:"linear"},className:"fixed bottom-24 right-6 z-50 w-[380px] max-h-[600px] bg-card border border-border shadow-2xl overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-border bg-accent/5",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),f.jsx("h3",{className:"text-[1rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Assistant SYMIONE"})]}),f.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Questions fréquentes"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:s?f.jsxs("div",{className:"p-6",children:[f.jsx("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-[0.75rem] text-accent hover:underline mb-4",style:{fontFamily:"var(--font-mono)"},children:"← Retour aux questions"}),f.jsx("div",{className:"bg-accent/5 p-4 border border-accent/10 mb-4",children:f.jsx("p",{className:"text-[0.875rem]",style:{fontWeight:600,lineHeight:1.5},children:Iu.find(a=>a.id===s)?.question})}),f.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:Iu.find(a=>a.id===s)?.answer})]}):f.jsx("div",{className:"p-4",children:f.jsx("div",{className:"space-y-2",children:Iu.map(a=>f.jsx("button",{onClick:()=>i(a.id),className:"w-full text-left p-3 hover:bg-accent/5 transition-colors duration-200 border border-transparent hover:border-accent/20 group",children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("span",{className:"text-[0.8125rem] flex-1",style:{lineHeight:1.5},children:a.question}),f.jsx(Z_,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent transition-colors duration-200",strokeWidth:1.5})]})},a.id))})})}),f.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[f.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Besoin d'aide supplémentaire ?"}),f.jsx("a",{href:"mailto:contact@symi.io",className:"block text-center text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})})]})}function kT(){const[n,e]=L.useState("home"),[s,i]=L.useState(["home"]),[a,l]=L.useState(null),[c,d]=L.useState(null),[p,g]=L.useState(null),[y,w]=L.useState("free"),x=(_,T,I)=>{i(O=>[...O,_]),e(_),T&&l(T),I&&d(I),window.scrollTo({top:0,behavior:"smooth"})},S=()=>{if(s.length>1){const _=[...s];_.pop();const T=_[_.length-1];i(_),e(T),window.scrollTo({top:0,behavior:"smooth"})}},C=s.length>1;return In.auth.onAuthStateChange(async(_,T)=>{const I=T?.user?.id||null;if(g(T?.user?.email||null),I)try{const{data:O}=await In.from("users").select("plan").eq("id",I).maybeSingle();w(O?.plan||"free")}catch{w("free")}else w("free")}),f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(F_,{currentView:n,onNavigate:x,canGoBack:C,onBack:S}),f.jsx("main",{className:"flex-1",children:f.jsxs(sa,{mode:"wait",children:[n==="home"&&f.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"linear"},children:[f.jsx(U_,{}),f.jsx(W_,{onNavigate:_=>{_==="contracts"&&x("contracts"),_==="editor"&&x("editor")},onNavigateConseiller:()=>x("conseiller")}),f.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:f.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},children:[f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-10",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CAPACITÉS SYSTÈME"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[{code:"TPL",title:"50+ Templates",description:"Bibliothèque professionnelle de modèles juridiques"},{code:"JUR",title:"3 Juridictions",description:"France, Royaume-Uni, États-Unis"},{code:"VIT",title:"Génération Rapide",description:"Moins de 5 minutes par contrat"}].map((_,T)=>f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:T*.06,ease:"linear"},className:"border-l border-border pl-4",children:[f.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-accent mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:_.code}),f.jsx("h3",{className:"text-[1.125rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:_.title}),f.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.6,fontFamily:"var(--font-mono)",fontWeight:300},children:_.description})]},_.code))})]})})}),f.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:f.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16",children:[{value:"50+",label:"Templates professionnels",unit:"DOCS"},{value:"3",label:"Juridictions",unit:"FR, UK, US"},{value:"<5",label:"Par contrat",unit:"MIN"}].map((_,T)=>f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:T*.08,ease:"linear"},className:"border-l-2 border-border pl-6",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx("div",{className:"text-[3.5rem] md:text-[4.5rem] tracking-[-0.03em] mb-2",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:_.value}),f.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground block",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:_.unit})]}),f.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:_.label})]},_.label))})})}),f.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:f.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:f.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"max-w-4xl",children:[f.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-2"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-[2rem] md:text-[3rem] mb-3 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Système prêt."}),f.jsxs("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:["50+ templates professionnels • 3 juridictions • Génération ","<5"," min"]})]})]}),f.jsx("p",{className:"text-[0.9375rem] mb-10",style:{lineHeight:1.7},children:"Automatisation juridique de précision pour pratique professionnelle. Démarrez la synthèse documentaire ou consultez un expert."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("button",{onClick:()=>x("login"),className:"px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["S'inscrire pour accéder",f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:f.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),f.jsx("button",{onClick:()=>x("conseiller"),className:"px-12 py-5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Conseiller juridique"})]})]})})})]},"home"),n==="contracts"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(US,{onBack:S,onSelectTemplate:(_,T)=>x("editor",_,T),plan:y})},"contracts"),n==="editor"&&a&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(fT,{templateId:a,jurisdiction:c||void 0,onBack:S})},"editor"),n==="conseiller"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(mT,{onBack:S})},"conseiller"),n==="pricing"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(yT,{onNavigate:x})},"pricing"),n==="login"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(vT,{onNavigate:x})},"login"),n==="docs"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(wT,{})},"docs"),n==="bond-create"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(bT,{onNavigate:x})},"bond-create"),n==="bond"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(BondSimpleView,{onNavigate:x})},"bond"),n==="contact"&&f.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:f.jsx(xT,{})},"contact")]})}),n==="home"&&f.jsx($_,{}),f.jsx(MS,{}),f.jsx(_T,{}),f.jsx(ST,{})]})}rw.createRoot(document.getElementById("root")).render(f.jsx(kT,{}));
