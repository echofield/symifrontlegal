(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function ag(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cx(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),s}var fu={exports:{}},ei={},pu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function dx(){if(op)return he;op=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function E(C,U,de){this.props=C,this.context=U,this.refs=k,this.updater=de||_}E.prototype.isReactComponent={},E.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},E.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function I(){}I.prototype=E.prototype;function L(C,U,de){this.props=C,this.context=U,this.refs=k,this.updater=de||_}var A=L.prototype=new I;A.constructor=L,T(A,E.prototype),A.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,B={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function M(C,U,de){var fe,ge={},ye=null,Se=null;if(U!=null)for(fe in U.ref!==void 0&&(Se=U.ref),U.key!==void 0&&(ye=""+U.key),U)F.call(U,fe)&&!K.hasOwnProperty(fe)&&(ge[fe]=U[fe]);var we=arguments.length-2;if(we===1)ge.children=de;else if(1<we){for(var Ce=Array(we),xt=0;xt<we;xt++)Ce[xt]=arguments[xt+2];ge.children=Ce}if(C&&C.defaultProps)for(fe in we=C.defaultProps,we)ge[fe]===void 0&&(ge[fe]=we[fe]);return{$$typeof:n,type:C,key:ye,ref:Se,props:ge,_owner:B.current}}function te(C,U){return{$$typeof:n,type:C.type,key:U,ref:C.ref,props:C.props,_owner:C._owner}}function xe(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Le(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return U[de]})}var pe=/\/+/g;function Ve(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Le(""+C.key):U.toString(36)}function ue(C,U,de,fe,ge){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var Se=!1;if(C===null)Se=!0;else switch(ye){case"string":case"number":Se=!0;break;case"object":switch(C.$$typeof){case n:case e:Se=!0}}if(Se)return Se=C,ge=ge(Se),C=fe===""?"."+Ve(Se,0):fe,D(ge)?(de="",C!=null&&(de=C.replace(pe,"$&/")+"/"),ue(ge,U,de,"",function(xt){return xt})):ge!=null&&(xe(ge)&&(ge=te(ge,de+(!ge.key||Se&&Se.key===ge.key?"":(""+ge.key).replace(pe,"$&/")+"/")+C)),U.push(ge)),1;if(Se=0,fe=fe===""?".":fe+":",D(C))for(var we=0;we<C.length;we++){ye=C[we];var Ce=fe+Ve(ye,we);Se+=ue(ye,U,de,Ce,ge)}else if(Ce=w(C),typeof Ce=="function")for(C=Ce.call(C),we=0;!(ye=C.next()).done;)ye=ye.value,Ce=fe+Ve(ye,we++),Se+=ue(ye,U,de,Ce,ge);else if(ye==="object")throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Se}function H(C,U,de){if(C==null)return C;var fe=[],ge=0;return ue(C,fe,"","",function(ye){return U.call(de,ye,ge++)}),fe}function _e(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var oe={current:null},z={transition:null},Z={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:z,ReactCurrentOwner:B};function G(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:H,forEach:function(C,U,de){H(C,function(){U.apply(this,arguments)},de)},count:function(C){var U=0;return H(C,function(){U++}),U},toArray:function(C){return H(C,function(U){return U})||[]},only:function(C){if(!xe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},he.Component=E,he.Fragment=s,he.Profiler=a,he.PureComponent=L,he.StrictMode=i,he.Suspense=p,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,he.act=G,he.cloneElement=function(C,U,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var fe=T({},C.props),ge=C.key,ye=C.ref,Se=C._owner;if(U!=null){if(U.ref!==void 0&&(ye=U.ref,Se=B.current),U.key!==void 0&&(ge=""+U.key),C.type&&C.type.defaultProps)var we=C.type.defaultProps;for(Ce in U)F.call(U,Ce)&&!K.hasOwnProperty(Ce)&&(fe[Ce]=U[Ce]===void 0&&we!==void 0?we[Ce]:U[Ce])}var Ce=arguments.length-2;if(Ce===1)fe.children=de;else if(1<Ce){we=Array(Ce);for(var xt=0;xt<Ce;xt++)we[xt]=arguments[xt+2];fe.children=we}return{$$typeof:n,type:C.type,key:ge,ref:ye,props:fe,_owner:Se}},he.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},he.createElement=M,he.createFactory=function(C){var U=M.bind(null,C);return U.type=C,U},he.createRef=function(){return{current:null}},he.forwardRef=function(C){return{$$typeof:d,render:C}},he.isValidElement=xe,he.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:_e}},he.memo=function(C,U){return{$$typeof:g,type:C,compare:U===void 0?null:U}},he.startTransition=function(C){var U=z.transition;z.transition={};try{C()}finally{z.transition=U}},he.unstable_act=G,he.useCallback=function(C,U){return oe.current.useCallback(C,U)},he.useContext=function(C){return oe.current.useContext(C)},he.useDebugValue=function(){},he.useDeferredValue=function(C){return oe.current.useDeferredValue(C)},he.useEffect=function(C,U){return oe.current.useEffect(C,U)},he.useId=function(){return oe.current.useId()},he.useImperativeHandle=function(C,U,de){return oe.current.useImperativeHandle(C,U,de)},he.useInsertionEffect=function(C,U){return oe.current.useInsertionEffect(C,U)},he.useLayoutEffect=function(C,U){return oe.current.useLayoutEffect(C,U)},he.useMemo=function(C,U){return oe.current.useMemo(C,U)},he.useReducer=function(C,U,de){return oe.current.useReducer(C,U,de)},he.useRef=function(C){return oe.current.useRef(C)},he.useState=function(C){return oe.current.useState(C)},he.useSyncExternalStore=function(C,U,de){return oe.current.useSyncExternalStore(C,U,de)},he.useTransition=function(){return oe.current.useTransition()},he.version="18.3.1",he}var ap;function Sc(){return ap||(ap=1,pu.exports=dx()),pu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function hx(){if(lp)return ei;lp=1;var n=Sc(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var y,x={},w=null,_=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)i.call(p,y)&&!l.hasOwnProperty(y)&&(x[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)x[y]===void 0&&(x[y]=p[y]);return{$$typeof:e,type:d,key:w,ref:_,props:x,_owner:a.current}}return ei.Fragment=s,ei.jsx=c,ei.jsxs=c,ei}var up;function fx(){return up||(up=1,fu.exports=hx()),fu.exports}var h=fx(),Uo={},mu={exports:{}},gt={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function px(){return cp||(cp=1,(function(n){function e(z,Z){var G=z.length;z.push(Z);e:for(;0<G;){var C=G-1>>>1,U=z[C];if(0<a(U,Z))z[C]=Z,z[G]=U,G=C;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Z=z[0],G=z.pop();if(G!==Z){z[0]=G;e:for(var C=0,U=z.length,de=U>>>1;C<de;){var fe=2*(C+1)-1,ge=z[fe],ye=fe+1,Se=z[ye];if(0>a(ge,G))ye<U&&0>a(Se,ge)?(z[C]=Se,z[ye]=G,C=ye):(z[C]=ge,z[fe]=G,C=fe);else if(ye<U&&0>a(Se,G))z[C]=Se,z[ye]=G,C=ye;else break e}}return Z}function a(z,Z){var G=z.sortIndex-Z.sortIndex;return G!==0?G:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,x=null,w=3,_=!1,T=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var Z=s(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=z)i(g),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=s(g)}}function D(z){if(k=!1,A(z),!T)if(s(p)!==null)T=!0,_e(F);else{var Z=s(g);Z!==null&&oe(D,Z.startTime-z)}}function F(z,Z){T=!1,k&&(k=!1,I(M),M=-1),_=!0;var G=w;try{for(A(Z),x=s(p);x!==null&&(!(x.expirationTime>Z)||z&&!Le());){var C=x.callback;if(typeof C=="function"){x.callback=null,w=x.priorityLevel;var U=C(x.expirationTime<=Z);Z=n.unstable_now(),typeof U=="function"?x.callback=U:x===s(p)&&i(p),A(Z)}else i(p);x=s(p)}if(x!==null)var de=!0;else{var fe=s(g);fe!==null&&oe(D,fe.startTime-Z),de=!1}return de}finally{x=null,w=G,_=!1}}var B=!1,K=null,M=-1,te=5,xe=-1;function Le(){return!(n.unstable_now()-xe<te)}function pe(){if(K!==null){var z=n.unstable_now();xe=z;var Z=!0;try{Z=K(!0,z)}finally{Z?Ve():(B=!1,K=null)}}else B=!1}var Ve;if(typeof L=="function")Ve=function(){L(pe)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,H=ue.port2;ue.port1.onmessage=pe,Ve=function(){H.postMessage(null)}}else Ve=function(){E(pe,0)};function _e(z){K=z,B||(B=!0,Ve())}function oe(z,Z){M=E(function(){z(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,_e(F))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var G=w;w=Z;try{return z()}finally{w=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=w;w=z;try{return Z()}finally{w=G}},n.unstable_scheduleCallback=function(z,Z,G){var C=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?C+G:C):G=C,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=G+U,z={id:y++,callback:Z,priorityLevel:z,startTime:G,expirationTime:U,sortIndex:-1},G>C?(z.sortIndex=G,e(g,z),s(p)===null&&z===s(g)&&(k?(I(M),M=-1):k=!0,oe(D,G-C))):(z.sortIndex=U,e(p,z),T||_||(T=!0,_e(F))),z},n.unstable_shouldYield=Le,n.unstable_wrapCallback=function(z){var Z=w;return function(){var G=w;w=Z;try{return z.apply(this,arguments)}finally{w=G}}}})(yu)),yu}var dp;function mx(){return dp||(dp=1,gu.exports=px()),gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function gx(){if(hp)return gt;hp=1;var n=Sc(),e=mx();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function w(t){return p.call(x,t)?!0:p.call(y,t)?!1:g.test(t)?x[t]=!0:(y[t]=!0,!1)}function _(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T(t,r,o,u){if(r===null||typeof r>"u"||_(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(t,r,o,u,f,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];E[r]=new k(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(I,L);E[r]=new k(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(I,L);E[r]=new k(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(I,L);E[r]=new k(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function A(t,r,o,u){var f=E.hasOwnProperty(r)?E[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(T(r,o,f,u)&&(o=null),u||f===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),Le=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,C;function U(t){if(C===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+t}var de=!1;function fe(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(O){var u=O}Reflect.construct(t,[],r)}else{try{r.call()}catch(O){u=O}t.call(r.prototype)}else{try{throw Error()}catch(O){u=O}t()}}catch(O){if(O&&u&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),m=u.stack.split(`
`),v=f.length-1,b=m.length-1;1<=v&&0<=b&&f[v]!==m[b];)b--;for(;1<=v&&0<=b;v--,b--)if(f[v]!==m[b]){if(v!==1||b!==1)do if(v--,b--,0>b||f[v]!==m[b]){var S=`
`+f[v].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=v&&0<=b);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?U(t):""}function ge(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case B:return"Portal";case te:return"Profiler";case M:return"StrictMode";case Ve:return"Suspense";case ue:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Le:return(t.displayName||"Context")+".Consumer";case xe:return(t._context.displayName||"Context")+".Provider";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case _e:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}function Se(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function we(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ce(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xt(t){var r=Ce(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ni(t){t._valueTracker||(t._valueTracker=xt(t))}function dd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Ce(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wa(t,r){var o=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function hd(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=we(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function fd(t,r){r=r.checked,r!=null&&A(t,"checked",r,!1)}function ba(t,r){fd(t,r);var o=we(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?_a(t,r.type,o):r.hasOwnProperty("defaultValue")&&_a(t,r.type,we(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function pd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function _a(t,r,o){(r!=="number"||Pi(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ms=Array.isArray;function fr(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+we(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Sa(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function md(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(s(92));if(ms(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:we(o)}}function gd(t,r){var o=we(r.value),u=we(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function yd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function vd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?vd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ai,xd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ai.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gs(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pv=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(t){pv.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ys[r]=ys[t]})});function wd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ys.hasOwnProperty(t)&&ys[t]?(""+r).trim():r+"px"}function bd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=wd(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var mv=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(t,r){if(r){if(mv[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Ea(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,pr=null,mr=null;function _d(t){if(t=$s(t)){if(typeof Na!="function")throw Error(s(280));var r=t.stateNode;r&&(r=eo(r),Na(t.stateNode,t.type,r))}}function Sd(t){pr?mr?mr.push(t):mr=[t]:pr=t}function kd(){if(pr){var t=pr,r=mr;if(mr=pr=null,_d(t),r)for(t=0;t<r.length;t++)_d(r[t])}}function jd(t,r){return t(r)}function Ed(){}var Pa=!1;function Td(t,r,o){if(Pa)return t(r,o);Pa=!0;try{return jd(t,r,o)}finally{Pa=!1,(pr!==null||mr!==null)&&(Ed(),kd())}}function vs(t,r){var o=t.stateNode;if(o===null)return null;var u=eo(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Aa=!1;if(d)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Aa=!1}function gv(t,r,o,u,f,m,v,b,S){var O=Array.prototype.slice.call(arguments,3);try{r.apply(o,O)}catch(V){this.onError(V)}}var ws=!1,Ri=null,Oi=!1,Ra=null,yv={onError:function(t){ws=!0,Ri=t}};function vv(t,r,o,u,f,m,v,b,S){ws=!1,Ri=null,gv.apply(yv,arguments)}function xv(t,r,o,u,f,m,v,b,S){if(vv.apply(this,arguments),ws){if(ws){var O=Ri;ws=!1,Ri=null}else throw Error(s(198));Oi||(Oi=!0,Ra=O)}}function Un(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Cd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Nd(t){if(Un(t)!==t)throw Error(s(188))}function wv(t){var r=t.alternate;if(!r){if(r=Un(t),r===null)throw Error(s(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Nd(f),t;if(m===u)return Nd(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var v=!1,b=f.child;b;){if(b===o){v=!0,o=f,u=m;break}if(b===u){v=!0,u=f,o=m;break}b=b.sibling}if(!v){for(b=m.child;b;){if(b===o){v=!0,o=m,u=f;break}if(b===u){v=!0,u=m,o=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:r}function Pd(t){return t=wv(t),t!==null?Ad(t):null}function Ad(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ad(t);if(r!==null)return r;t=t.sibling}return null}var Rd=e.unstable_scheduleCallback,Od=e.unstable_cancelCallback,bv=e.unstable_shouldYield,_v=e.unstable_requestPaint,Fe=e.unstable_now,Sv=e.unstable_getCurrentPriorityLevel,Oa=e.unstable_ImmediatePriority,Id=e.unstable_UserBlockingPriority,Ii=e.unstable_NormalPriority,kv=e.unstable_LowPriority,Ld=e.unstable_IdlePriority,Li=null,qt=null;function jv(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Cv,Ev=Math.log,Tv=Math.LN2;function Cv(t){return t>>>=0,t===0?32:31-(Ev(t)/Tv|0)|0}var Di=64,Mi=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes,v=o&268435455;if(v!==0){var b=v&~f;b!==0?u=bs(b):(m&=v,m!==0&&(u=bs(m)))}else v=o&~f,v!==0?u=bs(v):m!==0&&(u=bs(m));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Lt(r),f=1<<o,u|=t[o],r&=~f;return u}function Nv(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pv(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-Lt(m),b=1<<v,S=f[v];S===-1?((b&o)===0||(b&u)!==0)&&(f[v]=Nv(b,r)):S<=r&&(t.expiredLanes|=b),m&=~b}}function Ia(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dd(){var t=Di;return Di<<=1,(Di&4194240)===0&&(Di=64),t}function La(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function _s(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Lt(r),t[r]=o}function Av(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Lt(o),m=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~m}}function Da(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Lt(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var be=0;function Md(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Fd,Ma,$d,Ud,Vd,Fa=!1,$i=[],hn=null,fn=null,pn=null,Ss=new Map,ks=new Map,mn=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bd(t,r){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ss.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(r.pointerId)}}function js(t,r,o,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=$s(r),r!==null&&Ma(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ov(t,r,o,u,f){switch(r){case"focusin":return hn=js(hn,t,r,o,u,f),!0;case"dragenter":return fn=js(fn,t,r,o,u,f),!0;case"mouseover":return pn=js(pn,t,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return Ss.set(m,js(Ss.get(m)||null,t,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ks.set(m,js(ks.get(m)||null,t,r,o,u,f)),!0}return!1}function Wd(t){var r=Vn(t.target);if(r!==null){var o=Un(r);if(o!==null){if(r=o.tag,r===13){if(r=Cd(o),r!==null){t.blockedOn=r,Vd(t.priority,function(){$d(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ui(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ua(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ta=u,o.target.dispatchEvent(u),Ta=null}else return r=$s(o),r!==null&&Ma(r),t.blockedOn=o,!1;r.shift()}return!0}function zd(t,r,o){Ui(t)&&o.delete(r)}function Iv(){Fa=!1,hn!==null&&Ui(hn)&&(hn=null),fn!==null&&Ui(fn)&&(fn=null),pn!==null&&Ui(pn)&&(pn=null),Ss.forEach(zd),ks.forEach(zd)}function Es(t,r){t.blockedOn===r&&(t.blockedOn=null,Fa||(Fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iv)))}function Ts(t){function r(f){return Es(f,t)}if(0<$i.length){Es($i[0],t);for(var o=1;o<$i.length;o++){var u=$i[o];u.blockedOn===t&&(u.blockedOn=null)}}for(hn!==null&&Es(hn,t),fn!==null&&Es(fn,t),pn!==null&&Es(pn,t),Ss.forEach(r),ks.forEach(r),o=0;o<mn.length;o++)u=mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<mn.length&&(o=mn[0],o.blockedOn===null);)Wd(o),o.blockedOn===null&&mn.shift()}var gr=D.ReactCurrentBatchConfig,Vi=!0;function Lv(t,r,o,u){var f=be,m=gr.transition;gr.transition=null;try{be=1,$a(t,r,o,u)}finally{be=f,gr.transition=m}}function Dv(t,r,o,u){var f=be,m=gr.transition;gr.transition=null;try{be=4,$a(t,r,o,u)}finally{be=f,gr.transition=m}}function $a(t,r,o,u){if(Vi){var f=Ua(t,r,o,u);if(f===null)rl(t,r,u,Bi,o),Bd(t,u);else if(Ov(f,t,r,o,u))u.stopPropagation();else if(Bd(t,u),r&4&&-1<Rv.indexOf(t)){for(;f!==null;){var m=$s(f);if(m!==null&&Fd(m),m=Ua(t,r,o,u),m===null&&rl(t,r,u,Bi,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else rl(t,r,u,null,o)}}var Bi=null;function Ua(t,r,o,u){if(Bi=null,t=Ca(u),t=Vn(t),t!==null)if(r=Un(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Cd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Bi=t,null}function qd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case Oa:return 1;case Id:return 4;case Ii:case kv:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var gn=null,Va=null,Wi=null;function Hd(){if(Wi)return Wi;var t,r=Va,o=r.length,u,f="value"in gn?gn.value:gn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===f[m-u];u++);return Wi=f.slice(t,1<u?1-u:void 0)}function zi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Kd(){return!1}function wt(t){function r(o,u,f,m,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(o=t[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qi:Kd,this.isPropagationStopped=Kd,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=wt(yr),Cs=G({},yr,{view:0,detail:0}),Mv=wt(Cs),Wa,za,Ns,Hi=G({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(Wa=t.screenX-Ns.screenX,za=t.screenY-Ns.screenY):za=Wa=0,Ns=t),Wa)},movementY:function(t){return"movementY"in t?t.movementY:za}}),Gd=wt(Hi),Fv=G({},Hi,{dataTransfer:0}),$v=wt(Fv),Uv=G({},Cs,{relatedTarget:0}),qa=wt(Uv),Vv=G({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=wt(Vv),Wv=G({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zv=wt(Wv),qv=G({},yr,{data:0}),Jd=wt(qv),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Gv[t])?!!r[t]:!1}function Ha(){return Jv}var Yv=G({},Cs,{key:function(t){if(t.key){var r=Hv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qv=wt(Yv),Xv=G({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=wt(Xv),Zv=G({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),e0=wt(Zv),t0=G({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=wt(t0),r0=G({},Hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=wt(r0),i0=[9,13,27,32],Ka=d&&"CompositionEvent"in window,Ps=null;d&&"documentMode"in document&&(Ps=document.documentMode);var o0=d&&"TextEvent"in window&&!Ps,Qd=d&&(!Ka||Ps&&8<Ps&&11>=Ps),Xd=" ",Zd=!1;function eh(t,r){switch(t){case"keyup":return i0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function a0(t,r){switch(t){case"compositionend":return th(r);case"keypress":return r.which!==32?null:(Zd=!0,Xd);case"textInput":return t=r.data,t===Xd&&Zd?null:t;default:return null}}function l0(t,r){if(vr)return t==="compositionend"||!Ka&&eh(t,r)?(t=Hd(),Wi=Va=gn=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qd&&r.locale!=="ko"?null:r.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!u0[t.type]:r==="textarea"}function rh(t,r,o,u){Sd(u),r=Qi(r,"onChange"),0<r.length&&(o=new Ba("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var As=null,Rs=null;function c0(t){bh(t,0)}function Ki(t){var r=Sr(t);if(dd(r))return t}function d0(t,r){if(t==="change")return r}var sh=!1;if(d){var Ga;if(d){var Ja="oninput"in document;if(!Ja){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Ja=typeof ih.oninput=="function"}Ga=Ja}else Ga=!1;sh=Ga&&(!document.documentMode||9<document.documentMode)}function oh(){As&&(As.detachEvent("onpropertychange",ah),Rs=As=null)}function ah(t){if(t.propertyName==="value"&&Ki(Rs)){var r=[];rh(r,Rs,t,Ca(t)),Td(c0,r)}}function h0(t,r,o){t==="focusin"?(oh(),As=r,Rs=o,As.attachEvent("onpropertychange",ah)):t==="focusout"&&oh()}function f0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ki(Rs)}function p0(t,r){if(t==="click")return Ki(r)}function m0(t,r){if(t==="input"||t==="change")return Ki(r)}function g0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dt=typeof Object.is=="function"?Object.is:g0;function Os(t,r){if(Dt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!p.call(r,f)||!Dt(t[f],r[f]))return!1}return!0}function lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uh(t,r){var o=lh(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lh(o)}}function ch(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ch(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function dh(){for(var t=window,r=Pi();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Pi(t.document)}return r}function Ya(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function y0(t){var r=dh(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&ch(o.ownerDocument.documentElement,o)){if(u!==null&&Ya(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!t.extend&&m>u&&(f=u,u=m,m=f),f=uh(o,m);var v=uh(o,u);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v0=d&&"documentMode"in document&&11>=document.documentMode,xr=null,Qa=null,Is=null,Xa=!1;function hh(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xa||xr==null||xr!==Pi(u)||(u=xr,"selectionStart"in u&&Ya(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Is&&Os(Is,u)||(Is=u,u=Qi(Qa,"onSelect"),0<u.length&&(r=new Ba("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=xr)))}function Gi(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var wr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Za={},fh={};d&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Ji(t){if(Za[t])return Za[t];if(!wr[t])return t;var r=wr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in fh)return Za[t]=r[o];return t}var ph=Ji("animationend"),mh=Ji("animationiteration"),gh=Ji("animationstart"),yh=Ji("transitionend"),vh=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(t,r){vh.set(t,r),l(r,[t])}for(var el=0;el<xh.length;el++){var tl=xh[el],x0=tl.toLowerCase(),w0=tl[0].toUpperCase()+tl.slice(1);yn(x0,"on"+w0)}yn(ph,"onAnimationEnd"),yn(mh,"onAnimationIteration"),yn(gh,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(yh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function wh(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,xv(u,r,void 0,t),t.currentTarget=null}function bh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var v=u.length-1;0<=v;v--){var b=u[v],S=b.instance,O=b.currentTarget;if(b=b.listener,S!==m&&f.isPropagationStopped())break e;wh(f,b,O),m=S}else for(v=0;v<u.length;v++){if(b=u[v],S=b.instance,O=b.currentTarget,b=b.listener,S!==m&&f.isPropagationStopped())break e;wh(f,b,O),m=S}}}if(Oi)throw t=Ra,Oi=!1,Ra=null,t}function Ee(t,r){var o=r[ul];o===void 0&&(o=r[ul]=new Set);var u=t+"__bubble";o.has(u)||(_h(r,t,2,!1),o.add(u))}function nl(t,r,o){var u=0;r&&(u|=4),_h(o,t,u,r)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Ds(t){if(!t[Yi]){t[Yi]=!0,i.forEach(function(o){o!=="selectionchange"&&(b0.has(o)||nl(o,!1,t),nl(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yi]||(r[Yi]=!0,nl("selectionchange",!1,r))}}function _h(t,r,o,u){switch(qd(r)){case 1:var f=Lv;break;case 4:f=Dv;break;default:f=$a}o=f.bind(null,r,o,t),f=void 0,!Aa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function rl(t,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;v=v.return}for(;b!==null;){if(v=Vn(b),v===null)return;if(S=v.tag,S===5||S===6){u=m=v;continue e}b=b.parentNode}}u=u.return}Td(function(){var O=m,V=Ca(o),W=[];e:{var $=vh.get(t);if($!==void 0){var J=Ba,Q=t;switch(t){case"keypress":if(zi(o)===0)break e;case"keydown":case"keyup":J=Qv;break;case"focusin":Q="focus",J=qa;break;case"focusout":Q="blur",J=qa;break;case"beforeblur":case"afterblur":J=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=e0;break;case ph:case mh:case gh:J=Bv;break;case yh:J=n0;break;case"scroll":J=Mv;break;case"wheel":J=s0;break;case"copy":case"cut":case"paste":J=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Yd}var X=(r&4)!==0,$e=!X&&t==="scroll",N=X?$!==null?$+"Capture":null:$;X=[];for(var j=O,P;j!==null;){P=j;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,N!==null&&(q=vs(j,N),q!=null&&X.push(Ms(j,q,P)))),$e)break;j=j.return}0<X.length&&($=new J($,Q,null,o,V),W.push({event:$,listeners:X}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",$&&o!==Ta&&(Q=o.relatedTarget||o.fromElement)&&(Vn(Q)||Q[en]))break e;if((J||$)&&($=V.window===V?V:($=V.ownerDocument)?$.defaultView||$.parentWindow:window,J?(Q=o.relatedTarget||o.toElement,J=O,Q=Q?Vn(Q):null,Q!==null&&($e=Un(Q),Q!==$e||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(J=null,Q=O),J!==Q)){if(X=Gd,q="onMouseLeave",N="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(X=Yd,q="onPointerLeave",N="onPointerEnter",j="pointer"),$e=J==null?$:Sr(J),P=Q==null?$:Sr(Q),$=new X(q,j+"leave",J,o,V),$.target=$e,$.relatedTarget=P,q=null,Vn(V)===O&&(X=new X(N,j+"enter",Q,o,V),X.target=P,X.relatedTarget=$e,q=X),$e=q,J&&Q)t:{for(X=J,N=Q,j=0,P=X;P;P=br(P))j++;for(P=0,q=N;q;q=br(q))P++;for(;0<j-P;)X=br(X),j--;for(;0<P-j;)N=br(N),P--;for(;j--;){if(X===N||N!==null&&X===N.alternate)break t;X=br(X),N=br(N)}X=null}else X=null;J!==null&&Sh(W,$,J,X,!1),Q!==null&&$e!==null&&Sh(W,$e,Q,X,!0)}}e:{if($=O?Sr(O):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var ee=d0;else if(nh($))if(sh)ee=m0;else{ee=f0;var ne=h0}else(J=$.nodeName)&&J.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ee=p0);if(ee&&(ee=ee(t,O))){rh(W,ee,o,V);break e}ne&&ne(t,$,O),t==="focusout"&&(ne=$._wrapperState)&&ne.controlled&&$.type==="number"&&_a($,"number",$.value)}switch(ne=O?Sr(O):window,t){case"focusin":(nh(ne)||ne.contentEditable==="true")&&(xr=ne,Qa=O,Is=null);break;case"focusout":Is=Qa=xr=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,hh(W,o,V);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":hh(W,o,V)}var re;if(Ka)e:{switch(t){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else vr?eh(t,o)&&(le="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(le="onCompositionStart");le&&(Qd&&o.locale!=="ko"&&(vr||le!=="onCompositionStart"?le==="onCompositionEnd"&&vr&&(re=Hd()):(gn=V,Va="value"in gn?gn.value:gn.textContent,vr=!0)),ne=Qi(O,le),0<ne.length&&(le=new Jd(le,t,null,o,V),W.push({event:le,listeners:ne}),re?le.data=re:(re=th(o),re!==null&&(le.data=re)))),(re=o0?a0(t,o):l0(t,o))&&(O=Qi(O,"onBeforeInput"),0<O.length&&(V=new Jd("onBeforeInput","beforeinput",null,o,V),W.push({event:V,listeners:O}),V.data=re))}bh(W,r)})}function Ms(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Qi(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=vs(t,o),m!=null&&u.unshift(Ms(t,m,f)),m=vs(t,r),m!=null&&u.push(Ms(t,m,f))),t=t.return}return u}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sh(t,r,o,u,f){for(var m=r._reactName,v=[];o!==null&&o!==u;){var b=o,S=b.alternate,O=b.stateNode;if(S!==null&&S===u)break;b.tag===5&&O!==null&&(b=O,f?(S=vs(o,m),S!=null&&v.unshift(Ms(o,S,b))):f||(S=vs(o,m),S!=null&&v.push(Ms(o,S,b)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var _0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function kh(t){return(typeof t=="string"?t:""+t).replace(_0,`
`).replace(S0,"")}function Xi(t,r,o){if(r=kh(r),kh(t)!==r&&o)throw Error(s(425))}function Zi(){}var sl=null,il=null;function ol(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,jh=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof jh<"u"?function(t){return jh.resolve(null).then(t).catch(E0)}:al;function E0(t){setTimeout(function(){throw t})}function ll(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Ts(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Ts(r)}function vn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Eh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Ht="__reactFiber$"+_r,Fs="__reactProps$"+_r,en="__reactContainer$"+_r,ul="__reactEvents$"+_r,T0="__reactListeners$"+_r,C0="__reactHandles$"+_r;function Vn(t){var r=t[Ht];if(r)return r;for(var o=t.parentNode;o;){if(r=o[en]||o[Ht]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Eh(t);t!==null;){if(o=t[Ht])return o;t=Eh(t)}return r}t=o,o=t.parentNode}return null}function $s(t){return t=t[Ht]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function eo(t){return t[Fs]||null}var cl=[],kr=-1;function xn(t){return{current:t}}function Te(t){0>kr||(t.current=cl[kr],cl[kr]=null,kr--)}function ke(t,r){kr++,cl[kr]=t.current,t.current=r}var wn={},rt=xn(wn),dt=xn(!1),Bn=wn;function jr(t,r){var o=t.type.contextTypes;if(!o)return wn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function ht(t){return t=t.childContextTypes,t!=null}function to(){Te(dt),Te(rt)}function Th(t,r,o){if(rt.current!==wn)throw Error(s(168));ke(rt,r),ke(dt,o)}function Ch(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(s(108,Se(t)||"Unknown",f));return G({},o,u)}function no(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Bn=rt.current,ke(rt,t),ke(dt,dt.current),!0}function Nh(t,r,o){var u=t.stateNode;if(!u)throw Error(s(169));o?(t=Ch(t,r,Bn),u.__reactInternalMemoizedMergedChildContext=t,Te(dt),Te(rt),ke(rt,t)):Te(dt),ke(dt,o)}var tn=null,ro=!1,dl=!1;function Ph(t){tn===null?tn=[t]:tn.push(t)}function N0(t){ro=!0,Ph(t)}function bn(){if(!dl&&tn!==null){dl=!0;var t=0,r=be;try{var o=tn;for(be=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}tn=null,ro=!1}catch(f){throw tn!==null&&(tn=tn.slice(t+1)),Rd(Oa,bn),f}finally{be=r,dl=!1}}return null}var Er=[],Tr=0,so=null,io=0,jt=[],Et=0,Wn=null,nn=1,rn="";function zn(t,r){Er[Tr++]=io,Er[Tr++]=so,so=t,io=r}function Ah(t,r,o){jt[Et++]=nn,jt[Et++]=rn,jt[Et++]=Wn,Wn=t;var u=nn;t=rn;var f=32-Lt(u)-1;u&=~(1<<f),o+=1;var m=32-Lt(r)+f;if(30<m){var v=f-f%5;m=(u&(1<<v)-1).toString(32),u>>=v,f-=v,nn=1<<32-Lt(r)+f|o<<f|u,rn=m+t}else nn=1<<m|o<<f|u,rn=t}function hl(t){t.return!==null&&(zn(t,1),Ah(t,1,0))}function fl(t){for(;t===so;)so=Er[--Tr],Er[Tr]=null,io=Er[--Tr],Er[Tr]=null;for(;t===Wn;)Wn=jt[--Et],jt[Et]=null,rn=jt[--Et],jt[Et]=null,nn=jt[--Et],jt[Et]=null}var bt=null,_t=null,Ne=!1,Mt=null;function Rh(t,r){var o=Pt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Oh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,bt=t,_t=vn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,bt=t,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Wn!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Pt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,bt=t,_t=null,!0):!1;default:return!1}}function pl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ml(t){if(Ne){var r=_t;if(r){var o=r;if(!Oh(t,r)){if(pl(t))throw Error(s(418));r=vn(o.nextSibling);var u=bt;r&&Oh(t,r)?Rh(u,o):(t.flags=t.flags&-4097|2,Ne=!1,bt=t)}}else{if(pl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ne=!1,bt=t}}}function Ih(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function oo(t){if(t!==bt)return!1;if(!Ne)return Ih(t),Ne=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ol(t.type,t.memoizedProps)),r&&(r=_t)){if(pl(t))throw Lh(),Error(s(418));for(;r;)Rh(t,r),r=vn(r.nextSibling)}if(Ih(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){_t=vn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}_t=null}}else _t=bt?vn(t.stateNode.nextSibling):null;return!0}function Lh(){for(var t=_t;t;)t=vn(t.nextSibling)}function Cr(){_t=bt=null,Ne=!1}function gl(t){Mt===null?Mt=[t]:Mt.push(t)}var P0=D.ReactCurrentBatchConfig;function Us(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var u=o.stateNode}if(!u)throw Error(s(147,t));var f=u,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var b=f.refs;v===null?delete b[m]:b[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,t))}return t}function ao(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Dh(t){var r=t._init;return r(t._payload)}function Mh(t){function r(N,j){if(t){var P=N.deletions;P===null?(N.deletions=[j],N.flags|=16):P.push(j)}}function o(N,j){if(!t)return null;for(;j!==null;)r(N,j),j=j.sibling;return null}function u(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function f(N,j){return N=Nn(N,j),N.index=0,N.sibling=null,N}function m(N,j,P){return N.index=P,t?(P=N.alternate,P!==null?(P=P.index,P<j?(N.flags|=2,j):P):(N.flags|=2,j)):(N.flags|=1048576,j)}function v(N){return t&&N.alternate===null&&(N.flags|=2),N}function b(N,j,P,q){return j===null||j.tag!==6?(j=au(P,N.mode,q),j.return=N,j):(j=f(j,P),j.return=N,j)}function S(N,j,P,q){var ee=P.type;return ee===K?V(N,j,P.props.children,q,P.key):j!==null&&(j.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===_e&&Dh(ee)===j.type)?(q=f(j,P.props),q.ref=Us(N,j,P),q.return=N,q):(q=Ro(P.type,P.key,P.props,null,N.mode,q),q.ref=Us(N,j,P),q.return=N,q)}function O(N,j,P,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=lu(P,N.mode,q),j.return=N,j):(j=f(j,P.children||[]),j.return=N,j)}function V(N,j,P,q,ee){return j===null||j.tag!==7?(j=Xn(P,N.mode,q,ee),j.return=N,j):(j=f(j,P),j.return=N,j)}function W(N,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return j=au(""+j,N.mode,P),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return P=Ro(j.type,j.key,j.props,null,N.mode,P),P.ref=Us(N,null,j),P.return=N,P;case B:return j=lu(j,N.mode,P),j.return=N,j;case _e:var q=j._init;return W(N,q(j._payload),P)}if(ms(j)||Z(j))return j=Xn(j,N.mode,P,null),j.return=N,j;ao(N,j)}return null}function $(N,j,P,q){var ee=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ee!==null?null:b(N,j,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ee?S(N,j,P,q):null;case B:return P.key===ee?O(N,j,P,q):null;case _e:return ee=P._init,$(N,j,ee(P._payload),q)}if(ms(P)||Z(P))return ee!==null?null:V(N,j,P,q,null);ao(N,P)}return null}function J(N,j,P,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(P)||null,b(j,N,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return N=N.get(q.key===null?P:q.key)||null,S(j,N,q,ee);case B:return N=N.get(q.key===null?P:q.key)||null,O(j,N,q,ee);case _e:var ne=q._init;return J(N,j,P,ne(q._payload),ee)}if(ms(q)||Z(q))return N=N.get(P)||null,V(j,N,q,ee,null);ao(j,q)}return null}function Q(N,j,P,q){for(var ee=null,ne=null,re=j,le=j=0,Xe=null;re!==null&&le<P.length;le++){re.index>le?(Xe=re,re=null):Xe=re.sibling;var ve=$(N,re,P[le],q);if(ve===null){re===null&&(re=Xe);break}t&&re&&ve.alternate===null&&r(N,re),j=m(ve,j,le),ne===null?ee=ve:ne.sibling=ve,ne=ve,re=Xe}if(le===P.length)return o(N,re),Ne&&zn(N,le),ee;if(re===null){for(;le<P.length;le++)re=W(N,P[le],q),re!==null&&(j=m(re,j,le),ne===null?ee=re:ne.sibling=re,ne=re);return Ne&&zn(N,le),ee}for(re=u(N,re);le<P.length;le++)Xe=J(re,N,le,P[le],q),Xe!==null&&(t&&Xe.alternate!==null&&re.delete(Xe.key===null?le:Xe.key),j=m(Xe,j,le),ne===null?ee=Xe:ne.sibling=Xe,ne=Xe);return t&&re.forEach(function(Pn){return r(N,Pn)}),Ne&&zn(N,le),ee}function X(N,j,P,q){var ee=Z(P);if(typeof ee!="function")throw Error(s(150));if(P=ee.call(P),P==null)throw Error(s(151));for(var ne=ee=null,re=j,le=j=0,Xe=null,ve=P.next();re!==null&&!ve.done;le++,ve=P.next()){re.index>le?(Xe=re,re=null):Xe=re.sibling;var Pn=$(N,re,ve.value,q);if(Pn===null){re===null&&(re=Xe);break}t&&re&&Pn.alternate===null&&r(N,re),j=m(Pn,j,le),ne===null?ee=Pn:ne.sibling=Pn,ne=Pn,re=Xe}if(ve.done)return o(N,re),Ne&&zn(N,le),ee;if(re===null){for(;!ve.done;le++,ve=P.next())ve=W(N,ve.value,q),ve!==null&&(j=m(ve,j,le),ne===null?ee=ve:ne.sibling=ve,ne=ve);return Ne&&zn(N,le),ee}for(re=u(N,re);!ve.done;le++,ve=P.next())ve=J(re,N,le,ve.value,q),ve!==null&&(t&&ve.alternate!==null&&re.delete(ve.key===null?le:ve.key),j=m(ve,j,le),ne===null?ee=ve:ne.sibling=ve,ne=ve);return t&&re.forEach(function(ux){return r(N,ux)}),Ne&&zn(N,le),ee}function $e(N,j,P,q){if(typeof P=="object"&&P!==null&&P.type===K&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var ee=P.key,ne=j;ne!==null;){if(ne.key===ee){if(ee=P.type,ee===K){if(ne.tag===7){o(N,ne.sibling),j=f(ne,P.props.children),j.return=N,N=j;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===_e&&Dh(ee)===ne.type){o(N,ne.sibling),j=f(ne,P.props),j.ref=Us(N,ne,P),j.return=N,N=j;break e}o(N,ne);break}else r(N,ne);ne=ne.sibling}P.type===K?(j=Xn(P.props.children,N.mode,q,P.key),j.return=N,N=j):(q=Ro(P.type,P.key,P.props,null,N.mode,q),q.ref=Us(N,j,P),q.return=N,N=q)}return v(N);case B:e:{for(ne=P.key;j!==null;){if(j.key===ne)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){o(N,j.sibling),j=f(j,P.children||[]),j.return=N,N=j;break e}else{o(N,j);break}else r(N,j);j=j.sibling}j=lu(P,N.mode,q),j.return=N,N=j}return v(N);case _e:return ne=P._init,$e(N,j,ne(P._payload),q)}if(ms(P))return Q(N,j,P,q);if(Z(P))return X(N,j,P,q);ao(N,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,j!==null&&j.tag===6?(o(N,j.sibling),j=f(j,P),j.return=N,N=j):(o(N,j),j=au(P,N.mode,q),j.return=N,N=j),v(N)):o(N,j)}return $e}var Nr=Mh(!0),Fh=Mh(!1),lo=xn(null),uo=null,Pr=null,yl=null;function vl(){yl=Pr=uo=null}function xl(t){var r=lo.current;Te(lo),t._currentValue=r}function wl(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ar(t,r){uo=t,yl=Pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(ft=!0),t.firstContext=null)}function Tt(t){var r=t._currentValue;if(yl!==t)if(t={context:t,memoizedValue:r,next:null},Pr===null){if(uo===null)throw Error(s(308));Pr=t,uo.dependencies={lanes:0,firstContext:t}}else Pr=Pr.next=t;return r}var qn=null;function bl(t){qn===null?qn=[t]:qn.push(t)}function $h(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,bl(r)):(o.next=f.next,f.next=o),r.interleaved=o,sn(t,u)}function sn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var _n=!1;function _l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Sn(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(me&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,sn(t,o)}return f=u.interleaved,f===null?(r.next=r,bl(u)):(r.next=f.next,f.next=r),u.interleaved=r,sn(t,o)}function co(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Da(t,o)}}function Vh(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ho(t,r,o,u){var f=t.updateQueue;_n=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var S=b,O=S.next;S.next=null,v===null?m=O:v.next=O,v=S;var V=t.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==v&&(b===null?V.firstBaseUpdate=O:b.next=O,V.lastBaseUpdate=S))}if(m!==null){var W=f.baseState;v=0,V=O=S=null,b=m;do{var $=b.lane,J=b.eventTime;if((u&$)===$){V!==null&&(V=V.next={eventTime:J,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Q=t,X=b;switch($=r,J=o,X.tag){case 1:if(Q=X.payload,typeof Q=="function"){W=Q.call(J,W,$);break e}W=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=X.payload,$=typeof Q=="function"?Q.call(J,W,$):Q,$==null)break e;W=G({},W,$);break e;case 2:_n=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,$=f.effects,$===null?f.effects=[b]:$.push(b))}else J={eventTime:J,lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(O=V=J,S=W):V=V.next=J,v|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);if(V===null&&(S=W),f.baseState=S,f.firstBaseUpdate=O,f.lastBaseUpdate=V,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);Gn|=v,t.lanes=v,t.memoizedState=W}}function Bh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(s(191,f));f.call(u)}}}var Vs={},Kt=xn(Vs),Bs=xn(Vs),Ws=xn(Vs);function Hn(t){if(t===Vs)throw Error(s(174));return t}function Sl(t,r){switch(ke(Ws,r),ke(Bs,t),ke(Kt,Vs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ka(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ka(r,t)}Te(Kt),ke(Kt,r)}function Rr(){Te(Kt),Te(Bs),Te(Ws)}function Wh(t){Hn(Ws.current);var r=Hn(Kt.current),o=ka(r,t.type);r!==o&&(ke(Bs,t),ke(Kt,o))}function kl(t){Bs.current===t&&(Te(Kt),Te(Bs))}var Ae=xn(0);function fo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var jl=[];function El(){for(var t=0;t<jl.length;t++)jl[t]._workInProgressVersionPrimary=null;jl.length=0}var po=D.ReactCurrentDispatcher,Tl=D.ReactCurrentBatchConfig,Kn=0,Re=null,Ke=null,Ye=null,mo=!1,zs=!1,qs=0,A0=0;function st(){throw Error(s(321))}function Cl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Dt(t[o],r[o]))return!1;return!0}function Nl(t,r,o,u,f,m){if(Kn=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,po.current=t===null||t.memoizedState===null?L0:D0,t=o(u,f),zs){m=0;do{if(zs=!1,qs=0,25<=m)throw Error(s(301));m+=1,Ye=Ke=null,r.updateQueue=null,po.current=M0,t=o(u,f)}while(zs)}if(po.current=vo,r=Ke!==null&&Ke.next!==null,Kn=0,Ye=Ke=Re=null,mo=!1,r)throw Error(s(300));return t}function Pl(){var t=qs!==0;return qs=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ct(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=Ye===null?Re.memoizedState:Ye.next;if(r!==null)Ye=r,Ke=t;else{if(t===null)throw Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Hs(t,r){return typeof r=="function"?r(t):r}function Al(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var u=Ke,f=u.baseQueue,m=o.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}u.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,u=u.baseState;var b=v=null,S=null,O=m;do{var V=O.lane;if((Kn&V)===V)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),u=O.hasEagerState?O.eagerState:t(u,O.action);else{var W={lane:V,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(b=S=W,v=u):S=S.next=W,Re.lanes|=V,Gn|=V}O=O.next}while(O!==null&&O!==m);S===null?v=u:S.next=b,Dt(u,r.memoizedState)||(ft=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=S,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do m=f.lane,Re.lanes|=m,Gn|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Rl(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do m=t(m,v.action),v=v.next;while(v!==f);Dt(m,r.memoizedState)||(ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function zh(){}function qh(t,r){var o=Re,u=Ct(),f=r(),m=!Dt(u.memoizedState,f);if(m&&(u.memoizedState=f,ft=!0),u=u.queue,Ol(Gh.bind(null,o,u,t),[t]),u.getSnapshot!==r||m||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Ks(9,Kh.bind(null,o,u,f,r),void 0,null),Qe===null)throw Error(s(349));(Kn&30)!==0||Hh(o,r,f)}return f}function Hh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Kh(t,r,o,u){r.value=o,r.getSnapshot=u,Jh(r)&&Yh(t)}function Gh(t,r,o){return o(function(){Jh(r)&&Yh(t)})}function Jh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Dt(t,o)}catch{return!0}}function Yh(t){var r=sn(t,1);r!==null&&Vt(r,t,1,-1)}function Qh(t){var r=Gt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},r.queue=t,t=t.dispatch=I0.bind(null,Re,t),[r.memoizedState,t]}function Ks(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Xh(){return Ct().memoizedState}function go(t,r,o,u){var f=Gt();Re.flags|=t,f.memoizedState=Ks(1|r,o,void 0,u===void 0?null:u)}function yo(t,r,o,u){var f=Ct();u=u===void 0?null:u;var m=void 0;if(Ke!==null){var v=Ke.memoizedState;if(m=v.destroy,u!==null&&Cl(u,v.deps)){f.memoizedState=Ks(r,o,m,u);return}}Re.flags|=t,f.memoizedState=Ks(1|r,o,m,u)}function Zh(t,r){return go(8390656,8,t,r)}function Ol(t,r){return yo(2048,8,t,r)}function ef(t,r){return yo(4,2,t,r)}function tf(t,r){return yo(4,4,t,r)}function nf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function rf(t,r,o){return o=o!=null?o.concat([t]):null,yo(4,4,nf.bind(null,r,t),o)}function Il(){}function sf(t,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cl(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function of(t,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cl(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function af(t,r,o){return(Kn&21)===0?(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=o):(Dt(o,r)||(o=Dd(),Re.lanes|=o,Gn|=o,t.baseState=!0),r)}function R0(t,r){var o=be;be=o!==0&&4>o?o:4,t(!0);var u=Tl.transition;Tl.transition={};try{t(!1),r()}finally{be=o,Tl.transition=u}}function lf(){return Ct().memoizedState}function O0(t,r,o){var u=Tn(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},uf(t))cf(r,o);else if(o=$h(t,r,o,u),o!==null){var f=ut();Vt(o,t,u,f),df(o,r,u)}}function I0(t,r,o){var u=Tn(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(uf(t))cf(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,b=m(v,o);if(f.hasEagerState=!0,f.eagerState=b,Dt(b,v)){var S=r.interleaved;S===null?(f.next=f,bl(r)):(f.next=S.next,S.next=f),r.interleaved=f;return}}catch{}finally{}o=$h(t,r,f,u),o!==null&&(f=ut(),Vt(o,t,u,f),df(o,r,u))}}function uf(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function cf(t,r){zs=mo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function df(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Da(t,o)}}var vo={readContext:Tt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},L0={readContext:Tt,useCallback:function(t,r){return Gt().memoizedState=[t,r===void 0?null:r],t},useContext:Tt,useEffect:Zh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,go(4194308,4,nf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return go(4194308,4,t,r)},useInsertionEffect:function(t,r){return go(4,2,t,r)},useMemo:function(t,r){var o=Gt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Gt();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=O0.bind(null,Re,t),[u.memoizedState,t]},useRef:function(t){var r=Gt();return t={current:t},r.memoizedState=t},useState:Qh,useDebugValue:Il,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=Qh(!1),r=t[0];return t=R0.bind(null,t[1]),Gt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Re,f=Gt();if(Ne){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Qe===null)throw Error(s(349));(Kn&30)!==0||Hh(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Zh(Gh.bind(null,u,m,t),[t]),u.flags|=2048,Ks(9,Kh.bind(null,u,m,o,r),void 0,null),o},useId:function(){var t=Gt(),r=Qe.identifierPrefix;if(Ne){var o=rn,u=nn;o=(u&~(1<<32-Lt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=qs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=A0++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},D0={readContext:Tt,useCallback:sf,useContext:Tt,useEffect:Ol,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Al,useRef:Xh,useState:function(){return Al(Hs)},useDebugValue:Il,useDeferredValue:function(t){var r=Ct();return af(r,Ke.memoizedState,t)},useTransition:function(){var t=Al(Hs)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:zh,useSyncExternalStore:qh,useId:lf,unstable_isNewReconciler:!1},M0={readContext:Tt,useCallback:sf,useContext:Tt,useEffect:Ol,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Rl,useRef:Xh,useState:function(){return Rl(Hs)},useDebugValue:Il,useDeferredValue:function(t){var r=Ct();return Ke===null?r.memoizedState=t:af(r,Ke.memoizedState,t)},useTransition:function(){var t=Rl(Hs)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:zh,useSyncExternalStore:qh,useId:lf,unstable_isNewReconciler:!1};function Ft(t,r){if(t&&t.defaultProps){r=G({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ll(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:G({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var xo={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=ut(),f=Tn(t),m=on(u,f);m.payload=r,o!=null&&(m.callback=o),r=Sn(t,m,f),r!==null&&(Vt(r,t,f,u),co(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=ut(),f=Tn(t),m=on(u,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Sn(t,m,f),r!==null&&(Vt(r,t,f,u),co(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ut(),u=Tn(t),f=on(o,u);f.tag=2,r!=null&&(f.callback=r),r=Sn(t,f,u),r!==null&&(Vt(r,t,u,o),co(r,t,u))}};function hf(t,r,o,u,f,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,v):r.prototype&&r.prototype.isPureReactComponent?!Os(o,u)||!Os(f,m):!0}function ff(t,r,o){var u=!1,f=wn,m=r.contextType;return typeof m=="object"&&m!==null?m=Tt(m):(f=ht(r)?Bn:rt.current,u=r.contextTypes,m=(u=u!=null)?jr(t,f):wn),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function pf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&xo.enqueueReplaceState(r,r.state,null)}function Dl(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},_l(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=Tt(m):(m=ht(r)?Bn:rt.current,f.context=jr(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Ll(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&xo.enqueueReplaceState(f,f.state,null),ho(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Or(t,r){try{var o="",u=r;do o+=ge(u),u=u.return;while(u);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function Ml(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Fl(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function mf(t,r,o){o=on(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Eo||(Eo=!0,Zl=u),Fl(t,r)},o}function gf(t,r,o){o=on(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Fl(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Fl(t,r),typeof u!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function yf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new F0;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=X0.bind(null,t,r,o),r.then(t,t))}function vf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function xf(t,r,o,u,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=on(-1,1),r.tag=2,Sn(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var $0=D.ReactCurrentOwner,ft=!1;function lt(t,r,o,u){r.child=t===null?Fh(r,null,o,u):Nr(r,t.child,o,u)}function wf(t,r,o,u,f){o=o.render;var m=r.ref;return Ar(r,f),u=Nl(t,r,o,u,m,f),o=Pl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ne&&o&&hl(r),r.flags|=1,lt(t,r,u,f),r.child)}function bf(t,r,o,u,f){if(t===null){var m=o.type;return typeof m=="function"&&!ou(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,_f(t,r,m,u,f)):(t=Ro(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&f)===0){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:Os,o(v,u)&&t.ref===r.ref)return an(t,r,f)}return r.flags|=1,t=Nn(m,u),t.ref=r.ref,t.return=r,r.child=t}function _f(t,r,o,u,f){if(t!==null){var m=t.memoizedProps;if(Os(m,u)&&t.ref===r.ref)if(ft=!1,r.pendingProps=u=m,(t.lanes&f)!==0)(t.flags&131072)!==0&&(ft=!0);else return r.lanes=t.lanes,an(t,r,f)}return $l(t,r,o,u,f)}function Sf(t,r,o){var u=r.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Lr,St),St|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ke(Lr,St),St|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,ke(Lr,St),St|=u}else m!==null?(u=m.baseLanes|o,r.memoizedState=null):u=o,ke(Lr,St),St|=u;return lt(t,r,f,o),r.child}function kf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function $l(t,r,o,u,f){var m=ht(o)?Bn:rt.current;return m=jr(r,m),Ar(r,f),o=Nl(t,r,o,u,m,f),u=Pl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ne&&u&&hl(r),r.flags|=1,lt(t,r,o,f),r.child)}function jf(t,r,o,u,f){if(ht(o)){var m=!0;no(r)}else m=!1;if(Ar(r,f),r.stateNode===null)bo(t,r),ff(r,o,u),Dl(r,o,u,f),u=!0;else if(t===null){var v=r.stateNode,b=r.memoizedProps;v.props=b;var S=v.context,O=o.contextType;typeof O=="object"&&O!==null?O=Tt(O):(O=ht(o)?Bn:rt.current,O=jr(r,O));var V=o.getDerivedStateFromProps,W=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==u||S!==O)&&pf(r,v,u,O),_n=!1;var $=r.memoizedState;v.state=$,ho(r,u,v,f),S=r.memoizedState,b!==u||$!==S||dt.current||_n?(typeof V=="function"&&(Ll(r,o,V,u),S=r.memoizedState),(b=_n||hf(r,o,b,u,$,S,O))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=S),v.props=u,v.state=S,v.context=O,u=b):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Uh(t,r),b=r.memoizedProps,O=r.type===r.elementType?b:Ft(r.type,b),v.props=O,W=r.pendingProps,$=v.context,S=o.contextType,typeof S=="object"&&S!==null?S=Tt(S):(S=ht(o)?Bn:rt.current,S=jr(r,S));var J=o.getDerivedStateFromProps;(V=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b!==W||$!==S)&&pf(r,v,u,S),_n=!1,$=r.memoizedState,v.state=$,ho(r,u,v,f);var Q=r.memoizedState;b!==W||$!==Q||dt.current||_n?(typeof J=="function"&&(Ll(r,o,J,u),Q=r.memoizedState),(O=_n||hf(r,o,O,u,$,Q,S)||!1)?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Q,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Q,S)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),v.props=u,v.state=Q,v.context=S,u=O):(typeof v.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return Ul(t,r,o,u,m,f)}function Ul(t,r,o,u,f,m){kf(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return f&&Nh(r,o,!1),an(t,r,m);u=r.stateNode,$0.current=r;var b=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Nr(r,t.child,null,m),r.child=Nr(r,null,b,m)):lt(t,r,b,m),r.memoizedState=u.state,f&&Nh(r,o,!0),r.child}function Ef(t){var r=t.stateNode;r.pendingContext?Th(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Th(t,r.context,!1),Sl(t,r.containerInfo)}function Tf(t,r,o,u,f){return Cr(),gl(f),r.flags|=256,lt(t,r,o,u),r.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Bl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cf(t,r,o){var u=r.pendingProps,f=Ae.current,m=!1,v=(r.flags&128)!==0,b;if((b=v)||(b=t!==null&&t.memoizedState===null?!1:(f&2)!==0),b?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),ke(Ae,f&1),t===null)return ml(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,t=u.fallback,m?(u=r.mode,m=r.child,v={mode:"hidden",children:v},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Oo(v,u,0,null),t=Xn(t,u,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Bl(o),r.memoizedState=Vl,t):Wl(r,v));if(f=t.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return U0(t,r,v,u,b,f,o);if(m){m=u.fallback,v=r.mode,f=t.child,b=f.sibling;var S={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=S,r.deletions=null):(u=Nn(f,S),u.subtreeFlags=f.subtreeFlags&14680064),b!==null?m=Nn(b,m):(m=Xn(m,v,o,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,v=t.child.memoizedState,v=v===null?Bl(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~o,r.memoizedState=Vl,u}return m=t.child,t=m.sibling,u=Nn(m,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Wl(t,r){return r=Oo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function wo(t,r,o,u){return u!==null&&gl(u),Nr(r,t.child,null,o),t=Wl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function U0(t,r,o,u,f,m,v){if(o)return r.flags&256?(r.flags&=-257,u=Ml(Error(s(422))),wo(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=u.fallback,f=r.mode,u=Oo({mode:"visible",children:u.children},f,0,null),m=Xn(m,f,v,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,(r.mode&1)!==0&&Nr(r,t.child,null,v),r.child.memoizedState=Bl(v),r.memoizedState=Vl,m);if((r.mode&1)===0)return wo(t,r,v,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var b=u.dgst;return u=b,m=Error(s(419)),u=Ml(m,u,void 0),wo(t,r,v,u)}if(b=(v&t.childLanes)!==0,ft||b){if(u=Qe,u!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|v))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,sn(t,f),Vt(u,t,f,-1))}return iu(),u=Ml(Error(s(421))),wo(t,r,v,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Z0.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,_t=vn(f.nextSibling),bt=r,Ne=!0,Mt=null,t!==null&&(jt[Et++]=nn,jt[Et++]=rn,jt[Et++]=Wn,nn=t.id,rn=t.overflow,Wn=r),r=Wl(r,u.children),r.flags|=4096,r)}function Nf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),wl(t.return,r,o)}function zl(t,r,o,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Pf(t,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(lt(t,r,u.children,o),u=Ae.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nf(t,o,r);else if(t.tag===19)Nf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(ke(Ae,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&fo(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zl(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&fo(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}zl(r,!0,o,null,m);break;case"together":zl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function bo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function an(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Gn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,o=Nn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Nn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function V0(t,r,o){switch(r.tag){case 3:Ef(r),Cr();break;case 5:Wh(r);break;case 1:ht(r.type)&&no(r);break;case 4:Sl(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;ke(lo,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(ke(Ae,Ae.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Cf(t,r,o):(ke(Ae,Ae.current&1),t=an(t,r,o),t!==null?t.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Pf(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ke(Ae,Ae.current),u)break;return null;case 22:case 23:return r.lanes=0,Sf(t,r,o)}return an(t,r,o)}var Af,ql,Rf,Of;Af=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ql=function(){},Rf=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Hn(Kt.current);var m=null;switch(o){case"input":f=wa(t,f),u=wa(t,u),m=[];break;case"select":f=G({},f,{value:void 0}),u=G({},u,{value:void 0}),m=[];break;case"textarea":f=Sa(t,f),u=Sa(t,u),m=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Zi)}ja(o,u);var v;o=null;for(O in f)if(!u.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var b=f[O];for(v in b)b.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?m||(m=[]):(m=m||[]).push(O,null));for(O in u){var S=u[O];if(b=f?.[O],u.hasOwnProperty(O)&&S!==b&&(S!=null||b!=null))if(O==="style")if(b){for(v in b)!b.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in S)S.hasOwnProperty(v)&&b[v]!==S[v]&&(o||(o={}),o[v]=S[v])}else o||(m||(m=[]),m.push(O,o)),o=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,b=b?b.__html:void 0,S!=null&&b!==S&&(m=m||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(a.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Ee("scroll",t),m||b===S||(m=[])):(m=m||[]).push(O,S))}o&&(m=m||[]).push("style",o);var O=m;(r.updateQueue=O)&&(r.flags|=4)}},Of=function(t,r,o,u){o!==u&&(r.flags|=4)};function Gs(t,r){if(!Ne)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function B0(t,r,o){var u=r.pendingProps;switch(fl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return ht(r.type)&&to(),it(r),null;case 3:return u=r.stateNode,Rr(),Te(dt),Te(rt),El(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(oo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mt!==null&&(nu(Mt),Mt=null))),ql(t,r),it(r),null;case 5:kl(r);var f=Hn(Ws.current);if(o=r.type,t!==null&&r.stateNode!=null)Rf(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=Hn(Kt.current),oo(r)){u=r.stateNode,o=r.type;var m=r.memoizedProps;switch(u[Ht]=r,u[Fs]=m,t=(r.mode&1)!==0,o){case"dialog":Ee("cancel",u),Ee("close",u);break;case"iframe":case"object":case"embed":Ee("load",u);break;case"video":case"audio":for(f=0;f<Ls.length;f++)Ee(Ls[f],u);break;case"source":Ee("error",u);break;case"img":case"image":case"link":Ee("error",u),Ee("load",u);break;case"details":Ee("toggle",u);break;case"input":hd(u,m),Ee("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},Ee("invalid",u);break;case"textarea":md(u,m),Ee("invalid",u)}ja(o,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var b=m[v];v==="children"?typeof b=="string"?u.textContent!==b&&(m.suppressHydrationWarning!==!0&&Xi(u.textContent,b,t),f=["children",b]):typeof b=="number"&&u.textContent!==""+b&&(m.suppressHydrationWarning!==!0&&Xi(u.textContent,b,t),f=["children",""+b]):a.hasOwnProperty(v)&&b!=null&&v==="onScroll"&&Ee("scroll",u)}switch(o){case"input":Ni(u),pd(u,m,!0);break;case"textarea":Ni(u),yd(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=Zi)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Ht]=r,t[Fs]=u,Af(t,r,!1,!1),r.stateNode=t;e:{switch(v=Ea(o,u),o){case"dialog":Ee("cancel",t),Ee("close",t),f=u;break;case"iframe":case"object":case"embed":Ee("load",t),f=u;break;case"video":case"audio":for(f=0;f<Ls.length;f++)Ee(Ls[f],t);f=u;break;case"source":Ee("error",t),f=u;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),f=u;break;case"details":Ee("toggle",t),f=u;break;case"input":hd(t,u),f=wa(t,u),Ee("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=G({},u,{value:void 0}),Ee("invalid",t);break;case"textarea":md(t,u),f=Sa(t,u),Ee("invalid",t);break;default:f=u}ja(o,f),b=f;for(m in b)if(b.hasOwnProperty(m)){var S=b[m];m==="style"?bd(t,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&xd(t,S)):m==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&gs(t,S):typeof S=="number"&&gs(t,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?S!=null&&m==="onScroll"&&Ee("scroll",t):S!=null&&A(t,m,S,v))}switch(o){case"input":Ni(t),pd(t,u,!1);break;case"textarea":Ni(t),yd(t);break;case"option":u.value!=null&&t.setAttribute("value",""+we(u.value));break;case"select":t.multiple=!!u.multiple,m=u.value,m!=null?fr(t,!!u.multiple,m,!1):u.defaultValue!=null&&fr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Zi)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(t&&r.stateNode!=null)Of(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(o=Hn(Ws.current),Hn(Kt.current),oo(r)){if(u=r.stateNode,o=r.memoizedProps,u[Ht]=r,(m=u.nodeValue!==o)&&(t=bt,t!==null))switch(t.tag){case 3:Xi(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xi(u.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Ht]=r,r.stateNode=u}return it(r),null;case 13:if(Te(Ae),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Lh(),Cr(),r.flags|=98560,m=!1;else if(m=oo(r),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Ht]=r}else Cr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),m=!1}else Mt!==null&&(nu(Mt),Mt=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ae.current&1)!==0?Ge===0&&(Ge=3):iu())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return Rr(),ql(t,r),t===null&&Ds(r.stateNode.containerInfo),it(r),null;case 10:return xl(r.type._context),it(r),null;case 17:return ht(r.type)&&to(),it(r),null;case 19:if(Te(Ae),m=r.memoizedState,m===null)return it(r),null;if(u=(r.flags&128)!==0,v=m.rendering,v===null)if(u)Gs(m,!1);else{if(Ge!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=fo(t),v!==null){for(r.flags|=128,Gs(m,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)m=o,t=u,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ke(Ae,Ae.current&1|2),r.child}t=t.sibling}m.tail!==null&&Fe()>Dr&&(r.flags|=128,u=!0,Gs(m,!1),r.lanes=4194304)}else{if(!u)if(t=fo(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Gs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ne)return it(r),null}else 2*Fe()-m.renderingStartTime>Dr&&o!==1073741824&&(r.flags|=128,u=!0,Gs(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(o=m.last,o!==null?o.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Fe(),r.sibling=null,o=Ae.current,ke(Ae,u?o&1|2:o&1),r):(it(r),null);case 22:case 23:return su(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(St&1073741824)!==0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function W0(t,r){switch(fl(r),r.tag){case 1:return ht(r.type)&&to(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rr(),Te(dt),Te(rt),El(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return kl(r),null;case 13:if(Te(Ae),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Cr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Te(Ae),null;case 4:return Rr(),null;case 10:return xl(r.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var _o=!1,ot=!1,z0=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ir(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){De(t,r,u)}else o.current=null}function Hl(t,r,o){try{o()}catch(u){De(t,r,u)}}var If=!1;function q0(t,r){if(sl=Vi,t=dh(),Ya(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,b=-1,S=-1,O=0,V=0,W=t,$=null;t:for(;;){for(var J;W!==o||f!==0&&W.nodeType!==3||(b=v+f),W!==m||u!==0&&W.nodeType!==3||(S=v+u),W.nodeType===3&&(v+=W.nodeValue.length),(J=W.firstChild)!==null;)$=W,W=J;for(;;){if(W===t)break t;if($===o&&++O===f&&(b=v),$===m&&++V===u&&(S=v),(J=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=J}o=b===-1||S===-1?null:{start:b,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(il={focusedElem:t,selectionRange:o},Vi=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var Q=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var X=Q.memoizedProps,$e=Q.memoizedState,N=r.stateNode,j=N.getSnapshotBeforeUpdate(r.elementType===r.type?X:Ft(r.type,X),$e);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var P=r.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){De(r,r.return,q)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return Q=If,If=!1,Q}function Js(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Hl(r,o,m)}f=f.next}while(f!==u)}}function So(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Kl(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Lf(t){var r=t.alternate;r!==null&&(t.alternate=null,Lf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ht],delete r[Fs],delete r[ul],delete r[T0],delete r[C0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Df(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gl(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Zi));else if(u!==4&&(t=t.child,t!==null))for(Gl(t,r,o),t=t.sibling;t!==null;)Gl(t,r,o),t=t.sibling}function Jl(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Jl(t,r,o),t=t.sibling;t!==null;)Jl(t,r,o),t=t.sibling}var et=null,$t=!1;function kn(t,r,o){for(o=o.child;o!==null;)Ff(t,r,o),o=o.sibling}function Ff(t,r,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Li,o)}catch{}switch(o.tag){case 5:ot||Ir(o,r);case 6:var u=et,f=$t;et=null,kn(t,r,o),et=u,$t=f,et!==null&&($t?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&($t?(t=et,o=o.stateNode,t.nodeType===8?ll(t.parentNode,o):t.nodeType===1&&ll(t,o),Ts(t)):ll(et,o.stateNode));break;case 4:u=et,f=$t,et=o.stateNode.containerInfo,$t=!0,kn(t,r,o),et=u,$t=f;break;case 0:case 11:case 14:case 15:if(!ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Hl(o,r,v),f=f.next}while(f!==u)}kn(t,r,o);break;case 1:if(!ot&&(Ir(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(b){De(o,r,b)}kn(t,r,o);break;case 21:kn(t,r,o);break;case 22:o.mode&1?(ot=(u=ot)||o.memoizedState!==null,kn(t,r,o),ot=u):kn(t,r,o);break;default:kn(t,r,o)}}function $f(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new z0),r.forEach(function(u){var f=ex.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Ut(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var m=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 5:et=b.stateNode,$t=!1;break e;case 3:et=b.stateNode.containerInfo,$t=!0;break e;case 4:et=b.stateNode.containerInfo,$t=!0;break e}b=b.return}if(et===null)throw Error(s(160));Ff(m,v,f),et=null,$t=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(O){De(f,r,O)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Uf(r,t),r=r.sibling}function Uf(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ut(r,t),Jt(t),u&4){try{Js(3,t,t.return),So(3,t)}catch(X){De(t,t.return,X)}try{Js(5,t,t.return)}catch(X){De(t,t.return,X)}}break;case 1:Ut(r,t),Jt(t),u&512&&o!==null&&Ir(o,o.return);break;case 5:if(Ut(r,t),Jt(t),u&512&&o!==null&&Ir(o,o.return),t.flags&32){var f=t.stateNode;try{gs(f,"")}catch(X){De(t,t.return,X)}}if(u&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,v=o!==null?o.memoizedProps:m,b=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{b==="input"&&m.type==="radio"&&m.name!=null&&fd(f,m),Ea(b,v);var O=Ea(b,m);for(v=0;v<S.length;v+=2){var V=S[v],W=S[v+1];V==="style"?bd(f,W):V==="dangerouslySetInnerHTML"?xd(f,W):V==="children"?gs(f,W):A(f,V,W,O)}switch(b){case"input":ba(f,m);break;case"textarea":gd(f,m);break;case"select":var $=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var J=m.value;J!=null?fr(f,!!m.multiple,J,!1):$!==!!m.multiple&&(m.defaultValue!=null?fr(f,!!m.multiple,m.defaultValue,!0):fr(f,!!m.multiple,m.multiple?[]:"",!1))}f[Fs]=m}catch(X){De(t,t.return,X)}}break;case 6:if(Ut(r,t),Jt(t),u&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(X){De(t,t.return,X)}}break;case 3:if(Ut(r,t),Jt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ts(r.containerInfo)}catch(X){De(t,t.return,X)}break;case 4:Ut(r,t),Jt(t);break;case 13:Ut(r,t),Jt(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Xl=Fe())),u&4&&$f(t);break;case 22:if(V=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(O=ot)||V,Ut(r,t),ot=O):Ut(r,t),Jt(t),u&8192){if(O=t.memoizedState!==null,(t.stateNode.isHidden=O)&&!V&&(t.mode&1)!==0)for(Y=t,V=t.child;V!==null;){for(W=Y=V;Y!==null;){switch($=Y,J=$.child,$.tag){case 0:case 11:case 14:case 15:Js(4,$,$.return);break;case 1:Ir($,$.return);var Q=$.stateNode;if(typeof Q.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,Q.props=r.memoizedProps,Q.state=r.memoizedState,Q.componentWillUnmount()}catch(X){De(u,o,X)}}break;case 5:Ir($,$.return);break;case 22:if($.memoizedState!==null){Wf(W);continue}}J!==null?(J.return=$,Y=J):Wf(W)}V=V.sibling}e:for(V=null,W=t;;){if(W.tag===5){if(V===null){V=W;try{f=W.stateNode,O?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(b=W.stateNode,S=W.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,b.style.display=wd("display",v))}catch(X){De(t,t.return,X)}}}else if(W.tag===6){if(V===null)try{W.stateNode.nodeValue=O?"":W.memoizedProps}catch(X){De(t,t.return,X)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;V===W&&(V=null),W=W.return}V===W&&(V=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Ut(r,t),Jt(t),u&4&&$f(t);break;case 21:break;default:Ut(r,t),Jt(t)}}function Jt(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Df(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(gs(f,""),u.flags&=-33);var m=Mf(t);Jl(t,m,f);break;case 3:case 4:var v=u.stateNode.containerInfo,b=Mf(t);Gl(t,b,v);break;default:throw Error(s(161))}}catch(S){De(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function H0(t,r,o){Y=t,Vf(t)}function Vf(t,r,o){for(var u=(t.mode&1)!==0;Y!==null;){var f=Y,m=f.child;if(f.tag===22&&u){var v=f.memoizedState!==null||_o;if(!v){var b=f.alternate,S=b!==null&&b.memoizedState!==null||ot;b=_o;var O=ot;if(_o=v,(ot=S)&&!O)for(Y=f;Y!==null;)v=Y,S=v.child,v.tag===22&&v.memoizedState!==null?zf(f):S!==null?(S.return=v,Y=S):zf(f);for(;m!==null;)Y=m,Vf(m),m=m.sibling;Y=f,_o=b,ot=O}Bf(t)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,Y=m):Bf(t)}}function Bf(t){for(;Y!==null;){var r=Y;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ot||So(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!ot)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Ft(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Bh(r,m,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Bh(r,v,o)}break;case 5:var b=r.stateNode;if(o===null&&r.flags&4){o=b;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var O=r.alternate;if(O!==null){var V=O.memoizedState;if(V!==null){var W=V.dehydrated;W!==null&&Ts(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||r.flags&512&&Kl(r)}catch($){De(r,r.return,$)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function Wf(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function zf(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{So(4,r)}catch(S){De(r,o,S)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(S){De(r,f,S)}}var m=r.return;try{Kl(r)}catch(S){De(r,m,S)}break;case 5:var v=r.return;try{Kl(r)}catch(S){De(r,v,S)}}}catch(S){De(r,r.return,S)}if(r===t){Y=null;break}var b=r.sibling;if(b!==null){b.return=r.return,Y=b;break}Y=r.return}}var K0=Math.ceil,ko=D.ReactCurrentDispatcher,Yl=D.ReactCurrentOwner,Nt=D.ReactCurrentBatchConfig,me=0,Qe=null,Be=null,tt=0,St=0,Lr=xn(0),Ge=0,Ys=null,Gn=0,jo=0,Ql=0,Qs=null,pt=null,Xl=0,Dr=1/0,ln=null,Eo=!1,Zl=null,jn=null,To=!1,En=null,Co=0,Xs=0,eu=null,No=-1,Po=0;function ut(){return(me&6)!==0?Fe():No!==-1?No:No=Fe()}function Tn(t){return(t.mode&1)===0?1:(me&2)!==0&&tt!==0?tt&-tt:P0.transition!==null?(Po===0&&(Po=Dd()),Po):(t=be,t!==0||(t=window.event,t=t===void 0?16:qd(t.type)),t)}function Vt(t,r,o,u){if(50<Xs)throw Xs=0,eu=null,Error(s(185));_s(t,o,u),((me&2)===0||t!==Qe)&&(t===Qe&&((me&2)===0&&(jo|=o),Ge===4&&Cn(t,tt)),mt(t,u),o===1&&me===0&&(r.mode&1)===0&&(Dr=Fe()+500,ro&&bn()))}function mt(t,r){var o=t.callbackNode;Pv(t,r);var u=Fi(t,t===Qe?tt:0);if(u===0)o!==null&&Od(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Od(o),r===1)t.tag===0?N0(Hf.bind(null,t)):Ph(Hf.bind(null,t)),j0(function(){(me&6)===0&&bn()}),o=null;else{switch(Md(u)){case 1:o=Oa;break;case 4:o=Id;break;case 16:o=Ii;break;case 536870912:o=Ld;break;default:o=Ii}o=ep(o,qf.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function qf(t,r){if(No=-1,Po=0,(me&6)!==0)throw Error(s(327));var o=t.callbackNode;if(Mr()&&t.callbackNode!==o)return null;var u=Fi(t,t===Qe?tt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Ao(t,u);else{r=u;var f=me;me|=2;var m=Gf();(Qe!==t||tt!==r)&&(ln=null,Dr=Fe()+500,Yn(t,r));do try{Y0();break}catch(b){Kf(t,b)}while(!0);vl(),ko.current=m,me=f,Be!==null?r=0:(Qe=null,tt=0,r=Ge)}if(r!==0){if(r===2&&(f=Ia(t),f!==0&&(u=f,r=tu(t,f))),r===1)throw o=Ys,Yn(t,0),Cn(t,u),mt(t,Fe()),o;if(r===6)Cn(t,u);else{if(f=t.current.alternate,(u&30)===0&&!G0(f)&&(r=Ao(t,u),r===2&&(m=Ia(t),m!==0&&(u=m,r=tu(t,m))),r===1))throw o=Ys,Yn(t,0),Cn(t,u),mt(t,Fe()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:Qn(t,pt,ln);break;case 3:if(Cn(t,u),(u&130023424)===u&&(r=Xl+500-Fe(),10<r)){if(Fi(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){ut(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=al(Qn.bind(null,t,pt,ln),r);break}Qn(t,pt,ln);break;case 4:if(Cn(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var v=31-Lt(u);m=1<<v,v=r[v],v>f&&(f=v),u&=~m}if(u=f,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*K0(u/1960))-u,10<u){t.timeoutHandle=al(Qn.bind(null,t,pt,ln),u);break}Qn(t,pt,ln);break;case 5:Qn(t,pt,ln);break;default:throw Error(s(329))}}}return mt(t,Fe()),t.callbackNode===o?qf.bind(null,t):null}function tu(t,r){var o=Qs;return t.current.memoizedState.isDehydrated&&(Yn(t,r).flags|=256),t=Ao(t,r),t!==2&&(r=pt,pt=o,r!==null&&nu(r)),t}function nu(t){pt===null?pt=t:pt.push.apply(pt,t)}function G0(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Dt(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cn(t,r){for(r&=~Ql,r&=~jo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Lt(r),u=1<<o;t[o]=-1,r&=~u}}function Hf(t){if((me&6)!==0)throw Error(s(327));Mr();var r=Fi(t,0);if((r&1)===0)return mt(t,Fe()),null;var o=Ao(t,r);if(t.tag!==0&&o===2){var u=Ia(t);u!==0&&(r=u,o=tu(t,u))}if(o===1)throw o=Ys,Yn(t,0),Cn(t,r),mt(t,Fe()),o;if(o===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Qn(t,pt,ln),mt(t,Fe()),null}function ru(t,r){var o=me;me|=1;try{return t(r)}finally{me=o,me===0&&(Dr=Fe()+500,ro&&bn())}}function Jn(t){En!==null&&En.tag===0&&(me&6)===0&&Mr();var r=me;me|=1;var o=Nt.transition,u=be;try{if(Nt.transition=null,be=1,t)return t()}finally{be=u,Nt.transition=o,me=r,(me&6)===0&&bn()}}function su(){St=Lr.current,Te(Lr)}function Yn(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,k0(o)),Be!==null)for(o=Be.return;o!==null;){var u=o;switch(fl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&to();break;case 3:Rr(),Te(dt),Te(rt),El();break;case 5:kl(u);break;case 4:Rr();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:xl(u.type._context);break;case 22:case 23:su()}o=o.return}if(Qe=t,Be=t=Nn(t.current,null),tt=St=r,Ge=0,Ys=null,Ql=jo=Gn=0,pt=Qs=null,qn!==null){for(r=0;r<qn.length;r++)if(o=qn[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,m=o.pending;if(m!==null){var v=m.next;m.next=f,u.next=v}o.pending=u}qn=null}return t}function Kf(t,r){do{var o=Be;try{if(vl(),po.current=vo,mo){for(var u=Re.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}mo=!1}if(Kn=0,Ye=Ke=Re=null,zs=!1,qs=0,Yl.current=null,o===null||o.return===null){Ge=1,Ys=r,Be=null;break}e:{var m=t,v=o.return,b=o,S=r;if(r=tt,b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,V=b,W=V.tag;if((V.mode&1)===0&&(W===0||W===11||W===15)){var $=V.alternate;$?(V.updateQueue=$.updateQueue,V.memoizedState=$.memoizedState,V.lanes=$.lanes):(V.updateQueue=null,V.memoizedState=null)}var J=vf(v);if(J!==null){J.flags&=-257,xf(J,v,b,m,r),J.mode&1&&yf(m,O,r),r=J,S=O;var Q=r.updateQueue;if(Q===null){var X=new Set;X.add(S),r.updateQueue=X}else Q.add(S);break e}else{if((r&1)===0){yf(m,O,r),iu();break e}S=Error(s(426))}}else if(Ne&&b.mode&1){var $e=vf(v);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),xf($e,v,b,m,r),gl(Or(S,b));break e}}m=S=Or(S,b),Ge!==4&&(Ge=2),Qs===null?Qs=[m]:Qs.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var N=mf(m,S,r);Vh(m,N);break e;case 1:b=S;var j=m.type,P=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(jn===null||!jn.has(P)))){m.flags|=65536,r&=-r,m.lanes|=r;var q=gf(m,b,r);Vh(m,q);break e}}m=m.return}while(m!==null)}Yf(o)}catch(ee){r=ee,Be===o&&o!==null&&(Be=o=o.return);continue}break}while(!0)}function Gf(){var t=ko.current;return ko.current=vo,t===null?vo:t}function iu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||(Gn&268435455)===0&&(jo&268435455)===0||Cn(Qe,tt)}function Ao(t,r){var o=me;me|=2;var u=Gf();(Qe!==t||tt!==r)&&(ln=null,Yn(t,r));do try{J0();break}catch(f){Kf(t,f)}while(!0);if(vl(),me=o,ko.current=u,Be!==null)throw Error(s(261));return Qe=null,tt=0,Ge}function J0(){for(;Be!==null;)Jf(Be)}function Y0(){for(;Be!==null&&!bv();)Jf(Be)}function Jf(t){var r=Zf(t.alternate,t,St);t.memoizedProps=t.pendingProps,r===null?Yf(t):Be=r,Yl.current=null}function Yf(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=B0(o,r,St),o!==null){Be=o;return}}else{if(o=W0(o,r),o!==null){o.flags&=32767,Be=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Be=null;return}}if(r=r.sibling,r!==null){Be=r;return}Be=r=t}while(r!==null);Ge===0&&(Ge=5)}function Qn(t,r,o){var u=be,f=Nt.transition;try{Nt.transition=null,be=1,Q0(t,r,o,u)}finally{Nt.transition=f,be=u}return null}function Q0(t,r,o,u){do Mr();while(En!==null);if((me&6)!==0)throw Error(s(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Av(t,m),t===Qe&&(Be=Qe=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||To||(To=!0,ep(Ii,function(){return Mr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Nt.transition,Nt.transition=null;var v=be;be=1;var b=me;me|=4,Yl.current=null,q0(t,o),Uf(o,t),y0(il),Vi=!!sl,il=sl=null,t.current=o,H0(o),_v(),me=b,be=v,Nt.transition=m}else t.current=o;if(To&&(To=!1,En=t,Co=f),m=t.pendingLanes,m===0&&(jn=null),jv(o.stateNode),mt(t,Fe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Eo)throw Eo=!1,t=Zl,Zl=null,t;return(Co&1)!==0&&t.tag!==0&&Mr(),m=t.pendingLanes,(m&1)!==0?t===eu?Xs++:(Xs=0,eu=t):Xs=0,bn(),null}function Mr(){if(En!==null){var t=Md(Co),r=Nt.transition,o=be;try{if(Nt.transition=null,be=16>t?16:t,En===null)var u=!1;else{if(t=En,En=null,Co=0,(me&6)!==0)throw Error(s(331));var f=me;for(me|=4,Y=t.current;Y!==null;){var m=Y,v=m.child;if((Y.flags&16)!==0){var b=m.deletions;if(b!==null){for(var S=0;S<b.length;S++){var O=b[S];for(Y=O;Y!==null;){var V=Y;switch(V.tag){case 0:case 11:case 15:Js(8,V,m)}var W=V.child;if(W!==null)W.return=V,Y=W;else for(;Y!==null;){V=Y;var $=V.sibling,J=V.return;if(Lf(V),V===O){Y=null;break}if($!==null){$.return=J,Y=$;break}Y=J}}}var Q=m.alternate;if(Q!==null){var X=Q.child;if(X!==null){Q.child=null;do{var $e=X.sibling;X.sibling=null,X=$e}while(X!==null)}}Y=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,Y=v;else e:for(;Y!==null;){if(m=Y,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Js(9,m,m.return)}var N=m.sibling;if(N!==null){N.return=m.return,Y=N;break e}Y=m.return}}var j=t.current;for(Y=j;Y!==null;){v=Y;var P=v.child;if((v.subtreeFlags&2064)!==0&&P!==null)P.return=v,Y=P;else e:for(v=j;Y!==null;){if(b=Y,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:So(9,b)}}catch(ee){De(b,b.return,ee)}if(b===v){Y=null;break e}var q=b.sibling;if(q!==null){q.return=b.return,Y=q;break e}Y=b.return}}if(me=f,bn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Li,t)}catch{}u=!0}return u}finally{be=o,Nt.transition=r}}return!1}function Qf(t,r,o){r=Or(o,r),r=mf(t,r,1),t=Sn(t,r,1),r=ut(),t!==null&&(_s(t,1,r),mt(t,r))}function De(t,r,o){if(t.tag===3)Qf(t,t,o);else for(;r!==null;){if(r.tag===3){Qf(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jn===null||!jn.has(u))){t=Or(o,t),t=gf(r,t,1),r=Sn(r,t,1),t=ut(),r!==null&&(_s(r,1,t),mt(r,t));break}}r=r.return}}function X0(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=ut(),t.pingedLanes|=t.suspendedLanes&o,Qe===t&&(tt&o)===o&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Fe()-Xl?Yn(t,0):Ql|=o),mt(t,r)}function Xf(t,r){r===0&&((t.mode&1)===0?r=1:(r=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var o=ut();t=sn(t,r),t!==null&&(_s(t,r,o),mt(t,o))}function Z0(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Xf(t,o)}function ex(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),Xf(t,o)}var Zf;Zf=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||dt.current)ft=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return ft=!1,V0(t,r,o);ft=(t.flags&131072)!==0}else ft=!1,Ne&&(r.flags&1048576)!==0&&Ah(r,io,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;bo(t,r),t=r.pendingProps;var f=jr(r,rt.current);Ar(r,o),f=Nl(null,r,u,t,f,o);var m=Pl();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(u)?(m=!0,no(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,_l(r),f.updater=xo,r.stateNode=f,f._reactInternals=r,Dl(r,u,t,o),r=Ul(null,r,u,!0,m,o)):(r.tag=0,Ne&&m&&hl(r),lt(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(bo(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=nx(u),t=Ft(u,t),f){case 0:r=$l(null,r,u,t,o);break e;case 1:r=jf(null,r,u,t,o);break e;case 11:r=wf(null,r,u,t,o);break e;case 14:r=bf(null,r,u,Ft(u.type,t),o);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ft(u,f),$l(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ft(u,f),jf(t,r,u,f,o);case 3:e:{if(Ef(r),t===null)throw Error(s(387));u=r.pendingProps,m=r.memoizedState,f=m.element,Uh(t,r),ho(r,u,null,o);var v=r.memoizedState;if(u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=Or(Error(s(423)),r),r=Tf(t,r,u,o,f);break e}else if(u!==f){f=Or(Error(s(424)),r),r=Tf(t,r,u,o,f);break e}else for(_t=vn(r.stateNode.containerInfo.firstChild),bt=r,Ne=!0,Mt=null,o=Fh(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cr(),u===f){r=an(t,r,o);break e}lt(t,r,u,o)}r=r.child}return r;case 5:return Wh(r),t===null&&ml(r),u=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,v=f.children,ol(u,f)?v=null:m!==null&&ol(u,m)&&(r.flags|=32),kf(t,r),lt(t,r,v,o),r.child;case 6:return t===null&&ml(r),null;case 13:return Cf(t,r,o);case 4:return Sl(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Nr(r,null,u,o):lt(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ft(u,f),wf(t,r,u,f,o);case 7:return lt(t,r,r.pendingProps,o),r.child;case 8:return lt(t,r,r.pendingProps.children,o),r.child;case 12:return lt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,m=r.memoizedProps,v=f.value,ke(lo,u._currentValue),u._currentValue=v,m!==null)if(Dt(m.value,v)){if(m.children===f.children&&!dt.current){r=an(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){v=m.child;for(var S=b.firstContext;S!==null;){if(S.context===u){if(m.tag===1){S=on(-1,o&-o),S.tag=2;var O=m.updateQueue;if(O!==null){O=O.shared;var V=O.pending;V===null?S.next=S:(S.next=V.next,V.next=S),O.pending=S}}m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),wl(m.return,o,r),b.lanes|=o;break}S=S.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(s(341));v.lanes|=o,b=v.alternate,b!==null&&(b.lanes|=o),wl(v,o,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}lt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ar(r,o),f=Tt(f),u=u(f),r.flags|=1,lt(t,r,u,o),r.child;case 14:return u=r.type,f=Ft(u,r.pendingProps),f=Ft(u.type,f),bf(t,r,u,f,o);case 15:return _f(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ft(u,f),bo(t,r),r.tag=1,ht(u)?(t=!0,no(r)):t=!1,Ar(r,o),ff(r,u,f),Dl(r,u,f,o),Ul(null,r,u,!0,t,o);case 19:return Pf(t,r,o);case 22:return Sf(t,r,o)}throw Error(s(156,r.tag))};function ep(t,r){return Rd(t,r)}function tx(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,r,o,u){return new tx(t,r,o,u)}function ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nx(t){if(typeof t=="function")return ou(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pe)return 11;if(t===H)return 14}return 2}function Nn(t,r){var o=t.alternate;return o===null?(o=Pt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Ro(t,r,o,u,f,m){var v=2;if(u=t,typeof t=="function")ou(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case K:return Xn(o.children,f,m,r);case M:v=8,f|=8;break;case te:return t=Pt(12,o,r,f|2),t.elementType=te,t.lanes=m,t;case Ve:return t=Pt(13,o,r,f),t.elementType=Ve,t.lanes=m,t;case ue:return t=Pt(19,o,r,f),t.elementType=ue,t.lanes=m,t;case oe:return Oo(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xe:v=10;break e;case Le:v=9;break e;case pe:v=11;break e;case H:v=14;break e;case _e:v=16,u=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Pt(v,o,r,f),r.elementType=t,r.type=u,r.lanes=m,r}function Xn(t,r,o,u){return t=Pt(7,t,u,r),t.lanes=o,t}function Oo(t,r,o,u){return t=Pt(22,t,u,r),t.elementType=oe,t.lanes=o,t.stateNode={isHidden:!1},t}function au(t,r,o){return t=Pt(6,t,null,r),t.lanes=o,t}function lu(t,r,o){return r=Pt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function rx(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function uu(t,r,o,u,f,m,v,b,S){return t=new rx(t,r,o,b,S),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Pt(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(m),t}function sx(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function tp(t){if(!t)return wn;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var o=t.type;if(ht(o))return Ch(t,o,r)}return r}function np(t,r,o,u,f,m,v,b,S){return t=uu(o,u,!0,t,f,m,v,b,S),t.context=tp(null),o=t.current,u=ut(),f=Tn(o),m=on(u,f),m.callback=r??null,Sn(o,m,f),t.current.lanes=f,_s(t,f,u),mt(t,u),t}function Io(t,r,o,u){var f=r.current,m=ut(),v=Tn(f);return o=tp(o),r.context===null?r.context=o:r.pendingContext=o,r=on(m,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Sn(f,r,v),t!==null&&(Vt(t,f,v,m),co(t,f,v)),v}function Lo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function cu(t,r){rp(t,r),(t=t.alternate)&&rp(t,r)}function ix(){return null}var sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function du(t){this._internalRoot=t}Do.prototype.render=du.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));Io(t,r,null,null)},Do.prototype.unmount=du.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jn(function(){Io(null,t,null,null)}),r[en]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ud();t={blockedOn:null,target:t,priority:r};for(var o=0;o<mn.length&&r!==0&&r<mn[o].priority;o++);mn.splice(o,0,t),o===0&&Wd(t)}};function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function ox(t,r,o,u,f){if(f){if(typeof u=="function"){var m=u;u=function(){var O=Lo(v);m.call(O)}}var v=np(r,u,t,0,null,!1,!1,"",ip);return t._reactRootContainer=v,t[en]=v.current,Ds(t.nodeType===8?t.parentNode:t),Jn(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var b=u;u=function(){var O=Lo(S);b.call(O)}}var S=uu(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=S,t[en]=S.current,Ds(t.nodeType===8?t.parentNode:t),Jn(function(){Io(r,S,o,u)}),S}function Fo(t,r,o,u,f){var m=o._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var b=f;f=function(){var S=Lo(v);b.call(S)}}Io(r,v,t,f)}else v=ox(o,r,t,f,u);return Lo(v)}Fd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=bs(r.pendingLanes);o!==0&&(Da(r,o|1),mt(r,Fe()),(me&6)===0&&(Dr=Fe()+500,bn()))}break;case 13:Jn(function(){var u=sn(t,1);if(u!==null){var f=ut();Vt(u,t,1,f)}}),cu(t,1)}},Ma=function(t){if(t.tag===13){var r=sn(t,134217728);if(r!==null){var o=ut();Vt(r,t,134217728,o)}cu(t,134217728)}},$d=function(t){if(t.tag===13){var r=Tn(t),o=sn(t,r);if(o!==null){var u=ut();Vt(o,t,r,u)}cu(t,r)}},Ud=function(){return be},Vd=function(t,r){var o=be;try{return be=t,r()}finally{be=o}},Na=function(t,r,o){switch(r){case"input":if(ba(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=eo(u);if(!f)throw Error(s(90));dd(u),ba(u,f)}}}break;case"textarea":gd(t,o);break;case"select":r=o.value,r!=null&&fr(t,!!o.multiple,r,!1)}},jd=ru,Ed=Jn;var ax={usingClientEntryPoint:!1,Events:[$s,Sr,eo,Sd,kd,ru]},Zs={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Li=$o.inject(lx),qt=$o}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax,gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(r))throw Error(s(200));return sx(t,r,null,o)},gt.createRoot=function(t,r){if(!hu(t))throw Error(s(299));var o=!1,u="",f=sp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=uu(t,1,!1,null,null,o,!1,u,f),t[en]=r.current,Ds(t.nodeType===8?t.parentNode:t),new du(r)},gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Pd(r),t=t===null?null:t.stateNode,t},gt.flushSync=function(t){return Jn(t)},gt.hydrate=function(t,r,o){if(!Mo(r))throw Error(s(200));return Fo(null,t,r,!0,o)},gt.hydrateRoot=function(t,r,o){if(!hu(t))throw Error(s(405));var u=o!=null&&o.hydratedSources||null,f=!1,m="",v=sp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=np(r,null,t,1,o??null,f,!1,m,v),t[en]=r.current,Ds(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Do(r)},gt.render=function(t,r,o){if(!Mo(r))throw Error(s(200));return Fo(null,t,r,!1,o)},gt.unmountComponentAtNode=function(t){if(!Mo(t))throw Error(s(40));return t._reactRootContainer?(Jn(function(){Fo(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1},gt.unstable_batchedUpdates=ru,gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Mo(o))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return Fo(t,r,o,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var fp;function yx(){if(fp)return mu.exports;fp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mu.exports=gx(),mu.exports}var pp;function vx(){if(pp)return Uo;pp=1;var n=yx();return Uo.createRoot=n.createRoot,Uo.hydrateRoot=n.hydrateRoot,Uo}var xx=vx(),R=Sc();const Fr=ag(R),kc=R.createContext({});function jc(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ec=typeof window<"u",lg=Ec?R.useLayoutEffect:R.useEffect,da=R.createContext(null);function Tc(n,e){n.indexOf(e)===-1&&n.push(e)}function Cc(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const cn=(n,e,s)=>s>e?e:s<n?n:s;let Nc=()=>{};const dn={},ug=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function cg(n){return typeof n=="object"&&n!==null}const dg=n=>/^0[^.\s]+$/u.test(n);function Pc(n){let e;return()=>(e===void 0&&(e=n()),e)}const It=n=>n,wx=(n,e)=>s=>e(n(s)),Si=(...n)=>n.reduce(wx),hi=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class Ac{constructor(){this.subscriptions=[]}add(e){return Tc(this.subscriptions,e),()=>Cc(this.subscriptions,e)}notify(e,s,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=n=>n*1e3,Ot=n=>n/1e3;function hg(n,e){return e?n*(1e3/e):0}const fg=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,bx=1e-7,_x=12;function Sx(n,e,s,i,a){let l,c,d=0;do c=e+(s-e)/2,l=fg(c,i,a)-n,l>0?s=c:e=c;while(Math.abs(l)>bx&&++d<_x);return c}function ki(n,e,s,i){if(n===e&&s===i)return It;const a=l=>Sx(l,0,1,n,s);return l=>l===0||l===1?l:fg(a(l),e,i)}const pg=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,mg=n=>e=>1-n(1-e),gg=ki(.33,1.53,.69,.99),Rc=mg(gg),yg=pg(Rc),vg=n=>(n*=2)<1?.5*Rc(n):.5*(2-Math.pow(2,-10*(n-1))),Oc=n=>1-Math.sin(Math.acos(n)),xg=mg(Oc),wg=pg(Oc),kx=ki(.42,0,1,1),jx=ki(0,0,.58,1),bg=ki(.42,0,.58,1),Ex=n=>Array.isArray(n)&&typeof n[0]!="number",_g=n=>Array.isArray(n)&&typeof n[0]=="number",Tx={linear:It,easeIn:kx,easeInOut:bg,easeOut:jx,circIn:Oc,circInOut:wg,circOut:xg,backIn:Rc,backInOut:yg,backOut:gg,anticipate:vg},Cx=n=>typeof n=="string",mp=n=>{if(_g(n)){Nc(n.length===4);const[e,s,i,a]=n;return ki(e,s,i,a)}else if(Cx(n))return Tx[n];return n},Vo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nx(n,e){let s=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,x=!1,w=!1)=>{const T=w&&a?s:i;return x&&c.add(y),T.has(y)||T.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[s,i]=[i,s],s.forEach(p),s.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Px=40;function Sg(n,e){let s=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=Vo.reduce((A,D)=>(A[D]=Nx(l),A),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:x,preRender:w,render:_,postRender:T}=c,k=()=>{const A=dn.useManualTiming?a.timestamp:performance.now();s=!1,dn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(A-a.timestamp,Px),1)),a.timestamp=A,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),x.process(a),w.process(a),_.process(a),T.process(a),a.isProcessing=!1,s&&e&&(i=!1,n(k))},E=()=>{s=!0,i=!0,a.isProcessing||n(k)};return{schedule:Vo.reduce((A,D)=>{const F=c[D];return A[D]=(B,K=!1,M=!1)=>(s||E(),F.schedule(B,K,M)),A},{}),cancel:A=>{for(let D=0;D<Vo.length;D++)c[Vo[D]].cancel(A)},state:a,steps:c}}const{schedule:Pe,cancel:Dn,state:nt,steps:vu}=Sg(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);let Qo;function Ax(){Qo=void 0}const vt={now:()=>(Qo===void 0&&vt.set(nt.isProcessing||dn.useManualTiming?nt.timestamp:performance.now()),Qo),set:n=>{Qo=n,queueMicrotask(Ax)}},kg=n=>e=>typeof e=="string"&&e.startsWith(n),Ic=kg("--"),Rx=kg("var(--"),Lc=n=>Rx(n)?Ox.test(n.split("/*")[0].trim()):!1,Ox=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fi={...cs,transform:n=>cn(0,1,n)},Bo={...cs,default:1},si=n=>Math.round(n*1e5)/1e5,Dc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ix(n){return n==null}const Lx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mc=(n,e)=>s=>!!(typeof s=="string"&&Lx.test(s)&&s.startsWith(n)||e&&!Ix(s)&&Object.prototype.hasOwnProperty.call(s,e)),jg=(n,e,s)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(Dc);return{[n]:parseFloat(a),[e]:parseFloat(l),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Dx=n=>cn(0,255,n),xu={...cs,transform:n=>Math.round(Dx(n))},or={test:Mc("rgb","red"),parse:jg("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+xu.transform(n)+", "+xu.transform(e)+", "+xu.transform(s)+", "+si(fi.transform(i))+")"};function Mx(n){let e="",s="",i="",a="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,s+=s,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Wu={test:Mc("#"),parse:Mx,transform:or.transform},ji=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rn=ji("deg"),Zt=ji("%"),ae=ji("px"),Fx=ji("vh"),$x=ji("vw"),gp={...Zt,parse:n=>Zt.parse(n)/100,transform:n=>Zt.transform(n*100)},Xr={test:Mc("hsl","hue"),parse:jg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Zt.transform(si(e))+", "+Zt.transform(si(s))+", "+si(fi.transform(i))+")"},qe={test:n=>or.test(n)||Wu.test(n)||Xr.test(n),parse:n=>or.test(n)?or.parse(n):Xr.test(n)?Xr.parse(n):Wu.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?or.transform(n):Xr.transform(n),getAnimatableNone:n=>{const e=qe.parse(n);return e.alpha=0,qe.transform(e)}},Ux=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vx(n){return isNaN(n)&&typeof n=="string"&&(n.match(Dc)?.length||0)+(n.match(Ux)?.length||0)>0}const Eg="number",Tg="color",Bx="var",Wx="var(",yp="${}",zx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pi(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(zx,p=>(qe.test(p)?(i.color.push(l),a.push(Tg),s.push(qe.parse(p))):p.startsWith(Wx)?(i.var.push(l),a.push(Bx),s.push(p)):(i.number.push(l),a.push(Eg),s.push(parseFloat(p))),++l,yp)).split(yp);return{values:s,split:d,indexes:i,types:a}}function Cg(n){return pi(n).values}function Ng(n){const{split:e,types:s}=pi(n),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=s[c];d===Eg?l+=si(a[c]):d===Tg?l+=qe.transform(a[c]):l+=a[c]}return l}}const qx=n=>typeof n=="number"?0:qe.test(n)?qe.getAnimatableNone(n):n;function Hx(n){const e=Cg(n);return Ng(n)(e.map(qx))}const Mn={test:Vx,parse:Cg,createTransformer:Ng,getAnimatableNone:Hx};function wu(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Kx({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let a=0,l=0,c=0;if(!e)a=l=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,p=2*s-d;a=wu(p,d,n+1/3),l=wu(p,d,n),c=wu(p,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function na(n,e){return s=>s>0?e:n}const Oe=(n,e,s)=>n+(e-n)*s,bu=(n,e,s)=>{const i=n*n,a=s*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Gx=[Wu,or,Xr],Jx=n=>Gx.find(e=>e.test(n));function vp(n){const e=Jx(n);if(!e)return!1;let s=e.parse(n);return e===Xr&&(s=Kx(s)),s}const xp=(n,e)=>{const s=vp(n),i=vp(e);if(!s||!i)return na(n,e);const a={...s};return l=>(a.red=bu(s.red,i.red,l),a.green=bu(s.green,i.green,l),a.blue=bu(s.blue,i.blue,l),a.alpha=Oe(s.alpha,i.alpha,l),or.transform(a))},zu=new Set(["none","hidden"]);function Yx(n,e){return zu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Qx(n,e){return s=>Oe(n,e,s)}function Fc(n){return typeof n=="number"?Qx:typeof n=="string"?Lc(n)?na:qe.test(n)?xp:ew:Array.isArray(n)?Pg:typeof n=="object"?qe.test(n)?xp:Xx:na}function Pg(n,e){const s=[...n],i=s.length,a=n.map((l,c)=>Fc(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)s[c]=a[c](l);return s}}function Xx(n,e){const s={...n,...e},i={};for(const a in s)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Fc(n[a])(n[a],e[a]));return a=>{for(const l in i)s[l]=i[l](a);return s}}function Zx(n,e){const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][i[l]],d=n.values[c]??0;s[a]=d,i[l]++}return s}const ew=(n,e)=>{const s=Mn.createTransformer(e),i=pi(n),a=pi(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?zu.has(n)&&!a.values.length||zu.has(e)&&!i.values.length?Yx(n,e):Si(Pg(Zx(i,a),a.values),s):na(n,e)};function Ag(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Oe(n,e,s):Fc(n)(n,e)}const tw=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Pe.update(e,s),stop:()=>Dn(e),now:()=>nt.isProcessing?nt.timestamp:vt.now()}},Rg=(n,e,s=10)=>{let i="";const a=Math.max(Math.round(e/s),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ra=2e4;function $c(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<ra;)e+=s,i=n.next(e);return e>=ra?1/0:e}function nw(n,e=100,s){const i=s({...n,keyframes:[0,e]}),a=Math.min($c(i),ra);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ot(a)}}const rw=5;function Og(n,e,s){const i=Math.max(e-rw,0);return hg(s-n(i),e-i)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_u=.001;function sw({duration:n=Me.duration,bounce:e=Me.bounce,velocity:s=Me.velocity,mass:i=Me.mass}){let a,l,c=1-e;c=cn(Me.minDamping,Me.maxDamping,c),n=cn(Me.minDuration,Me.maxDuration,Ot(n)),c<1?(a=g=>{const y=g*c,x=y*n,w=y-s,_=qu(g,c),T=Math.exp(-x);return _u-w/_*T},l=g=>{const x=g*c*n,w=x*s+s,_=Math.pow(c,2)*Math.pow(g,2)*n,T=Math.exp(-x),k=qu(Math.pow(g,2),c);return(-a(g)+_u>0?-1:1)*((w-_)*T)/k}):(a=g=>{const y=Math.exp(-g*n),x=(g-s)*n+1;return-_u+y*x},l=g=>{const y=Math.exp(-g*n),x=(s-g)*(n*n);return y*x});const d=5/n,p=ow(a,l,d);if(n=Xt(n),isNaN(p))return{stiffness:Me.stiffness,damping:Me.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:n}}}const iw=12;function ow(n,e,s){let i=s;for(let a=1;a<iw;a++)i=i-n(i)/e(i);return i}function qu(n,e){return n*Math.sqrt(1-e*e)}const aw=["duration","bounce"],lw=["stiffness","damping","mass"];function wp(n,e){return e.some(s=>n[s]!==void 0)}function uw(n){let e={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...n};if(!wp(n,lw)&&wp(n,aw))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),a=i*i,l=2*cn(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Me.mass,stiffness:a,damping:l}}else{const s=sw(n);e={...e,...s,mass:Me.mass},e.isResolvedFromDuration=!0}return e}function sa(n=Me.visualDuration,e=Me.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:x,velocity:w,isResolvedFromDuration:_}=uw({...s,velocity:-Ot(s.velocity||0)}),T=w||0,k=g/(2*Math.sqrt(p*y)),E=c-l,I=Ot(Math.sqrt(p/y)),L=Math.abs(E)<5;i||(i=L?Me.restSpeed.granular:Me.restSpeed.default),a||(a=L?Me.restDelta.granular:Me.restDelta.default);let A;if(k<1){const F=qu(I,k);A=B=>{const K=Math.exp(-k*I*B);return c-K*((T+k*I*E)/F*Math.sin(F*B)+E*Math.cos(F*B))}}else if(k===1)A=F=>c-Math.exp(-I*F)*(E+(T+I*E)*F);else{const F=I*Math.sqrt(k*k-1);A=B=>{const K=Math.exp(-k*I*B),M=Math.min(F*B,300);return c-K*((T+k*I*E)*Math.sinh(M)+F*E*Math.cosh(M))/F}}const D={calculatedDuration:_&&x||null,next:F=>{const B=A(F);if(_)d.done=F>=x;else{let K=F===0?T:0;k<1&&(K=F===0?Xt(T):Og(A,F,B));const M=Math.abs(K)<=i,te=Math.abs(c-B)<=a;d.done=M&&te}return d.value=d.done?c:B,d},toString:()=>{const F=Math.min($c(D),ra),B=Rg(K=>D.next(F*K).value,F,30);return F+"ms "+B},toTransition:()=>{}};return D}sa.applyToOptions=n=>{const e=nw(n,100,sa);return n.ease=e.ease,n.duration=Xt(e.duration),n.type="keyframes",n};function Hu({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const x=n[0],w={done:!1,value:x},_=M=>d!==void 0&&M<d||p!==void 0&&M>p,T=M=>d===void 0?p:p===void 0||Math.abs(d-M)<Math.abs(p-M)?d:p;let k=s*e;const E=x+k,I=c===void 0?E:c(E);I!==E&&(k=I-x);const L=M=>-k*Math.exp(-M/i),A=M=>I+L(M),D=M=>{const te=L(M),xe=A(M);w.done=Math.abs(te)<=g,w.value=w.done?I:xe};let F,B;const K=M=>{_(w.value)&&(F=M,B=sa({keyframes:[w.value,T(w.value)],velocity:Og(A,M,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return K(0),{calculatedDuration:null,next:M=>{let te=!1;return!B&&F===void 0&&(te=!0,D(M),K(M)),F!==void 0&&M>=F?B.next(M-F):(!te&&D(M),w)}}}function cw(n,e,s){const i=[],a=s||dn.mix||Ag,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||It:e;d=Si(p,d)}i.push(d)}return i}function dw(n,e,{clamp:s=!0,ease:i,mixer:a}={}){const l=n.length;if(Nc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=cw(e,i,a),p=d.length,g=y=>{if(c&&y<n[0])return e[0];let x=0;if(p>1)for(;x<n.length-2&&!(y<n[x+1]);x++);const w=hi(n[x],n[x+1],y);return d[x](w)};return s?y=>g(cn(n[0],n[l-1],y)):g}function hw(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const a=hi(0,e,i);n.push(Oe(s,1,a))}}function fw(n){const e=[0];return hw(e,n.length-1),e}function pw(n,e){return n.map(s=>s*e)}function mw(n,e){return n.map(()=>e||bg).splice(0,n.length-1)}function ii({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const a=Ex(i)?i.map(mp):mp(i),l={done:!1,value:e[0]},c=pw(s&&s.length===e.length?s:fw(e),n),d=dw(c,e,{ease:Array.isArray(a)?a:mw(e,a)});return{calculatedDuration:n,next:p=>(l.value=d(p),l.done=p>=n,l)}}const gw=n=>n!==null;function Uc(n,{repeat:e,repeatType:s="loop"},i,a=1){const l=n.filter(gw),d=a<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const yw={decay:Hu,inertia:Hu,tween:ii,keyframes:ii,spring:sa};function Ig(n){typeof n.type=="string"&&(n.type=yw[n.type])}class Vc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const vw=n=>n/100;class Bc extends Vc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ig(e);const{type:s=ii,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const p=s||ii;p!==ii&&typeof d[0]!="number"&&(this.mixKeyframes=Si(vw,Ag(d[0],d[1])),d=[0,100]);const g=p({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=$c(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:x,repeatType:w,repeatDelay:_,type:T,onUpdate:k,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const I=this.currentTime-g*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?I<0:I>a;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,D=i;if(x){const M=Math.min(this.currentTime,a)/d;let te=Math.floor(M),xe=M%1;!xe&&M>=1&&(xe=1),xe===1&&te--,te=Math.min(te,x+1),!!(te%2)&&(w==="reverse"?(xe=1-xe,_&&(xe-=_/d)):w==="mirror"&&(D=c)),A=cn(0,1,xe)*d}const F=L?{done:!1,value:y[0]}:D.next(A);l&&(F.value=l(F.value));let{done:B}=F;!L&&p!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return K&&T!==Hu&&(F.value=Uc(y,this.options,E,this.speed)),k&&k(F.value),K&&this.finish(),F}then(e,s){return this.finished.then(e,s)}get duration(){return Ot(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(this.currentTime)}set time(e){e=Xt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ot(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tw,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function xw(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ar=n=>n*180/Math.PI,Ku=n=>{const e=ar(Math.atan2(n[1],n[0]));return Gu(e)},ww={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ku,rotateZ:Ku,skewX:n=>ar(Math.atan(n[1])),skewY:n=>ar(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Gu=n=>(n=n%360,n<0&&(n+=360),n),bp=Ku,_p=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Sp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_p,scaleY:Sp,scale:n=>(_p(n)+Sp(n))/2,rotateX:n=>Gu(ar(Math.atan2(n[6],n[5]))),rotateY:n=>Gu(ar(Math.atan2(-n[2],n[0]))),rotateZ:bp,rotate:bp,skewX:n=>ar(Math.atan(n[4])),skewY:n=>ar(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ju(n){return n.includes("scale")?1:0}function Yu(n,e){if(!n||n==="none")return Ju(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(s)i=bw,a=s;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ww,a=d}if(!a)return Ju(e);const l=i[e],c=a[1].split(",").map(Sw);return typeof l=="function"?l(c):c[l]}const _w=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Yu(s,e)};function Sw(n){return parseFloat(n.trim())}const ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hs=new Set(ds),kp=n=>n===cs||n===ae,kw=new Set(["x","y","z"]),jw=ds.filter(n=>!kw.has(n));function Ew(n){const e=[];return jw.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const cr={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Yu(e,"x"),y:(n,{transform:e})=>Yu(e,"y")};cr.translateX=cr.x;cr.translateY=cr.y;const dr=new Set;let Qu=!1,Xu=!1,Zu=!1;function Lg(){if(Xu){const n=Array.from(dr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const a=Ew(i);a.length&&(s.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=s.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xu=!1,Qu=!1,dr.forEach(n=>n.complete(Zu)),dr.clear()}function Dg(){dr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Xu=!0)})}function Tw(){Zu=!0,Dg(),Lg(),Zu=!1}class Wc{constructor(e,s,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(dr.add(this),Qu||(Qu=!0,Pe.read(Dg),Pe.resolveKeyframes(Lg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&s){const d=i.readValue(s,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}xw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dr.delete(this)}cancel(){this.state==="scheduled"&&(dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cw=n=>n.startsWith("--");function Nw(n,e,s){Cw(e)?n.style.setProperty(e,s):n.style[e]=s}const Pw=Pc(()=>window.ScrollTimeline!==void 0),Aw={};function Rw(n,e){const s=Pc(n);return()=>Aw[e]??s()}const Mg=Rw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ni=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,jp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function Fg(n,e){if(n)return typeof n=="function"?Mg()?Rg(n,e):"ease-out":_g(n)?ni(n):Array.isArray(n)?n.map(s=>Fg(s,e)||jp.easeOut):jp[n]}function Ow(n,e,s,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[e]:s};p&&(y.offset=p);const x=Fg(d,a);Array.isArray(x)&&(y.easing=x);const w={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(y,w)}function $g(n){return typeof n=="function"&&"applyToOptions"in n}function Iw({type:n,...e}){return $g(n)&&Mg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Lw extends Vc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Nc(typeof e.type!="string");const g=Iw(e);this.animation=Ow(s,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Uc(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):Nw(s,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ot(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Pw()?(this.animation.timeline=e,It):s(this)}}const Ug={anticipate:vg,backInOut:yg,circInOut:wg};function Dw(n){return n in Ug}function Mw(n){typeof n.ease=="string"&&Dw(n.ease)&&(n.ease=Ug[n.ease])}const Ep=10;class Fw extends Lw{constructor(e){Mw(e),Ig(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const d=new Bc({...c,autoplay:!1}),p=Xt(this.finishedTime??this.time);s.setWithVelocity(d.sample(p-Ep).value,d.sample(p).value,Ep),d.stop()}}const Tp=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Mn.test(n)||n==="0")&&!n.startsWith("url("));function $w(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function Uw(n,e,s,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=Tp(a,e),d=Tp(l,e);return!c||!d?!1:$w(n)||(s==="spring"||$g(s))&&i}function ec(n){n.duration=0,n.type="keyframes"}const Vw=new Set(["opacity","clipPath","filter","transform"]),Bw=Pc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ww(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:a,damping:l,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return Bw()&&s&&Vw.has(s)&&(s!=="transform"||!g)&&!p&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const zw=40;class qw extends Vc{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vt.now();const w={autoplay:e,delay:s,type:i,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,...x},_=y?.KeyframeResolver||Wc;this.keyframeResolver=new _(d,(T,k,E)=>this.onKeyframesResolved(T,k,w,!E),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=vt.now(),Uw(e,l,c,d)||((dn.instantAnimations||!p)&&y?.(Uc(e,i,s)),e[0]=e[e.length-1],ec(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>zw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},_=!g&&Ww(w)?new Fw({...w,element:w.motionValue.owner.current}):new Bc(w);_.finished.then(()=>this.notifyFinished()).catch(It),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Tw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Hw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kw(n){const e=Hw.exec(n);if(!e)return[,];const[,s,i,a]=e;return[`--${s??i}`,a]}function Vg(n,e,s=1){const[i,a]=Kw(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return ug(c)?parseFloat(c):c}return Lc(a)?Vg(a,e,s+1):a}function zc(n,e){return n?.[e]??n?.default??n}const Bg=new Set(["width","height","top","left","right","bottom",...ds]),Gw={test:n=>n==="auto",parse:n=>n},Wg=n=>e=>e.test(n),zg=[cs,ae,Zt,Rn,$x,Fx,Gw],Cp=n=>zg.find(Wg(n));function Jw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dg(n):!0}const Yw=new Set(["brightness","contrast","saturate","opacity"]);function Qw(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Dc)||[];if(!i)return n;const a=s.replace(i,"");let l=Yw.has(e)?1:0;return i!==s&&(l*=100),e+"("+l+a+")"}const Xw=/\b([a-z-]*)\(.*?\)/gu,tc={...Mn,getAnimatableNone:n=>{const e=n.match(Xw);return e?e.map(Qw).join(" "):n}},Np={...cs,transform:Math.round},Zw={rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:Bo,scaleX:Bo,scaleY:Bo,scaleZ:Bo,skew:Rn,skewX:Rn,skewY:Rn,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:fi,originX:gp,originY:gp,originZ:ae},qc={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...Zw,zIndex:Np,fillOpacity:fi,strokeOpacity:fi,numOctaves:Np},eb={...qc,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:tc,WebkitFilter:tc},qg=n=>eb[n];function Hg(n,e){let s=qg(n);return s!==tc&&(s=Mn),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const tb=new Set(["auto","none","0"]);function nb(n,e,s){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!tb.has(l)&&pi(l).values.length&&(a=n[i]),i++}if(a&&s)for(const l of e)n[l]=Hg(s,a)}class rb extends Wc{constructor(e,s,i,a,l){super(e,s,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Lc(g))){const y=Vg(g,s.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Bg.has(i)||e.length!==2)return;const[a,l]=e,c=Cp(a),d=Cp(l);if(c!==d)if(kp(c)&&kp(d))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else cr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Jw(e[a]))&&i.push(a);i.length&&nb(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=cr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function sb(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=s?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Kg=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Gg(n){return cg(n)&&"offsetHeight"in n}const Pp=30,ib=n=>!isNaN(parseFloat(n));class ob{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=vt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ib(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ac);const i=this.events[e].add(s);return e==="change"?()=>{i(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Pp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Pp);return hg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function os(n,e){return new ob(n,e)}const{schedule:Hc}=Sg(queueMicrotask,!1),Wt={x:!1,y:!1};function Jg(){return Wt.x||Wt.y}function ab(n){return n==="x"||n==="y"?Wt[n]?null:(Wt[n]=!0,()=>{Wt[n]=!1}):Wt.x||Wt.y?null:(Wt.x=Wt.y=!0,()=>{Wt.x=Wt.y=!1})}function Yg(n,e){const s=sb(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[s,a,()=>i.abort()]}function Ap(n){return!(n.pointerType==="touch"||Jg())}function lb(n,e,s={}){const[i,a,l]=Yg(n,s),c=d=>{if(!Ap(d))return;const{target:p}=d,g=e(p,d);if(typeof g!="function"||!p)return;const y=x=>{Ap(x)&&(g(x),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Qg=(n,e)=>e?n===e?!0:Qg(n,e.parentElement):!1,Kc=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ub=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cb(n){return ub.has(n.tagName)||n.tabIndex!==-1}const Xo=new WeakSet;function Rp(n){return e=>{e.key==="Enter"&&n(e)}}function Su(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const db=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=Rp(()=>{if(Xo.has(s))return;Su(s,"down");const a=Rp(()=>{Su(s,"up")}),l=()=>Su(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function Op(n){return Kc(n)&&!Jg()}function hb(n,e,s={}){const[i,a,l]=Yg(n,s),c=d=>{const p=d.currentTarget;if(!Op(d))return;Xo.add(p);const g=e(p,d),y=(_,T)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",w),Xo.has(p)&&Xo.delete(p),Op(_)&&typeof g=="function"&&g(_,{success:T})},x=_=>{y(_,p===window||p===document||s.useGlobalTarget||Qg(p,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",w,a)};return i.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Gg(d)&&(d.addEventListener("focus",g=>db(g,a)),!cb(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Xg(n){return cg(n)&&"ownerSVGElement"in n}function fb(n){return Xg(n)&&n.tagName==="svg"}const at=n=>!!(n&&n.getVelocity),pb=[...zg,qe,Mn],mb=n=>pb.find(Wg(n)),Gc=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Ip(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function gb(...n){return e=>{let s=!1;const i=n.map(a=>{const l=Ip(a,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Ip(n[a],null)}}}}function yb(...n){return R.useCallback(gb(...n),n)}class vb extends R.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,a=Gg(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xb({children:n,isPresent:e,anchorX:s,root:i}){const a=R.useId(),l=R.useRef(null),c=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=R.useContext(Gc),p=yb(l,n?.ref);return R.useInsertionEffect(()=>{const{width:g,height:y,top:x,left:w,right:_}=c.current;if(e||!l.current||!g||!y)return;const T=s==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");d&&(k.nonce=d);const E=i??document.head;return E.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${x}px !important;
          }
        `),()=>{E.contains(k)&&E.removeChild(k)}},[e]),h.jsx(vb,{isPresent:e,childRef:l,sizeRef:c,children:R.cloneElement(n,{ref:p})})}const wb=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=jc(bb),y=R.useId();let x=!0,w=R.useMemo(()=>(x=!1,{id:y,initial:e,isPresent:s,custom:a,onExitComplete:_=>{g.set(_,!0);for(const T of g.values())if(!T)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[s,g,i]);return l&&x&&(w={...w}),R.useMemo(()=>{g.forEach((_,T)=>g.set(T,!1))},[s]),R.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),c==="popLayout"&&(n=h.jsx(xb,{isPresent:s,anchorX:d,root:p,children:n})),h.jsx(da.Provider,{value:w,children:n})};function bb(){return new Map}function Zg(n=!0){const e=R.useContext(da);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=e,l=R.useId();R.useEffect(()=>{if(n)return a(l)},[n]);const c=R.useCallback(()=>n&&i&&i(l),[l,i,n]);return!s&&i?[!1,c]:[!0]}const Wo=n=>n.key||"";function Lp(n){const e=[];return R.Children.forEach(n,s=>{R.isValidElement(s)&&e.push(s)}),e}const Ei=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=Zg(c),x=R.useMemo(()=>Lp(n),[n]),w=c&&!g?[]:x.map(Wo),_=R.useRef(!0),T=R.useRef(x),k=jc(()=>new Map),[E,I]=R.useState(x),[L,A]=R.useState(x);lg(()=>{_.current=!1,T.current=x;for(let B=0;B<L.length;B++){const K=Wo(L[B]);w.includes(K)?k.delete(K):k.get(K)!==!0&&k.set(K,!1)}},[L,w.length,w.join("-")]);const D=[];if(x!==E){let B=[...x];for(let K=0;K<L.length;K++){const M=L[K],te=Wo(M);w.includes(te)||(B.splice(K,0,M),D.push(M))}return l==="wait"&&D.length&&(B=D),A(Lp(B)),I(x),null}const{forceRender:F}=R.useContext(kc);return h.jsx(h.Fragment,{children:L.map(B=>{const K=Wo(B),M=c&&!g?!1:x===L||w.includes(K),te=()=>{if(k.has(K))k.set(K,!0);else return;let xe=!0;k.forEach(Le=>{Le||(xe=!1)}),xe&&(F?.(),A(T.current),c&&y?.(),i&&i())};return h.jsx(wb,{isPresent:M,initial:!_.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:te,anchorX:d,children:B},K)})})},ey=R.createContext({strict:!1}),Dp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const n in Dp)as[n]={isEnabled:e=>Dp[n].some(s=>!!e[s])};function _b(n){for(const e in n)as[e]={...as[e],...n[e]}}const Sb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ia(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Sb.has(n)}let ty=n=>!ia(n);function kb(n){typeof n=="function"&&(ty=e=>e.startsWith("on")?!ia(e):n(e))}try{kb(require("@emotion/is-prop-valid").default)}catch{}function jb(n,e,s){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(ty(a)||s===!0&&ia(a)||!e&&!ia(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ha=R.createContext({});function fa(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function mi(n){return typeof n=="string"||Array.isArray(n)}const Jc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yc=["initial",...Jc];function pa(n){return fa(n.animate)||Yc.some(e=>mi(n[e]))}function ny(n){return!!(pa(n)||n.variants)}function Eb(n,e){if(pa(n)){const{initial:s,animate:i}=n;return{initial:s===!1||mi(s)?s:void 0,animate:mi(i)?i:void 0}}return n.inherit!==!1?e:{}}function Tb(n){const{initial:e,animate:s}=Eb(n,R.useContext(ha));return R.useMemo(()=>({initial:e,animate:s}),[Mp(e),Mp(s)])}function Mp(n){return Array.isArray(n)?n.join(" "):n}const gi={};function Cb(n){for(const e in n)gi[e]=n[e],Ic(e)&&(gi[e].isCSSVariable=!0)}function ry(n,{layout:e,layoutId:s}){return hs.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!gi[n]||n==="opacity")}const Nb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pb=ds.length;function Ab(n,e,s){let i="",a=!0;for(let l=0;l<Pb;l++){const c=ds[l],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||s){const g=Kg(d,qc[c]);if(!p){a=!1;const y=Nb[c]||c;i+=`${y}(${g}) `}s&&(e[c]=g)}}return i=i.trim(),s?i=s(e,a?"":i):a&&(i="none"),i}function Qc(n,e,s){const{style:i,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const p in e){const g=e[p];if(hs.has(p)){c=!0;continue}else if(Ic(p)){a[p]=g;continue}else{const y=Kg(g,qc[p]);p.startsWith("origin")?(d=!0,l[p]=y):i[p]=y}}if(e.transform||(c||s?i.transform=Ab(e,n.transform,s):i.transform&&(i.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const Xc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sy(n,e,s){for(const i in e)!at(e[i])&&!ry(i,s)&&(n[i]=e[i])}function Rb({transformTemplate:n},e){return R.useMemo(()=>{const s=Xc();return Qc(s,e,n),Object.assign({},s.vars,s.style)},[e])}function Ob(n,e){const s=n.style||{},i={};return sy(i,s,n),Object.assign(i,Rb(n,e)),i}function Ib(n,e){const s={},i=Ob(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const Lb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Db={offset:"strokeDashoffset",array:"strokeDasharray"};function Mb(n,e,s=1,i=0,a=!0){n.pathLength=1;const l=a?Lb:Db;n[l.offset]=ae.transform(-i);const c=ae.transform(e),d=ae.transform(s);n[l.array]=`${c} ${d}`}function iy(n,{attrX:e,attrY:s,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(Qc(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:w}=n;x.transform&&(w.transform=x.transform,delete x.transform),(w.transform||x.transformOrigin)&&(w.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),a!==void 0&&Mb(x,a,l,c,!1)}const oy=()=>({...Xc(),attrs:{}}),ay=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Fb(n,e,s,i){const a=R.useMemo(()=>{const l=oy();return iy(l,e,ay(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};sy(l,n.style,n),a.style={...l,...a.style}}return a}const $b=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zc(n){return typeof n!="string"||n.includes("-")?!1:!!($b.indexOf(n)>-1||/[A-Z]/u.test(n))}function Ub(n,e,s,{latestValues:i},a,l=!1){const d=(Zc(n)?Fb:Ib)(e,i,a,n),p=jb(e,typeof n=="string",l),g=n!==R.Fragment?{...p,...d,ref:s}:{},{children:y}=e,x=R.useMemo(()=>at(y)?y.get():y,[y]);return R.createElement(n,{...g,children:x})}function Fp(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function ed(n,e,s,i){if(typeof e=="function"){const[a,l]=Fp(i);e=e(s!==void 0?s:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=Fp(i);e=e(s!==void 0?s:n.custom,a,l)}return e}function Zo(n){return at(n)?n.get():n}function Vb({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,a){return{latestValues:Bb(s,i,a,n),renderState:e()}}function Bb(n,e,s,i){const a={},l=i(n,{});for(const w in l)a[w]=Zo(l[w]);let{initial:c,animate:d}=n;const p=pa(n),g=ny(n);e&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=s?s.initial===!1:!1;y=y||c===!1;const x=y?d:c;if(x&&typeof x!="boolean"&&!fa(x)){const w=Array.isArray(x)?x:[x];for(let _=0;_<w.length;_++){const T=ed(n,w[_]);if(T){const{transitionEnd:k,transition:E,...I}=T;for(const L in I){let A=I[L];if(Array.isArray(A)){const D=y?A.length-1:0;A=A[D]}A!==null&&(a[L]=A)}for(const L in k)a[L]=k[L]}}}return a}const ly=n=>(e,s)=>{const i=R.useContext(ha),a=R.useContext(da),l=()=>Vb(n,e,i,a);return s?l():jc(l)};function td(n,e,s){const{style:i}=n,a={};for(const l in i)(at(i[l])||e.style&&at(e.style[l])||ry(l,n)||s?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const Wb=ly({scrapeMotionValuesFromProps:td,createRenderState:Xc});function uy(n,e,s){const i=td(n,e,s);for(const a in n)if(at(n[a])||at(e[a])){const l=ds.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const zb=ly({scrapeMotionValuesFromProps:uy,createRenderState:oy}),qb=Symbol.for("motionComponentSymbol");function Zr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Hb(n,e,s){return R.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Zr(s)&&(s.current=i))},[e])}const nd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Kb="framerAppearId",cy="data-"+nd(Kb),dy=R.createContext({});function Gb(n,e,s,i,a){const{visualElement:l}=R.useContext(ha),c=R.useContext(ey),d=R.useContext(da),p=R.useContext(Gc).reducedMotion,g=R.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,x=R.useContext(dy);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Jb(g.current,s,a,x);const w=R.useRef(!1);R.useInsertionEffect(()=>{y&&w.current&&y.update(s,d)});const _=s[cy],T=R.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return lg(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),R.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),T.current=!1),y.enteringChildren=void 0)}),y}function Jb(n,e,s,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:hy(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Zr(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function hy(n){if(n)return n.options.allowProjection!==!1?n.projection:hy(n.parent)}function ku(n,{forwardMotionProps:e=!1}={},s,i){s&&_b(s);const a=Zc(n)?zb:Wb;function l(d,p){let g;const y={...R.useContext(Gc),...d,layoutId:Yb(d)},{isStatic:x}=y,w=Tb(d),_=a(d,x);if(!x&&Ec){Qb();const T=Xb(y);g=T.MeasureLayout,w.visualElement=Gb(n,_,y,i,T.ProjectionNode)}return h.jsxs(ha.Provider,{value:w,children:[g&&w.visualElement?h.jsx(g,{visualElement:w.visualElement,...y}):null,Ub(n,d,Hb(_,w.visualElement,p),_,x,e)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=R.forwardRef(l);return c[qb]=n,c}function Yb({layoutId:n}){const e=R.useContext(kc).id;return e&&n!==void 0?e+"-"+n:n}function Qb(n,e){R.useContext(ey).strict}function Xb(n){const{drag:e,layout:s}=as;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Zb(n,e){if(typeof Proxy>"u")return ku;const s=new Map,i=(l,c)=>ku(l,c,n,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(s.has(c)||s.set(c,ku(c,void 0,n,e)),s.get(c))})}function fy({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function e1({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function t1(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function ju(n){return n===void 0||n===1}function nc({scale:n,scaleX:e,scaleY:s}){return!ju(n)||!ju(e)||!ju(s)}function nr(n){return nc(n)||py(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function py(n){return $p(n.x)||$p(n.y)}function $p(n){return n&&n!=="0%"}function oa(n,e,s){const i=n-s,a=e*i;return s+a}function Up(n,e,s,i,a){return a!==void 0&&(n=oa(n,a,i)),oa(n,s,i)+e}function rc(n,e=0,s=1,i,a){n.min=Up(n.min,e,s,i,a),n.max=Up(n.max,e,s,i,a)}function my(n,{x:e,y:s}){rc(n.x,e.translate,e.scale,e.originPoint),rc(n.y,s.translate,s.scale,s.originPoint)}const Vp=.999999999999,Bp=1.0000000000001;function n1(n,e,s,i=!1){const a=s.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=s[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ts(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,my(n,c)),i&&nr(l.latestValues)&&ts(n,l.latestValues))}e.x<Bp&&e.x>Vp&&(e.x=1),e.y<Bp&&e.y>Vp&&(e.y=1)}function es(n,e){n.min=n.min+e,n.max=n.max+e}function Wp(n,e,s,i,a=.5){const l=Oe(n.min,n.max,a);rc(n,e,s,l,i)}function ts(n,e){Wp(n.x,e.x,e.scaleX,e.scale,e.originX),Wp(n.y,e.y,e.scaleY,e.scale,e.originY)}function gy(n,e){return fy(t1(n.getBoundingClientRect(),e))}function r1(n,e,s){const i=gy(n,s),{scroll:a}=e;return a&&(es(i.x,a.offset.x),es(i.y,a.offset.y)),i}const zp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ns=()=>({x:zp(),y:zp()}),qp=()=>({min:0,max:0}),Ue=()=>({x:qp(),y:qp()}),sc={current:null},yy={current:!1};function s1(){if(yy.current=!0,!!Ec)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sc.current=n.matches;n.addEventListener("change",e),e()}else sc.current=!1}const i1=new WeakMap;function o1(n,e,s){for(const i in e){const a=e[i],l=s[i];if(at(a))n.addValue(i,a);else if(at(l))n.addValue(i,os(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,os(c!==void 0?c:a,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Hp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class a1{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=vt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=pa(s),this.isVariantNode=ny(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in x){const _=x[w];p[w]!==void 0&&at(_)&&_.set(p[w])}}mount(e){this.current=e,i1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),yy.current||s1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=hs.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in as){const s=as[e];if(!s)continue;const{isEnabled:i,Feature:a}=s;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Hp.length;i++){const a=Hp[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=o1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=os(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ug(i)||dg(i))?i=parseFloat(i):!mb(i)&&Mn.test(s)&&(i=Hg(e,s)),this.setBaseTarget(e,at(i)?i.get():i)),at(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=ed(this.props,s,this.presenceContext?.custom);l&&(i=l[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!at(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ac),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Hc.render(this.render)}}class vy extends a1{constructor(){super(...arguments),this.KeyframeResolver=rb}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;at(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function xy(n,{style:e,vars:s},i,a){const l=n.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in s)l.setProperty(c,s[c])}function l1(n){return window.getComputedStyle(n)}class u1 extends vy{constructor(){super(...arguments),this.type="html",this.renderInstance=xy}readValueFromInstance(e,s){if(hs.has(s))return this.projection?.isProjecting?Ju(s):_w(e,s);{const i=l1(e),a=(Ic(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return gy(e,s)}build(e,s,i){Qc(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return td(e,s,i)}}const wy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c1(n,e,s,i){xy(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(wy.has(a)?a:nd(a),e.attrs[a])}class d1 extends vy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(hs.has(s)){const i=qg(s);return i&&i.default||0}return s=wy.has(s)?s:nd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return uy(e,s,i)}build(e,s,i){iy(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,a){c1(e,s,i,a)}mount(e){this.isSVGTag=ay(e.tagName),super.mount(e)}}const h1=(n,e)=>Zc(n)?new d1(e):new u1(e,{allowProjection:n!==R.Fragment});function rs(n,e,s){const i=n.getProps();return ed(i,e,s!==void 0?s:i.custom,n)}const ic=n=>Array.isArray(n);function f1(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,os(s))}function p1(n){return ic(n)?n[n.length-1]||0:n}function m1(n,e){const s=rs(n,e);let{transitionEnd:i={},transition:a={},...l}=s||{};l={...l,...i};for(const c in l){const d=p1(l[c]);f1(n,c,d)}}function g1(n){return!!(at(n)&&n.add)}function oc(n,e){const s=n.getValue("willChange");if(g1(s))return s.add(e);if(!s&&dn.WillChange){const i=new dn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function by(n){return n.props[cy]}const y1=n=>n!==null;function v1(n,{repeat:e,repeatType:s="loop"},i){const a=n.filter(y1),l=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[l]}const x1={type:"spring",stiffness:500,damping:25,restSpeed:10},w1=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),b1={type:"keyframes",duration:.8},_1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S1=(n,{keyframes:e})=>e.length>2?b1:hs.has(n)?n.startsWith("scale")?w1(e[1]):x1:_1;function k1({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const rd=(n,e,s,i={},a,l)=>c=>{const d=zc(i,n)||{},p=d.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Xt(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};k1(d)||Object.assign(y,S1(n,y)),y.duration&&(y.duration=Xt(y.duration)),y.repeatDelay&&(y.repeatDelay=Xt(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ec(y),y.delay===0&&(x=!0)),(dn.instantAnimations||dn.skipAnimations)&&(x=!0,ec(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const w=v1(y.keyframes,d);if(w!==void 0){Pe.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new Bc(y):new qw(y)};function j1({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function _y(n,e,{delay:s=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in d){const x=n.getValue(y,n.latestValues[y]??null),w=d[y];if(w===void 0||g&&j1(g,y))continue;const _={delay:s,...zc(l||{},y)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===T&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const I=by(n);if(I){const L=window.MotionHandoffAnimation(I,y,Pe);L!==null&&(_.startTime=L,k=!0)}}oc(n,y),x.start(rd(y,x,w,n.shouldReduceMotion&&Bg.has(y)?{type:!1}:_,n,k));const E=x.animation;E&&p.push(E)}return c&&Promise.all(p).then(()=>{Pe.update(()=>{c&&m1(n,c)})}),p}function Sy(n,e,s,i=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=n.size,d=(c-1)*i;return typeof s=="function"?s(l,c):a===1?l*i:d-l*i}function ac(n,e,s={}){const i=rs(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(_y(n,i,s)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=a;return E1(n,e,p,g,y,x,s)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(s.delay)])}function E1(n,e,s=0,i=0,a=0,l=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",e),d.push(ac(p,e,{...c,delay:s+(typeof i=="function"?0:i)+Sy(n.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function T1(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>ac(n,l,s));i=Promise.all(a)}else if(typeof e=="string")i=ac(n,e,s);else{const a=typeof e=="function"?rs(n,e,s.custom):e;i=Promise.all(_y(n,a,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function ky(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const C1=Yc.length;function jy(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?jy(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<C1;s++){const i=Yc[s],a=n.props[i];(mi(a)||a===!1)&&(e[i]=a)}return e}const N1=[...Jc].reverse(),P1=Jc.length;function A1(n){return e=>Promise.all(e.map(({animation:s,options:i})=>T1(n,s,i)))}function R1(n){let e=A1(n),s=Kp(),i=!0;const a=p=>(g,y)=>{const x=rs(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:w,transitionEnd:_,...T}=x;g={...g,...T,..._}}return g};function l(p){e=p(n)}function c(p){const{props:g}=n,y=jy(n.parent)||{},x=[],w=new Set;let _={},T=1/0;for(let E=0;E<P1;E++){const I=N1[E],L=s[I],A=g[I]!==void 0?g[I]:y[I],D=mi(A),F=I===p?L.isActive:null;F===!1&&(T=E);let B=A===y[I]&&A!==g[I]&&D;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),L.protectedKeys={..._},!L.isActive&&F===null||!A&&!L.prevProp||fa(A)||typeof A=="boolean")continue;const K=O1(L.prevProp,A);let M=K||I===p&&L.isActive&&!B&&D||E>T&&D,te=!1;const xe=Array.isArray(A)?A:[A];let Le=xe.reduce(a(I),{});F===!1&&(Le={});const{prevResolvedValues:pe={}}=L,Ve={...pe,...Le},ue=oe=>{M=!0,w.has(oe)&&(te=!0,w.delete(oe)),L.needsAnimating[oe]=!0;const z=n.getValue(oe);z&&(z.liveStyle=!1)};for(const oe in Ve){const z=Le[oe],Z=pe[oe];if(_.hasOwnProperty(oe))continue;let G=!1;ic(z)&&ic(Z)?G=!ky(z,Z):G=z!==Z,G?z!=null?ue(oe):w.add(oe):z!==void 0&&w.has(oe)?ue(oe):L.protectedKeys[oe]=!0}L.prevProp=A,L.prevResolvedValues=Le,L.isActive&&(_={..._,...Le}),i&&n.blockInitialAnimation&&(M=!1);const H=B&&K;M&&(!H||te)&&x.push(...xe.map(oe=>{const z={type:I};if(typeof oe=="string"&&i&&!H&&n.manuallyAnimateOnMount&&n.parent){const{parent:Z}=n,G=rs(Z,oe);if(Z.enteringChildren&&G){const{delayChildren:C}=G.transition||{};z.delay=Sy(Z.enteringChildren,n,C)}}return{animation:oe,options:z}}))}if(w.size){const E={};if(typeof g.initial!="boolean"){const I=rs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);I&&I.transition&&(E.transition=I.transition)}w.forEach(I=>{const L=n.getBaseTarget(I),A=n.getValue(I);A&&(A.liveStyle=!0),E[I]=L??null}),x.push({animation:E})}let k=!!x.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(x):Promise.resolve()}function d(p,g){if(s[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(p,g)),s[p].isActive=g;const y=c(p);for(const x in s)s[x].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>s,reset:()=>{s=Kp()}}}function O1(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ky(e,n):!1}function Zn(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kp(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class Fn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I1 extends Fn{constructor(e){super(e),e.animationState||(e.animationState=R1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let L1=0;class D1 extends Fn{constructor(){super(...arguments),this.id=L1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M1={animation:{Feature:I1},exit:{Feature:D1}};function yi(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function Ti(n){return{point:{x:n.pageX,y:n.pageY}}}const F1=n=>e=>Kc(e)&&n(e,Ti(e));function oi(n,e,s,i){return yi(n,e,F1(s),i)}const Ey=1e-4,$1=1-Ey,U1=1+Ey,Ty=.01,V1=0-Ty,B1=0+Ty;function ct(n){return n.max-n.min}function W1(n,e,s){return Math.abs(n-e)<=s}function Gp(n,e,s,i=.5){n.origin=i,n.originPoint=Oe(e.min,e.max,n.origin),n.scale=ct(s)/ct(e),n.translate=Oe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=$1&&n.scale<=U1||isNaN(n.scale))&&(n.scale=1),(n.translate>=V1&&n.translate<=B1||isNaN(n.translate))&&(n.translate=0)}function ai(n,e,s,i){Gp(n.x,e.x,s.x,i?i.originX:void 0),Gp(n.y,e.y,s.y,i?i.originY:void 0)}function Jp(n,e,s){n.min=s.min+e.min,n.max=n.min+ct(e)}function z1(n,e,s){Jp(n.x,e.x,s.x),Jp(n.y,e.y,s.y)}function Yp(n,e,s){n.min=e.min-s.min,n.max=n.min+ct(e)}function li(n,e,s){Yp(n.x,e.x,s.x),Yp(n.y,e.y,s.y)}function Rt(n){return[n("x"),n("y")]}const Cy=({current:n})=>n?n.ownerDocument.defaultView:null,Qp=(n,e)=>Math.abs(n-e);function q1(n,e){const s=Qp(n.x,e.x),i=Qp(n.y,e.y);return Math.sqrt(s**2+i**2)}class Ny{constructor(e,s,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tu(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=q1(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!T)return;const{point:k}=w,{timestamp:E}=nt;this.history.push({...k,timestamp:E});const{onStart:I,onMove:L}=this.handlers;_||(I&&I(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Eu(_,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Tu(w.type==="pointercancel"?this.lastMoveEventInfo:Eu(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,I),k&&k(w,I)},!Kc(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Ti(e),p=Eu(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=nt;this.history=[{...g,timestamp:y}];const{onSessionStart:x}=s;x&&x(e,Tu(p,this.history)),this.removeListeners=Si(oi(this.contextWindow,"pointermove",this.handlePointerMove),oi(this.contextWindow,"pointerup",this.handlePointerUp),oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Eu(n,e){return e?{point:e(n.point)}:n}function Xp(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Tu({point:n},e){return{point:n,delta:Xp(n,Py(e)),offset:Xp(n,H1(e)),velocity:K1(e,.1)}}function H1(n){return n[0]}function Py(n){return n[n.length-1]}function K1(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const a=Py(n);for(;s>=0&&(i=n[s],!(a.timestamp-i.timestamp>Xt(e)));)s--;if(!i)return{x:0,y:0};const l=Ot(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function G1(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Oe(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Oe(s,n,i.max):Math.min(n,s)),n}function Zp(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function J1(n,{top:e,left:s,bottom:i,right:a}){return{x:Zp(n.x,s,a),y:Zp(n.y,e,i)}}function em(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function Y1(n,e){return{x:em(n.x,e.x),y:em(n.y,e.y)}}function Q1(n,e){let s=.5;const i=ct(n),a=ct(e);return a>i?s=hi(e.min,e.max-i,n.min):i>a&&(s=hi(n.min,n.max-a,e.min)),cn(0,1,s)}function X1(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const lc=.35;function Z1(n=lc){return n===!1?n=0:n===!0&&(n=lc),{x:tm(n,"left","right"),y:tm(n,"top","bottom")}}function tm(n,e,s){return{min:nm(n,e),max:nm(n,s)}}function nm(n,e){return typeof n=="number"?n:n[e]||0}const e_=new WeakMap;class t_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ti(x).point)},c=(x,w)=>{const{drag:_,dragPropagation:T,onDragStart:k}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ab(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(I=>{let L=this.getAxisMotionValue(I).get()||0;if(Zt.test(L)){const{projection:A}=this.visualElement;if(A&&A.layout){const D=A.layout.layoutBox[I];D&&(L=ct(D)*(parseFloat(L)/100))}}this.originPoint[I]=L}),k&&Pe.postRender(()=>k(x,w)),oc(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:k,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=w;if(T&&this.currentDirection===null){this.currentDirection=n_(I),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,I),this.updateAxis("y",w.point,I),this.visualElement.render(),E&&E(x,w)},p=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w,this.stop(x,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Rt(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Ny(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Cy(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,a=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Pe.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:a}=this.getProps();if(!i||!zo(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=G1(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=J1(i.layoutBox,e):this.constraints=!1,this.elastic=Z1(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=X1(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Zr(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=r1(i,a.root,this.visualElement.getTransformPagePoint());let c=Y1(a.layout.layoutBox,l);if(s){const d=s(e1(c));this.hasMutatedConstraints=!!d,d&&(c=fy(d))}return c}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Rt(y=>{if(!zo(y,s,this.currentDirection))return;let x=p&&p[y]||{};c&&(x={min:0,max:0});const w=a?200:1e6,_=a?40:1e7,T={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(y,T)});return Promise.all(g).then(d)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return oc(this.visualElement,e),i.start(rd(e,i,0,s,this.visualElement,!1))}stopAnimation(){Rt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[s];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rt(s=>{const{drag:i}=this.getProps();if(!zo(s,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(s);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[s];l.set(e[s]-Oe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Zr(s)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rt(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=Q1({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rt(c=>{if(!zo(c,e,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(Oe(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;e_.set(this.visualElement,this);const e=this.visualElement.current,s=oi(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Zr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pe.read(i);const c=yi(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rt(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=p[y].translate,x.set(x.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=lc,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function zo(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function n_(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class r_ extends Fn{constructor(e){super(e),this.removeGroupControls=It,this.removeListeners=It,this.controls=new t_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const rm=n=>(e,s)=>{n&&Pe.postRender(()=>n(e,s))};class s_ extends Fn{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(e){this.session=new Ny(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:rm(e),onStart:rm(s),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Pe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=oi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ea={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sm(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ti={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ae.test(n))n=parseFloat(n);else return n;const s=sm(n,e.target.x),i=sm(n,e.target.y);return`${s}% ${i}%`}},i_={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,a=Mn.parse(n);if(a.length>5)return i;const l=Mn.createTransformer(n),c=typeof a[0]!="number"?1:0,d=s.x.scale*e.x,p=s.y.scale*e.y;a[0+c]/=d,a[1+c]/=p;const g=Oe(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Cu=!1;class o_ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;Cb(a_),l&&(s.group&&s.group.add(l),i&&i.register&&a&&i.register(l),Cu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ea.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Cu=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Pe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:a}=e;Cu=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ay(n){const[e,s]=Zg(),i=R.useContext(kc);return h.jsx(o_,{...n,layoutGroup:i,switchLayoutGroup:R.useContext(dy),isPresent:e,safeToRemove:s})}const a_={borderRadius:{...ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ti,borderTopRightRadius:ti,borderBottomLeftRadius:ti,borderBottomRightRadius:ti,boxShadow:i_};function l_(n,e,s){const i=at(n)?n:os(n);return i.start(rd("",i,e,s)),i.animation}const u_=(n,e)=>n.depth-e.depth;class c_{constructor(){this.children=[],this.isDirty=!1}add(e){Tc(this.children,e),this.isDirty=!0}remove(e){Cc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(u_),this.isDirty=!1,this.children.forEach(e)}}function d_(n,e){const s=vt.now(),i=({timestamp:a})=>{const l=a-s;l>=e&&(Dn(i),n(l-e))};return Pe.setup(i,!0),()=>Dn(i)}const Ry=["TopLeft","TopRight","BottomLeft","BottomRight"],h_=Ry.length,im=n=>typeof n=="string"?parseFloat(n):n,om=n=>typeof n=="number"||ae.test(n);function f_(n,e,s,i,a,l){a?(n.opacity=Oe(0,s.opacity??1,p_(i)),n.opacityExit=Oe(e.opacity??1,0,m_(i))):l&&(n.opacity=Oe(e.opacity??1,s.opacity??1,i));for(let c=0;c<h_;c++){const d=`border${Ry[c]}Radius`;let p=am(e,d),g=am(s,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||om(p)===om(g)?(n[d]=Math.max(Oe(im(p),im(g),i),0),(Zt.test(g)||Zt.test(p))&&(n[d]+="%")):n[d]=g}(e.rotate||s.rotate)&&(n.rotate=Oe(e.rotate||0,s.rotate||0,i))}function am(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const p_=Oy(0,.5,xg),m_=Oy(.5,.95,It);function Oy(n,e,s){return i=>i<n?0:i>e?1:s(hi(n,e,i))}function lm(n,e){n.min=e.min,n.max=e.max}function At(n,e){lm(n.x,e.x),lm(n.y,e.y)}function um(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function cm(n,e,s,i,a){return n-=e,n=oa(n,1/s,i),a!==void 0&&(n=oa(n,1/a,i)),n}function g_(n,e=0,s=1,i=.5,a,l=n,c=n){if(Zt.test(e)&&(e=parseFloat(e),e=Oe(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Oe(l.min,l.max,i);n===l&&(d-=e),n.min=cm(n.min,e,s,d,a),n.max=cm(n.max,e,s,d,a)}function dm(n,e,[s,i,a],l,c){g_(n,e[s],e[i],e[a],e.scale,l,c)}const y_=["x","scaleX","originX"],v_=["y","scaleY","originY"];function hm(n,e,s,i){dm(n.x,e,y_,s?s.x:void 0,i?i.x:void 0),dm(n.y,e,v_,s?s.y:void 0,i?i.y:void 0)}function fm(n){return n.translate===0&&n.scale===1}function Iy(n){return fm(n.x)&&fm(n.y)}function pm(n,e){return n.min===e.min&&n.max===e.max}function x_(n,e){return pm(n.x,e.x)&&pm(n.y,e.y)}function mm(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ly(n,e){return mm(n.x,e.x)&&mm(n.y,e.y)}function gm(n){return ct(n.x)/ct(n.y)}function ym(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class w_{constructor(){this.members=[]}add(e){Tc(this.members,e),e.scheduleRender()}remove(e){if(Cc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let i;for(let a=s;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b_(n,e,s){let i="";const a=n.x.translate/e.x,l=n.y.translate/e.y,c=s?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:w,skewX:_,skewY:T}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),x&&(i+=`rotateX(${x}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),T&&(i+=`skewY(${T}deg) `)}const d=n.x.scale*e.x,p=n.y.scale*e.y;return(d!==1||p!==1)&&(i+=`scale(${d}, ${p})`),i||"none"}const Nu=["","X","Y","Z"],__=1e3;let S_=0;function Pu(n,e,s,i){const{latestValues:a}=e;a[n]&&(s[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Dy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=by(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Pe,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Dy(i)}function My({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=S_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E_),this.nodes.forEach(P_),this.nodes.forEach(A_),this.nodes.forEach(T_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new c_)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ac),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Xg(c)&&!fb(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let y,x=0;const w=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{x=window.innerWidth}),n(c,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,y&&y(),y=d_(w,250),ea.hasAnimatedSinceResize&&(ea.hasAnimatedSinceResize=!1,this.nodes.forEach(wm)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||D_,{onLayoutAnimationStart:k,onLayoutAnimationComplete:E}=g.getProps(),I=!this.targetLayout||!Ly(this.targetLayout,_),L=!x&&w;if(this.options.layoutRoot||this.resumeFrom||L||x&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...zc(T,"layout"),onPlay:k,onComplete:E};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,L)}else x||wm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R_),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N_),this.nodes.forEach(k_),this.nodes.forEach(j_)):this.nodes.forEach(xm),this.clearAllSnapshots();const d=vt.now();nt.delta=cn(0,1e3/60,d-nt.timestamp),nt.timestamp=d,nt.isProcessing=!0,vu.update.process(nt),vu.preRender.process(nt),vu.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C_),this.sharedNodes.forEach(O_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ct(this.snapshot.measuredBox.x)&&!ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Iy(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||nr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),M_(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ue();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(F_))){const{scroll:g}=this.root;g&&(es(d.x,g.offset.x),es(d.y,g.offset.y))}return d}removeElementScroll(c){const d=Ue();if(At(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&At(d,c),es(d.x,y.offset.x),es(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const p=Ue();At(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ts(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),nr(y.latestValues)&&ts(p,y.latestValues)}return nr(this.latestValues)&&ts(p,this.latestValues),p}removeTransform(c){const d=Ue();At(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!nr(g.latestValues))continue;nc(g.latestValues)&&g.updateSnapshot();const y=Ue(),x=g.measurePageBox();At(y,x),hm(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return nr(this.latestValues)&&hm(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),li(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),my(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),li(this.relativeTargetOrigin,this.target,w.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nc(this.parent.latestValues)||py(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;At(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;n1(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(um(this.prevProjectionDelta.x,this.projectionDelta.x),um(this.prevProjectionDelta.y,this.projectionDelta.y)),ai(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!ym(this.projectionDelta.x,this.prevProjectionDelta.x)||!ym(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ns(),this.projectionDelta=ns(),this.projectionDeltaWithTransform=ns()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},x=ns();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Ue(),_=p?p.source:void 0,T=this.layout?this.layout.source:void 0,k=_!==T,E=this.getStack(),I=!E||E.members.length<=1,L=!!(k&&!I&&this.options.crossfade===!0&&!this.path.some(L_));this.animationProgress=0;let A;this.mixTargetDelta=D=>{const F=D/1e3;bm(x.x,c.x,F),bm(x.y,c.y,F),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(li(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I_(this.relativeTarget,this.relativeTargetOrigin,w,F),A&&x_(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ue()),At(A,this.relativeTarget)),k&&(this.animationValues=y,f_(y,g,this.latestValues,F,L,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{ea.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=os(0)),this.currentAnimation=l_(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(__),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&Fy(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const x=ct(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+x;const w=ct(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+w}At(d,p),ts(d,y),ai(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new w_),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Pu("z",c,g,this.animationValues);for(let y=0;y<Nu.length;y++)Pu(`rotate${Nu[y]}`,c,g,this.animationValues),Pu(`skew${Nu[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Zo(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Zo(d?.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=b_(this.projectionDeltaWithTransform,this.treeScale,y);p&&(x=p(y,x)),c.transform=x;const{x:w,y:_}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in gi){if(y[T]===void 0)continue;const{correct:k,applyTo:E,isCSSVariable:I}=gi[T],L=x==="none"?y[T]:k(y[T],g);if(E){const A=E.length;for(let D=0;D<A;D++)c[E[D]]=L}else I?this.options.visualElement.renderState.vars[T]=L:c[T]=L}this.options.layoutId&&(c.pointerEvents=g===this?Zo(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vm),this.root.sharedNodes.clear()}}}function k_(n){n.updateLayout()}function j_(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Rt(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],w=ct(x);x.min=s[y].min,x.max=x.min+w}):Fy(a,e.layoutBox,s)&&Rt(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],w=ct(s[y]);x.max=x.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const c=ns();ai(c,s,e.layoutBox);const d=ns();l?ai(d,n.applyTransform(i,!0),e.measuredBox):ai(d,s,e.layoutBox);const p=!Iy(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:w}=y;if(x&&w){const _=Ue();li(_,e.layoutBox,x.layoutBox);const T=Ue();li(T,s,w.layoutBox),Ly(_,T)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=_,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function E_(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function T_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function C_(n){n.clearSnapshot()}function vm(n){n.clearMeasurements()}function xm(n){n.isLayoutDirty=!1}function N_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function wm(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function P_(n){n.resolveTargetDelta()}function A_(n){n.calcProjection()}function R_(n){n.resetSkewAndRotation()}function O_(n){n.removeLeadSnapshot()}function bm(n,e,s){n.translate=Oe(e.translate,0,s),n.scale=Oe(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function _m(n,e,s,i){n.min=Oe(e.min,s.min,i),n.max=Oe(e.max,s.max,i)}function I_(n,e,s,i){_m(n.x,e.x,s.x,i),_m(n.y,e.y,s.y,i)}function L_(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const D_={duration:.45,ease:[.4,0,.1,1]},Sm=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),km=Sm("applewebkit/")&&!Sm("chrome/")?Math.round:It;function jm(n){n.min=km(n.min),n.max=km(n.max)}function M_(n){jm(n.x),jm(n.y)}function Fy(n,e,s){return n==="position"||n==="preserve-aspect"&&!W1(gm(e),gm(s),.2)}function F_(n){return n!==n.root&&n.scroll?.wasRoot}const $_=My({attachResizeListener:(n,e)=>yi(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Au={current:void 0},$y=My({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Au.current){const n=new $_({});n.mount(window),n.setOptions({layoutScroll:!0}),Au.current=n}return Au.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),U_={pan:{Feature:s_},drag:{Feature:r_,ProjectionNode:$y,MeasureLayout:Ay}};function Em(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,l=i[a];l&&Pe.postRender(()=>l(e,Ti(e)))}class V_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=lb(e,(s,i)=>(Em(this.node,i,"Start"),a=>Em(this.node,a,"End"))))}unmount(){}}class B_ extends Fn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(yi(this.node.current,"focus",()=>this.onFocus()),yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tm(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),l=i[a];l&&Pe.postRender(()=>l(e,Ti(e)))}class W_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=hb(e,(s,i)=>(Tm(this.node,i,"Start"),(a,{success:l})=>Tm(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uc=new WeakMap,Ru=new WeakMap,z_=n=>{const e=uc.get(n.target);e&&e(n)},q_=n=>{n.forEach(z_)};function H_({root:n,...e}){const s=n||document;Ru.has(s)||Ru.set(s,{});const i=Ru.get(s),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(q_,{root:n,...e})),i[a]}function K_(n,e,s){const i=H_(e);return uc.set(n,s),i.observe(n),()=>{uc.delete(n),i.unobserve(n)}}const G_={some:0,all:1};class J_ extends Fn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:a="some",once:l}=e,c={root:s?s.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:G_[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),w=g?y:x;w&&w(p)};return K_(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Y_(e,s))&&this.startObserver()}unmount(){}}function Y_({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const Q_={inView:{Feature:J_},tap:{Feature:W_},focus:{Feature:B_},hover:{Feature:V_}},X_={layout:{ProjectionNode:$y,MeasureLayout:Ay}},Z_={...M1,...Q_,...U_,...X_},ie=Zb(Z_,h1);function eS({currentView:n,onNavigate:e,canGoBack:s,onBack:i}){const a=[{label:"Modèles",view:"contracts"},{label:"Bond",view:"bond"},{label:"Conseiller",view:"conseiller"},{label:"Prix",view:"pricing"},{label:"Documentation",view:"docs"},{label:"Nous consulter",view:"contact"}];return h.jsx(ie.header,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.2,ease:"linear"},className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center gap-6",children:[s&&h.jsxs("button",{onClick:i,className:"group flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200","aria-label":"Retour",children:[h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"stroke-current",children:h.jsx("path",{d:"M10 14L4 8L10 2",strokeWidth:"1.5",strokeLinecap:"square"})}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),h.jsx("button",{onClick:()=>e("home"),className:"hover:opacity-80 transition-opacity duration-200",children:h.jsx("span",{className:"text-[1.25rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1},children:"SYMIONE"})})]}),h.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:a.map(l=>{const c=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return h.jsx("button",{onClick:()=>e(l.view),className:`text-[0.75rem] uppercase tracking-[0.08em] transition-colors duration-200 ${c?"text-accent":"text-muted-foreground hover:text-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:c?500:400},children:l.label},l.view)})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>e("login"),className:"hidden sm:block px-10 py-3.5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Connexion"}),h.jsxs("button",{onClick:()=>e("contracts"),className:"px-10 py-3.5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center gap-2",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["Commencer",h.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current",children:h.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})]}),h.jsx("nav",{className:"lg:hidden pb-4 flex gap-4 overflow-x-auto",children:a.map(l=>{const c=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return h.jsx("button",{onClick:()=>e(l.view),className:`text-[0.625rem] uppercase tracking-[0.08em] whitespace-nowrap transition-colors duration-200 ${c?"text-accent":"text-muted-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:c?500:400},children:l.label},l.view)})})]})})}function tS(){return h.jsx("footer",{className:"border-t border-border mt-auto",children:h.jsx("div",{className:"max-w-[1920px] mx-auto px-8 lg:px-16 py-8",children:h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"disclaimer-section border border-border p-4",children:[h.jsx("p",{className:"text-[0.8125rem] mb-2",style:{lineHeight:1.6},children:"Avertissement juridique: Symione est un outil d'aide à la décision. Nos contenus sont informatifs et ne constituent pas des conseils juridiques personnalisés. Nous recommandons de consulter un avocat pour toute situation complexe."}),h.jsxs("p",{className:"text-[0.8125rem] text-muted-foreground",children:["Vos données sont chiffrées et conformes au RGPD.",h.jsx("a",{href:"/confidentialite",className:"underline ml-2",children:"Politique de confidentialité"}),h.jsx("span",{className:"mx-2",children:"•"}),h.jsx("a",{href:"/mentions-legales",className:"underline",children:"Mentions légales"})]})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("p",{className:"text-[0.75rem] text-muted-foreground uppercase tracking-wide",style:{fontWeight:500},children:"© 2025 SYMIONE"}),h.jsx("p",{className:"text-[0.75rem] text-muted-foreground",children:"Intelligent legal systems for modern practices"})]}),h.jsxs("div",{className:"flex gap-8",children:[h.jsx("a",{href:"/confidentialite",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Confidentialité"}),h.jsx("a",{href:"/mentions-legales",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Mentions légales"}),h.jsx("a",{href:"#support",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Support"})]})]})]})})})}function nS(){const[n,e]=R.useState(0);R.useEffect(()=>{const a=()=>{e(window.scrollY)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]);const s=Math.max(1-n/400,0),i=n*.2;return h.jsx("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-16",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 w-full",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"linear"},style:{opacity:s,transform:`translateY(${i}px)`},className:"relative",children:[h.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"flex items-center gap-3 mb-12",children:[h.jsx("div",{className:"h-px w-12 bg-border"}),h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME D'INTELLIGENCE JURIDIQUE"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h1",{className:"text-[3.5rem] md:text-[5rem] lg:text-[7rem] tracking-[-0.03em]",style:{fontWeight:700,lineHeight:.95},children:["Documents.",h.jsx("br",{}),"Intelligence.",h.jsx("br",{}),"Précision."]}),h.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.3},className:"flex flex-wrap gap-6 md:gap-8 pt-4",children:[{label:"PRÉCISION",value:"99.7%"},{label:"JURIDICTIONS",value:"12+"},{label:"LATENCE",value:"<200ms"}].map((a,l)=>h.jsxs("div",{className:"flex items-baseline gap-3",children:[h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:a.label}),h.jsx("span",{className:"text-[1rem] tracking-[-0.01em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:a.value})]},a.label))})]}),h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"mt-16 flex flex-col sm:flex-row gap-3",children:[h.jsxs("button",{className:"group relative px-12 py-5 bg-accent text-accent-foreground overflow-hidden transition-all duration-200 hover:shadow-[0_0_20px_var(--accent-glow)] flex items-center justify-center gap-3",children:[h.jsx("span",{className:"relative z-10 text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Commencer"}),h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:h.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),h.jsx("button",{className:"group px-12 py-5 border border-border hover:border-foreground transition-all duration-200 flex items-center justify-center gap-3",children:h.jsx("span",{className:"text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Documentation"})})]})]}),h.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.4},className:"absolute bottom-12 left-6 lg:left-12",style:{opacity:Math.max(1-n/200,0)},children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-px h-16 bg-border relative overflow-hidden",children:h.jsx(ie.div,{animate:{y:[-64,64]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-full h-4 bg-accent/50"})}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"SCROLL"})]})})]})})}const rS=[{id:"synthesis",code:"SYN",title:"Module de Synthèse",function:"Génération de contrats",description:"Création automatisée de documents depuis la bibliothèque",route:"contracts",status:"PRÊT"},{id:"compliance",code:"CMP",title:"Scanner de Conformité",function:"Révision et analyse",description:"Vérification juridique en temps réel",route:"editor",status:"PRÊT"},{id:"conseiller",code:"CNS",title:"Module Conseil",function:"Assistance juridique",description:"Conseil expert et réseau d'avocats",route:"conseiller",status:"PRÊT"}];function sS({onNavigate:n,onNavigateConseiller:e}){return h.jsx("section",{className:"py-20 lg:py-24",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[h.jsx(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"mb-12 pb-8 border-b border-border",children:h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTEM / MODULES"}),h.jsx("h2",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.1},children:"Surface de contrôle"})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),h.jsx("p",{className:"text-[0.625rem] tracking-[0.05em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"3 MODULES PRÊTS"})]})]})}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-px bg-border",children:rS.map((s,i)=>h.jsxs(ie.button,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:i*.08,ease:"linear"},onClick:()=>{s.id==="conseiller"?e():s.route&&n(s.route)},disabled:!s.route,className:`group relative bg-card p-8 lg:p-10 text-left transition-all duration-200 ${s.route?"hover:bg-accent/5 cursor-pointer":"cursor-not-allowed opacity-60"}`,children:[h.jsxs("div",{className:"flex items-start justify-between mb-8",children:[h.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground px-2 py-1 border border-border",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.code}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="PRÊT"?"bg-accent":"bg-muted-foreground/40"}`}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:s.status})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.3},children:s.title}),h.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-accent",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.function})]}),h.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:s.description})]}),s.route&&h.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:h.jsxs("div",{className:"flex items-center justify-between group-hover:opacity-100 transition-opacity duration-200",children:[h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Module disponible"}),h.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Ouvrir"}),h.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current transform group-hover:translate-x-1 transition-transform duration-200",children:h.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})})]},s.id))})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),Cm=n=>{const e=oS(n);return e.charAt(0).toUpperCase()+e.slice(1)},Uy=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>R.createElement("svg",{ref:p,...aS,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:Uy("lucide",a),...d},[...c.map(([g,y])=>R.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(n,e)=>{const s=R.forwardRef(({className:i,...a},l)=>R.createElement(lS,{ref:l,iconNode:e,className:Uy(`lucide-${iS(Cm(n))}`,`lucide-${n}`,i),...a}));return s.displayName=Cm(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sd=Ie("arrow-left",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],dS=Ie("book",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fS=Ie("check",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mS=Ie("chevron-right",pS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vi=Ie("circle-alert",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ma=Ie("circle-check-big",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xS=Ie("circle-x",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],bS=Ie("code",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],SS=Ie("download",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jS=Ie("file-text",kS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],TS=Ie("house",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vy=Ie("info",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xi=Ie("loader-circle",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],AS=Ie("mail",PS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],By=Ie("message-square",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],IS=Ie("phone",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],DS=Ie("refresh-cw",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],FS=Ie("scale",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wy=Ie("search",$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],VS=Ie("sparkles",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ga=Ie("triangle-alert",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],id=Ie("x",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qS=Ie("zap",zS),HS="modulepreload",KS=function(n){return"/"+n},Nm={},fs=function(e,s,i){let a=Promise.resolve();if(s&&s.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");a=c(s.map(g=>{if(g=KS(g),g in Nm)return;Nm[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":HS,y||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),y)return new Promise((_,T)=>{w.addEventListener("load",_),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},GS={},Pm=GS?.VITE_API_BASE_URL?String(void 0).replace(/\/$/,""):"";function ya(n){return Pm?`${Pm}${n}`:n}async function va(n){try{return await n.json()}catch{return{error:!0,message:n.statusText}}}async function qo(n){const e=await fetch(ya(n),{method:"GET"});if(!e.ok)throw await va(e);return e.json()}async function Ou(n,e){const s={"Content-Type":"application/json"};try{const{supabase:a}=await fs(async()=>{const{supabase:d}=await Promise.resolve().then(()=>jE);return{supabase:d}},void 0),{data:l}=await a.auth.getSession(),c=l.session?.access_token;c&&(s.Authorization=`Bearer ${c}`)}catch{}const i=await fetch(ya(n),{method:"POST",headers:s,body:JSON.stringify(e)});if(i.status===429){const a=Number(i.headers.get("X-RateLimit-Reset")||0);throw{error:!0,message:"Rate limit exceeded",code:"RATE_LIMIT",retryInSec:Math.max(0,a-Math.floor(Date.now()/1e3))}}if(!i.ok)throw await va(i);return i.json()}async function JS(n,e){const s=await fetch(ya(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await va(s);return s.json()}async function YS(n,e,s){const i=await fetch(ya("/api/export"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:n,format:e,metadata:s})});if(!i.ok)throw await va(i);const a=await i.blob(),l=URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`contract.${e}`,document.body.appendChild(c),c.click(),c.remove(),URL.revokeObjectURL(l)}const QS={},XS=QS?.VITE_JURISDICTION||"FR",wi={health:()=>qo("/api/health"),listContracts:n=>qo(`/api/contracts?jurisdiction=${encodeURIComponent(n||XS)}`),getTemplate:(n,e)=>qo(e?`/api/contracts/${n}?jurisdiction=${encodeURIComponent(e)}`:`/api/contracts/${n}`),getClauses:n=>qo(`/api/contracts/${n}/clauses`),updateClause:(n,e,s)=>JS(`/api/contracts/${n}/clauses`,{id:n,clause_id:e,...s}),generate:n=>Ou("/api/generate",n),review:n=>Ou("/api/review",n),explain:n=>Ou("/api/explain",n),export:YS};let ZS=0;const cc=new Set;function He(n,e="info"){const s={id:`toast-${++ZS}`,message:n,type:e};cc.forEach(i=>i(s))}function ek(){const[n,e]=R.useState([]);R.useEffect(()=>{const i=a=>{e(l=>[...l,a]),setTimeout(()=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast timeout cleanup"}),e(l=>(l||[]).filter(c=>c&&c.id!==a.id))},5e3)};return cc.add(i),()=>{cc.delete(i)}},[]);const s=i=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast removeToast"}),e(a=>(a||[]).filter(l=>l&&l.id!==i))};return h.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:h.jsx(Ei,{children:n.map(i=>h.jsxs(ie.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"linear"},className:"bg-card border border-border p-4 pr-12 min-w-[320px] max-w-md shadow-lg pointer-events-auto relative",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[i.type==="success"&&h.jsx(ma,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="error"&&h.jsx(vi,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="info"&&h.jsx(Vy,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0",strokeWidth:1.5}),h.jsx("p",{className:"text-[0.8125rem] flex-1",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:i.message})]}),h.jsx("button",{onClick:()=>s(i.id),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:h.jsx(id,{className:"w-3.5 h-3.5",strokeWidth:1.5})})]},i.id))})})}const tk={},nk={business:"Entreprise",employment:"Emploi",property:"Immobilier",freelance:"Freelance",personal:"Personnel",closure:"Clôture",custom:"Personnalisé"};function rk({onBack:n,onSelectTemplate:e,plan:s="free"}){const[i,a]=R.useState([]),[l,c]=R.useState(!0),[d,p]=R.useState(""),[g,y]=R.useState(tk?.VITE_JURISDICTION||"FR"),[x,w]=R.useState(null),[_,T]=R.useState(!1);R.useEffect(()=>{async function D(){try{const{index:F}=await wi.listContracts(g);!Array.isArray(F)||F.length===0?a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}]):a(F)}catch(F){He(F.message||"Failed to load templates","error"),a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}])}finally{c(!1)}}c(!0),D()},[g]),console.log("🔍 Filter debug:",{array:i,arrayType:typeof i,isArray:Array.isArray(i),location:"ContractsListView filteredContracts"});const k=(i||[]).filter(D=>{const F=d.toLowerCase();return D.title.toLowerCase().includes(F)||D.category.toLowerCase().includes(F)||D.id.toLowerCase().includes(F)});async function E(D){if(!D||D.length<16){w(null);return}T(!0);try{const F=await fetch("/api/templates/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:D})});if(F.ok){const B=await F.json();w(B)}}finally{T(!1)}}const I=D=>!1,[L,A]=R.useState(!1);return h.jsx("div",{className:"min-h-screen pt-16",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[h.jsx(sd,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Control Surface"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYNTHESIS MODULE / TEMPLATE LIBRARY"}),h.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Select template"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative lg:w-96",children:[h.jsx(Wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground",strokeWidth:1.5}),h.jsx("input",{type:"text",placeholder:"🔍 Rechercher un contrat (ex: bail, CDI, NDA...)",value:d,onChange:D=>{p(D.target.value),E(D.target.value)},className:"w-full pl-10 pr-4 py-3 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),h.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"px-3 py-2 bg-input-background border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[h.jsx("option",{value:"FR",children:"FR"}),h.jsx("option",{value:"EN",children:"EN"})]})]})]}),h.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-system-standby animate-pulse":"bg-accent"}`}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:l?"Loading templates...":`${k.length} templates available`})]}),d.length>15&&h.jsxs("div",{className:"mt-4 border border-border p-4",children:[_&&h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce"}),h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),x&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-[0.875rem] mb-3",children:[h.jsx("h4",{className:"text-[0.95rem] mb-1",style:{fontWeight:600},children:"💡 Analyse de votre besoin"}),h.jsx("p",{className:"text-muted-foreground",children:x.interpretation})]}),x.matchingTemplates.length>0?h.jsxs("div",{className:"space-y-3",children:[h.jsx("h4",{className:"text-[0.95rem]",style:{fontWeight:600},children:"📄 Templates correspondants"}),x.matchingTemplates.map(D=>h.jsxs("button",{onClick:()=>e(D.id,g),className:"w-full text-left border border-border p-3 hover:border-foreground",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:D.name}),h.jsx("span",{className:`text-[0.75rem] ${D.available?"text-green-700":"text-amber-700"}`,children:D.available?"✓ Disponible":"🔒 Plan Pro"})]}),D.description&&h.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",children:D.description})]},D.id))]}):h.jsxs("div",{children:[h.jsx("p",{className:"text-[0.875rem] text-muted-foreground",children:"Aucun template exact — ce cas peut nécessiter un avocat."}),h.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"mt-2 px-4 py-2 border border-border",children:"Consulter le Conseiller Juridique →"})]})]})]})]}),l?h.jsx("div",{className:"flex items-center justify-center py-24",children:h.jsx(xi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):k.length===0?h.jsxs("div",{className:"text-center py-24",children:[h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Aucun template ne correspond à votre recherche"}),h.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"px-6 py-3 border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"💬 Décrire mon besoin au Conseiller Juridique"})]}):h.jsx("div",{className:"space-y-px bg-border",children:k.map((D,F)=>(I(D.id),h.jsxs(ie.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2,delay:F*.04,ease:"linear"},onClick:()=>{e(D.id,g)},className:"group bg-card p-6 lg:p-8 text-left transition-all duration-200 relative w-full border-l-2 hover:bg-accent/5 hover:border-l-accent border-transparent",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:D.id.toUpperCase()})}),h.jsx("div",{className:"lg:col-span-5",children:h.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:D.title})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Category"}),h.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:nk[D.category]||D.category})]})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Path"}),h.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:D.path})]})})]}),h.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:h.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-accent",children:h.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})})]},D.id)))}),L&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[h.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Template Premium"}),h.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Ce template est disponible dans le Plan Pro (149€/mois) qui inclut 50+ templates et 20 contrats/mois."}),h.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),h.jsx("button",{onClick:()=>{window.location.href="/login"},className:"px-4 py-2 border border-border",children:"Créer un compte gratuit"}),h.jsx("button",{onClick:()=>{window.location.href="/prix"},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro"})]})]})})]})})}const sk=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class od extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Am extends od{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rm extends od{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Om extends od{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(dc||(dc={}));var ik=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class ok{constructor(e,{headers:s={},customFetch:i,region:a=dc.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=sk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ik(this,arguments,void 0,function*(s,i={}){var a;try{const{headers:l,method:c,body:d,signal:p}=i;let g={},{region:y}=i;y||(y=this.region);const x=new URL(`${this.url}/${s}`);y&&y!=="any"&&(g["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(g["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(g["Content-Type"]="application/json",w=JSON.stringify(d)));const _=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:p}).catch(I=>{throw I.name==="AbortError"?I:new Am(I)}),T=_.headers.get("x-relay-error");if(T&&T==="true")throw new Rm(_);if(!_.ok)throw new Om(_);let k=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield _.json():k==="application/octet-stream"?E=yield _.blob():k==="text/event-stream"?E=_:k==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Am(l)}:{data:null,error:l,response:l instanceof Om||l instanceof Rm?l.context:void 0}}})}}var Ze={},$r={},Ur={},Vr={},Br={},Wr={},ak=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=ak();const lk=ls.fetch,zy=ls.fetch.bind(ls),qy=ls.Headers,uk=ls.Request,ck=ls.Response,ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:qy,Request:uk,Response:ck,default:zy,fetch:lk},Symbol.toStringTag,{value:"Module"})),dk=cx(ps);var Ho={},Im;function Hy(){if(Im)return Ho;Im=1,Object.defineProperty(Ho,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ho.default=n,Ho}var Lm;function Ky(){if(Lm)return Wr;Lm=1;var n=Wr&&Wr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Wr,"__esModule",{value:!0});const e=n(dk),s=n(Hy());class i{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,x,w,_;let T=null,k=null,E=null,I=g.status,L=g.statusText;if(g.ok){if(this.method!=="HEAD"){const B=await g.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=B:k=JSON.parse(B))}const D=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),F=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&F&&F.length>1&&(E=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(T={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,E=null,I=406,L="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const D=await g.text();try{T=JSON.parse(D),Array.isArray(T)&&g.status===404&&(k=[],T=null,I=200,L="OK")}catch{g.status===404&&D===""?(I=204,L="No Content"):T={message:D}}if(T&&this.isMaybeSingle&&(!((_=T?.details)===null||_===void 0)&&_.includes("0 rows"))&&(T=null,I=200,L="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:k,count:E,status:I,statusText:L}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,x,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(x=g?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return Wr.default=i,Wr}var Dm;function Gy(){if(Dm)return Br;Dm=1;var n=Br&&Br.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Br,"__esModule",{value:!0});const e=n(Ky());class s extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:p=d}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:d=c}={}){const p=typeof d>"u"?"offset":`${d}.offset`,g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:p=!1,format:g="text"}={}){var y;const x=[a?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${x};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Br.default=s,Br}var Mm;function ad(){if(Mm)return Vr;Mm=1;var n=Vr&&Vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vr,"__esModule",{value:!0});const e=n(Gy());class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${p}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Vr.default=s,Vr}var Fm;function Jy(){if(Fm)return Ur;Fm=1;var n=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=n(ad());class s{constructor(a,{headers:l={},schema:c,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(a,l){const{head:c=!1,count:d}=l??{},p=c?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var d;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(x.length>0){const w=[...new Set(x)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ur.default=s,Ur}var $m;function hk(){if($m)return $r;$m=1;var n=$r&&$r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($r,"__esModule",{value:!0});const e=n(Jy()),s=n(ad());class i{constructor(l,{headers:c={},schema:d,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=p}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:p=!1,count:g}={}){var y;let x;const w=new URL(`${this.url}/rpc/${l}`);let _;d||p?(x=d?"HEAD":"GET",Object.entries(c).filter(([k,E])=>E!==void 0).map(([k,E])=>[k,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([k,E])=>{w.searchParams.append(k,E)})):(x="POST",_=c);const T=new Headers(this.headers);return g&&T.set("Prefer",`count=${g}`),new s.default({method:x,url:w,headers:T,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return $r.default=i,$r}var Um;function fk(){if(Um)return Ze;Um=1;var n=Ze&&Ze.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const e=n(hk());Ze.PostgrestClient=e.default;const s=n(Jy());Ze.PostgrestQueryBuilder=s.default;const i=n(ad());Ze.PostgrestFilterBuilder=i.default;const a=n(Gy());Ze.PostgrestTransformBuilder=a.default;const l=n(Ky());Ze.PostgrestBuilder=l.default;const c=n(Hy());return Ze.PostgrestError=c.default,Ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ze}var pk=fk();const mk=ag(pk),{PostgrestClient:gk,PostgrestQueryBuilder:iT,PostgrestFilterBuilder:oT,PostgrestTransformBuilder:aT,PostgrestBuilder:lT,PostgrestError:uT}=mk;class yk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vk="2.75.1",xk=`realtime-js/${vk}`,wk="1.0.0",hc=1e4,bk=1e3,_k=100;var ui;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ui||(ui={}));var Je;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Je||(Je={}));var zt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(zt||(zt={}));var fc;(function(n){n.websocket="websocket"})(fc||(fc={}));var sr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(sr||(sr={}));class Sk{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const a=s.getUint8(1),l=s.getUint8(2);let c=this.HEADER_LENGTH+2;const d=i.decode(e.slice(c,c+a));c=c+a;const p=i.decode(e.slice(c,c+l));c=c+l;const g=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:p,payload:g}}}class Yy{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(je||(je={}));const Vm=(n,e,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=kk(c,n,e,a),l),{}):{}},kk=(n,e,s,i)=>{const a=e.find(d=>d.name===n),l=a?.type,c=s[n];return l&&!i.includes(l)?Qy(l,c):pc(c)},Qy=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Ck(e,s)}switch(n){case je.bool:return jk(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return Ek(e);case je.json:case je.jsonb:return Tk(e);case je.timestamp:return Nk(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return pc(e);default:return pc(e)}},pc=n=>n,jk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Ek=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Tk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Ck=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const c=n.slice(1,s);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>Qy(e,d))}return n},Nk=n=>typeof n=="string"?n.replace(" ","T"):n,Xy=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Iu{constructor(e,s,i={},a=hc){this.channel=e,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Bm||(Bm={}));class ci{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ci.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=ci.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ci.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,a){const l=this.cloneDeep(e),c=this.transformState(s),d={},p={};return this.map(l,(g,y)=>{c[g]||(p[g]=y)}),this.map(c,(g,y)=>{const x=l[g];if(x){const w=y.map(E=>E.presence_ref),_=x.map(E=>E.presence_ref),T=y.filter(E=>_.indexOf(E.presence_ref)<0),k=x.filter(E=>w.indexOf(E.presence_ref)<0);T.length>0&&(d[g]=T),k.length>0&&(p[g]=k)}else d[g]=y}),this.syncDiff(l,{joins:d,leaves:p},i,a)}static syncDiff(e,s,i,a){const{joins:l,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,p)=>{var g;const y=(g=e[d])!==null&&g!==void 0?g:[];if(e[d]=this.cloneDeep(p),y.length>0){const x=e[d].map(_=>_.presence_ref),w=y.filter(_=>x.indexOf(_.presence_ref)<0);e[d].unshift(...w)}i(d,y,p)}),this.map(c,(d,p)=>{let g=e[d];if(!g)return;const y=p.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),e[d]=g,a(d,g,p),g.length===0&&delete e[d]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const a=e[i];return"metas"in a?s[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Wm||(Wm={}));var di;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(di||(di={}));var un;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(un||(un={}));class ld{constructor(e,s={config:{}},i){var a,l;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new ci(this),this.broadcastEndpointURL=Xy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:c,presence:d,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},w={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(un.CHANNEL_ERROR,_)),this._onClose(()=>e?.(un.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket.setAuth(),_===void 0){e?.(un.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(T=k?.length)!==null&&T!==void 0?T:0,I=[];for(let L=0;L<E;L++){const A=k[L],{filter:{event:D,schema:F,table:B,filter:K}}=A,M=_&&_[L];if(M&&M.event===D&&M.schema===F&&M.table===B&&M.filter===K)I.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),this.state=Je.errored,e?.(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(un.SUBSCRIBED);return}}).receive("error",_=>{this.state=Je.errored,e?.(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Je.joined&&e===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,p;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Iu(this,zt.leave,{},e),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),c}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Iu(this,e,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_k){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:p,leave:g,join:y}=zt;if(i&&[d,p,g,y].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var T,k,E;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((E=(k=_.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(_=>_.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var T,k,E,I,L,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const D=_.id,F=(T=_.filter)===null||T===void 0?void 0:T.event;return D&&((k=s.ids)===null||k===void 0?void 0:k.includes(D))&&(F==="*"||F?.toLocaleLowerCase()===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(L=(I=_?.filter)===null||I===void 0?void 0:I.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return D==="*"||D===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:k,table:E,commit_timestamp:I,type:L,errors:A}=T;w=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:I,eventType:L,new:{},old:{},errors:A}),this._getPayloadRecords(T))}_.callback(w,i)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const a=e.toLocaleLowerCase(),l={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ld.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zt.close,{},e)}_onError(e){this._on(zt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Vm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Vm(e.columns,e.old_record)),s}}const Lu=()=>{},Ko={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pk=[1e3,2e3,5e3,1e4],Ak=1e4,Rk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ok{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hc,this.transport=null,this.heartbeatIntervalMs=Ko.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Sk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>fs(async()=>{const{default:d}=await Promise.resolve().then(()=>ps);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${fc.websocket}`,this.httpEndpoint=Xy(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wk}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return sr.Connecting;case ui.open:return sr.Open;case ui.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new ld(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${s} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ko.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=s,d=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${d}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(zt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${i}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([Rk],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:xk};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(zt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ko.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,a,l,c,d,p,g,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:hc,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ko.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Lu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>Pk[x-1]||Ak),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((x,w)=>w(JSON.stringify(x))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ud extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Ik extends ud{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mc extends ud{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Lk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const Zy=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},Dk=()=>Lk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>ps),void 0)).Response:Response}),gc=n=>{if(Array.isArray(n))return n.map(s=>gc(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=gc(i)}),e},Mk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var hr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const Du=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Fk=(n,e,s)=>hr(void 0,void 0,void 0,function*(){const i=yield Dk();n instanceof i&&!s?.noResolveJson?n.json().then(a=>{const l=n.status||500,c=a?.statusCode||l+"";e(new Ik(Du(a),l,c))}).catch(a=>{e(new mc(Du(a),a))}):e(new mc(Du(n),n))}),$k=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||!i?a:(Mk(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function Ci(n,e,s,i,a,l){return hr(this,void 0,void 0,function*(){return new Promise((c,d)=>{n(s,$k(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Fk(p,d,i))})})}function aa(n,e,s,i){return hr(this,void 0,void 0,function*(){return Ci(n,"GET",e,s,i)})}function Qt(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ci(n,"POST",e,i,a,s)})}function yc(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ci(n,"PUT",e,i,a,s)})}function Uk(n,e,s,i){return hr(this,void 0,void 0,function*(){return Ci(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function ev(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ci(n,"DELETE",e,i,a,s)})}var Vk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class Bk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Vk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}var Wk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})},tv;class zk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[tv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Bk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Wk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}}tv=Symbol.toStringTag;var yt=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hk{constructor(e,s={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=Zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,a){return yt(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},zm),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),x=yield(e=="PUT"?yc:Qt)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}upload(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,a){return yt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:zm.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const x=yield yc(this.fetch,d.toString(),p,{headers:y});return{data:{path:l,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ze(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,s){return yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const l=yield Qt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new ud("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}update(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}copy(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,i){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Qt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}download(e,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),p=()=>aa(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new zk(p,this.shouldThrowOnError)}info(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield aa(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:gc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}exists(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Uk(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i)&&i instanceof mc){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),a=[],l=s?.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const d=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${g}`)}}}remove(e){return yt(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}list(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},qk),s),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}listV2(e,s){return yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Kk="2.75.1",Gk={"X-Client-Info":`storage-js/${Kk}`};var zr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class Jk{constructor(e,s={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gk),s),this.fetch=Zy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ze(e))return{data:null,error:e};throw e}})}getBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}createBucket(e){return zr(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ze(a))return{data:null,error:a};throw a}})}updateBucket(e,s){return zr(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}})}emptyBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}})}}class Yk extends Jk{constructor(e,s={},i,a){super(e,s,i,a)}from(e){return new Hk(this.url,this.headers,e,this.fetch)}}const Qk="2.75.1";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const Xk={"X-Client-Info":`supabase-js-${ri}/${Qk}`},Zk={headers:Xk},ej={schema:"public"},tj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nj={};var rj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};const sj=n=>{let e;return n?e=n:typeof fetch>"u"?e=zy:e=fetch,(...s)=>e(...s)},ij=()=>typeof Headers>"u"?qy:Headers,oj=(n,e,s)=>{const i=sj(s),a=ij();return(l,c)=>rj(void 0,void 0,void 0,function*(){var d;const p=(d=yield e())!==null&&d!==void 0?d:n;let g=new a(c?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:g}))})};var aj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};function lj(n){return n.endsWith("/")?n:n+"/"}function uj(n,e){var s,i;const{db:a,auth:l,realtime:c,global:d}=n,{db:p,auth:g,realtime:y,global:x}=e,w={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>aj(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function cj(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nv="2.75.1",Yr=30*1e3,vc=3,Mu=vc*Yr,dj="http://localhost:9999",hj="supabase.auth.token",fj={"X-Client-Info":`gotrue-js/${nv}`},xc="X-Supabase-Api-Version",rv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mj=600*1e3;class bi extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class gj extends bi{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function yj(n){return se(n)&&n.name==="AuthApiError"}class ir extends bi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $n extends bi{constructor(e,s,i,a){super(e,i,a),this.name=s,this.status=i}}class On extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vj(n){return se(n)&&n.name==="AuthSessionMissingError"}class qr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Go extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jo extends $n{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xj(n){return se(n)&&n.name==="AuthImplicitGrantRedirectError"}class qm extends $n{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wc extends $n{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Fu(n){return se(n)&&n.name==="AuthRetryableFetchError"}class Hm extends $n{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class bc extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Km=` 	
\r=`.split(""),wj=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Km.length;e+=1)n[Km[e].charCodeAt(0)]=-2;for(let e=0;e<la.length;e+=1)n[la[e].charCodeAt(0)]=e;return n})();function Gm(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(la[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(la[i]),e.queuedBits-=6}}function sv(n,e,s){const i=wj[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Jm(n){const e=[],s=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{Sj(c,i,s)};for(let c=0;c<n.length;c+=1)sv(n.charCodeAt(c),a,l);return e.join("")}function bj(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function _j(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}bj(i,e)}}function Sj(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ss(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)sv(n.charCodeAt(a),s,i);return new Uint8Array(e)}function kj(n){const e=[];return _j(n,s=>e.push(s)),new Uint8Array(e)}function lr(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>Gm(a,s,i)),Gm(null,s,i),e.join("")}function jj(n){return Math.round(Date.now()/1e3)+n}function Ej(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},iv=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function Tj(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return s.searchParams.forEach((i,a)=>{e[a]=i}),e}const ov=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},Cj=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},tr=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},An=async(n,e)=>{await n.removeItem(e)};class xa{constructor(){this.promise=new xa.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}xa.promiseConstructor=Promise;function $u(n){const e=n.split(".");if(e.length!==3)throw new bc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!pj.test(e[i]))throw new bc("JWT not in base64url format");return{header:JSON.parse(Jm(e[0])),payload:JSON.parse(Jm(e[1])),signature:ss(e[2]),raw:{header:e[0],payload:e[1]}}}async function Nj(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Pj(n,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function Aj(n){return("0"+n.toString(16)).substr(-2)}function Rj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,Aj).join("")}async function Oj(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Ij(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Oj(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(n,e,s=!1){const i=Rj();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await Qr(n,`${e}-code-verifier`,a);const l=await Ij(i);return[l,i===l?"plain":"s256"]}const Lj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dj(n){const e=n.headers.get(xc);if(!e||!e.match(Lj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Mj(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Fj(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $j=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kr(n){if(!$j.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uu(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ym(n){return JSON.parse(JSON.stringify(n))}var Uj=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};const rr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Vj=[502,503,504];async function Qm(n){var e;if(!Cj(n))throw new wc(rr(n),0);if(Vj.includes(n.status))throw new wc(rr(n),n.status);let s;try{s=await n.json()}catch(l){throw new ir(rr(l),l)}let i;const a=Dj(n);if(a&&a.getTime()>=rv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Hm(rr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new On}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Hm(rr(s),n.status,s.weak_password.reasons);throw new gj(rr(s),n.status||500,i)}const Bj=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function ce(n,e,s,i){var a;const l=Object.assign({},i?.headers);l[xc]||(l[xc]=rv["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Wj(n,e,s+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Wj(n,e,s,i,a,l){const c=Bj(e,i,a,l);let d;try{d=await n(s,Object.assign({},c))}catch(p){throw console.error(p),new wc(rr(p),0)}if(d.ok||await Qm(d),i?.noResolveJson)return d;try{return await d.json()}catch(p){await Qm(p)}}function Bt(n){var e;let s=null;Hj(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=jj(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function Xm(n){const e=Bt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function In(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function zj(n){return{data:n,error:null}}function qj(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l}=n,c=Uj(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function Zm(n){return n}function Hj(n){return n.access_token&&n.refresh_token&&n.expires_in}const Vu=["global","local","others"];var Kj=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class Gj{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=ov(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Vu[0]){if(Vu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vu.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:In})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Kj(e,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qj,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Zm});if(y.error)throw y.error;const x=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(T=>{const k=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);g[`${E}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Kr(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Kr(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:In})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Kr(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:In})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Kr(e.userId);try{const{data:s,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Kr(e.userId),Kr(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Zm});if(y.error)throw y.error;const x=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(T=>{const k=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);g[`${E}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}}function eg(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Gr={debug:!!(globalThis&&iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Jj extends av{}async function Yj(n,e,s){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Jj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Gr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Qj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Xj(n){return parseInt(n,16)}function Zj(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function eE(n){var e;const{chainId:s,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:p,resources:g,scheme:y,uri:x,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=lv(n.address),T=y?`${y}://${i}`:i,k=n.statement?`${n.statement}
`:"",E=`${T} wants you to sign in with your Ethereum account:
${_}

${k}`;let I=`URI: ${x}
Version: ${w}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(I+=`
Expiration Time: ${a.toISOString()}`),d&&(I+=`
Not Before: ${d.toISOString()}`),p&&(I+=`
Request ID: ${p}`),g){let L=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);L+=`
- ${A}`}I+=L}return`${E}
${I}`}class We extends Error{constructor({message:e,code:s,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class ua extends We{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function tE({error:n,options:e}){var s,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(cv(c)){if(l.rp.id!==c)return new We({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function nE({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(cv(i)){if(s.rpId!==i)return new We({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var uv=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class rE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sE=new rE;function iE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,a=uv(n,["challenge","user","excludeCredentials"]),l=ss(e).buffer,c=Object.assign(Object.assign({},s),{id:ss(s.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];d.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function oE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=uv(n,["challenge","allowCredentials"]),a=ss(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ss(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function aE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:lr(new Uint8Array(n.response.attestationObject)),clientDataJSON:lr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:lr(new Uint8Array(a.authenticatorData)),clientDataJSON:lr(new Uint8Array(a.clientDataJSON)),signature:lr(new Uint8Array(a.signature)),userHandle:a.userHandle?lr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function tg(){var n,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function uE(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ua("Browser returned unexpected credential type",e)}:{data:null,error:new ua("Empty credential response",e)}}catch(e){return{data:null,error:tE({error:e,options:n})}}}async function cE(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ua("Browser returned unexpected credential type",e)}:{data:null,error:new ua("Empty credential response",e)}}catch(e){return{data:null,error:nE({error:e,options:n})}}}const dE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hE={userVerification:"preferred",hints:["security-key"]};function ca(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(s(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=ca(d,c):i[l]=ca(c)}else i[l]=c}return i}function fE(n,e){return ca(dE,n,e||{})}function pE(n,e){return ca(hE,n,e||{})}class mE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!c)return{data:null,error:d};const p=a??sE.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=fE(c.webauthn.credential_options.publicKey,l?.create),{data:y,error:x}=await uE({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=pE(c.webauthn.credential_options.publicKey,l?.request),{data:y,error:x}=await cE(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ir("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!s)return{data:null,error:new bi("rpId is required for WebAuthn authentication")};try{if(!tg())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ir("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!s)return{data:null,error:new bi("rpId is required for WebAuthn registration")};try{if(!tg())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ir("Unexpected error in register",c)}}}}Qj();const gE={url:dj,storageKey:hj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ng(n,e,s){return await s()}const Jr={};class _i{get jwks(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{cachedAt:e})}constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},gE),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Gj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ov(a.fetch),this.lock=a.lock||ng,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Yj:this.lock=ng,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mE(this)},this.persistSession?(a.storage?this.storage=a.storage:iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=eg(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Tj(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),kt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),xj(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?{error:s}:{error:new ir("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,a;try{const l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Bt}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var s,i,a;try{let l;if("email"in e){const{email:y,password:x,options:w}=e;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await Hr(this.storage,this.storageKey)),l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:x,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:T},xform:Bt})}else if("phone"in e){const{phone:y,password:x,options:w}=e;l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Bt})}else throw new Go("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:c,options:d}=e;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Xm})}else if("phone"in e){const{phone:l,password:c,options:d}=e;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Xm})}else throw new Go("You must provide either an email or phone number and a password");const{data:i,error:a}=s;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,a,l,c,d,p,g,y,x,w;let _,T;if("message"in e)_=e.message,T=e.signature;else{const{chain:k,wallet:E,statement:I,options:L}=e;let A;if(kt())if(typeof E=="object")A=E;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")A=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const D=new URL((s=L?.url)!==null&&s!==void 0?s:window.location.href),F=await A.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=lv(F[0]);let K=(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!K){const te=await A.request({method:"eth_chainId"});K=Xj(te)}const M={domain:D.host,address:B,statement:I,uri:D.href,version:"1",chainId:K,nonce:(a=L?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=eE(M),T=await A.request({method:"personal_sign",params:[Zj(_),B]})}try{const{data:k,error:E}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:T},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Bt});if(E)throw E;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new qr}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:E})}catch(k){if(se(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var s,i,a,l,c,d,p,g,y,x,w,_;let T,k;if("message"in e)T=e.message,k=e.signature;else{const{chain:E,wallet:I,statement:L,options:A}=e;let D;if(kt())if(typeof I=="object")D=I;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))D=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const F=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const B=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),L?{statement:L}:null));let K;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")K=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)K=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)T=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),k=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${F.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(a=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const B=await D.signMessage(new TextEncoder().encode(T),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=B}}try{const{data:E,error:I}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:lr(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Bt});if(I)throw I;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new qr}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:I})}catch(E){if(se(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{const{data:l,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Bt});if(await An(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new qr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(se(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:s,provider:i,token:a,access_token:l,nonce:c}=e,d=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Bt}),{data:p,error:g}=d;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new qr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,a,l,c;try{if("email"in e){const{email:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Hr(this.storage,this.storageKey));const{error:x}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:d,options:p}=e,{data:g,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Go("You must provide either an email or phone number.")}catch(d){if(se(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var s,i;try{let a,l;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Bt});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,i,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Hr(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:zj})}catch(l){if(se(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new On;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:d}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Go("You must provide either an email or phone number and a type")}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Mu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await tr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Uu()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,y)=>(!c&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async s=>{var i,a,l;const{data:c,error:d}=s;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:In})})}catch(s){if(se(s))return vj(s)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new On;const c=a.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await Hr(this.storage,this.storageKey));const{data:g,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:In});if(y)throw y;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const s=Date.now()/1e3;let i=s,a=!0,l=null;const{payload:c}=$u(e.access_token);if(c.exp&&(i=c.exp,a=i<=s),a){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(se(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:c,error:d}=s;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new On;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!kt())throw new Jo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new qm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qm("No code detected.");const{data:L,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:p,token_type:g}=e;if(!l||!d||!c||!g)throw new Jo("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(d);let w=y+x;p&&(w=parseInt(p));const _=w-y;_*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const T=w-x;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,y);const{data:k,error:E}=await this._getUser(l);if(E)throw E;const I={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:x,expires_at:w,refresh_token:c,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(i){if(se(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{error:l};const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(yj(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ej(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,a;try{const{data:{session:l},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Hr(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(se(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:a}=await this._useSession(async l=>{var c,d,p,g,y;const{data:x,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return kt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(se(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:c,provider:d,token:p,access_token:g,nonce:y}=e,x=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Bt}),{data:w,error:_}=x;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new qr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:c}=s;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Pj(async a=>(a>0&&await Nj(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bt})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Fu(l)&&Date.now()+c-i<Yr})}catch(i){if(this._debug(s,"error",i),se(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),kt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await tr(this.storage,this.storageKey);if(a&&this.userStorage){let c=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Qr(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Uu()}else if(a&&!a.user&&!a.user){const c=await tr(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await An(this.storage,this.storageKey+"-user"),await Qr(this.storage,this.storageKey,a)):a.user=Uu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Mu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Mu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Fu(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new xa;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new On;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),se(l)){const c={data:null,error:l};return Fu(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,s)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Qr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=Ym(a);await Qr(this.storage,this.storageKey,l)}else{const a=Ym(s);await Qr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yr}ms, refresh threshold is ${vc} ticks`),a<=vc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Hr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;return l?{data:null,error:l}:await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:c}=s;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aE(e.webauthn.credential_response):lE(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:p})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const c=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iE(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:oE(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=$u(a.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+mj>a)return i;const{data:l,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:_,error:T}=await this.getSession();if(T||!_.session)return{data:null,error:T};i=_.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:p}}=$u(i);s?.allowExpired||Mj(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:c},error:null}}const y=Fj(a.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,c,kj(`${d}.${p}`)))throw new bc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}}_i.nextInstanceID=0;const yE=_i;class vE extends yE{constructor(e){super(e)}}var xE=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function d(y){try{g(i.next(y))}catch(x){c(x)}}function p(y){try{g(i.throw(y))}catch(x){c(x)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((i=i.apply(n,e||[])).next())})};class wE{constructor(e,s,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=s;const d=cj(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:ej,realtime:nj,auth:Object.assign(Object.assign({},tj),{storageKey:p}),global:Zk},y=uj(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=oj(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new gk(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Yk(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new ok(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return xE(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:d,lock:p,debug:g},y,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vE({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:c,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:p,debug:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ok(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bE=(n,e,s)=>new wE(n,e,s);function _E(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_E()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const is={},SE=is?.VITE_SUPABASE_URL||is?.VITE_PUBLIC_SUPABASE_URL||is?.NEXT_PUBLIC_SUPABASE_URL,kE=is?.VITE_SUPABASE_ANON_KEY||is?.VITE_PUBLIC_SUPABASE_ANON_KEY||is?.NEXT_PUBLIC_SUPABASE_ANON_KEY,Ln=bE(SE,kE),jE=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ln},Symbol.toStringTag,{value:"Module"})),EE={};async function TE(n){const{contractText:e,fileName:s="contract.pdf",htmlOverride:i,metadata:a={version:"1.0.0"}}=n,l=EE?.VITE_API_BASE_URL,c=l?`${l.replace(/\/$/,"")}/api/export`:"/api/export",d=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:e,format:"pdf",html:i,metadata:a})});if(!d.ok){let x="Export failed";try{x=(await d.json())?.message||x}catch{}throw new Error(x)}const p=await d.blob(),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=s,document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(g)}function CE(n){const[e,s]=R.useState(n);return R.useEffect(()=>{if(e<=0)return;const i=setInterval(()=>{s(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(i)},[e]),e}function NE({contractText:n,onClose:e}){const[s,i]=R.useState(!1),[a,l]=R.useState(null),c=async()=>{i(!0);try{const g=await wi.review({contract_text:n});l(g)}catch(g){He(g.message||"Review failed","error")}finally{i(!1)}},d={low:"text-accent",medium:"text-yellow-600",high:"text-destructive"},p={low:ma,medium:ga,high:xS};return h.jsx(Ei,{children:h.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:e,children:h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"linear"},onClick:g=>g.stopPropagation(),className:"bg-card border border-border max-w-3xl w-full max-h-[80vh] overflow-auto",children:[h.jsx("div",{className:"p-6 lg:p-8 border-b border-border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Compliance Scanner"}),h.jsx("h2",{className:"text-[1.5rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Contract Review"})]}),h.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"stroke-current",children:h.jsx("path",{d:"M5 5L15 15M5 15L15 5",strokeWidth:"1.5",strokeLinecap:"square"})})})]})}),h.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&!s&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Analyze contract for compliance issues and risk factors"}),h.jsx("button",{onClick:c,className:"px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Start Review"})]}),s&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(xi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}),a&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"border-l-2 border-accent pl-4",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Overall Risk Level"}),h.jsx("p",{className:`text-[1.25rem] uppercase tracking-wider ${d[a.overall_risk]}`,style:{fontWeight:600},children:a.overall_risk})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Summary"}),h.jsx("p",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:a.summary})]}),a.red_flags.length>0&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["Issues Detected (",a.red_flags.length,")"]}),h.jsx("div",{className:"space-y-3",children:a.red_flags.map((g,y)=>{const x=p[g.severity];return h.jsx("div",{className:"border border-border p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(x,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${d[g.severity]}`,strokeWidth:1.5}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:g.clause}),h.jsx("p",{className:"text-[0.875rem] mb-2",style:{fontWeight:500},children:g.issue}),h.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:g.suggestion})]})]})},y)})})]})]})]})]})})})}function PE({templateId:n,jurisdiction:e,onBack:s}){const[i,a]=R.useState(null),[l,c]=R.useState(!0),[d,p]=R.useState(!1),[g,y]=R.useState(!1),[x,w]=R.useState(!1),[_,T]=R.useState(!1),[k,E]=R.useState(!1),[I,L]=R.useState({}),[A,D]=R.useState(""),[F,B]=R.useState(0),[K,M]=R.useState(!1),te=CE(F);R.useEffect(()=>{async function ue(){try{const{template:H}=await wi.getTemplate(n,e);a(H);const _e={};H.inputs.forEach(oe=>{oe.type==="date"?_e[oe.key]=new Date().toISOString().split("T")[0]:_e[oe.key]=""}),L(_e)}catch(H){He(H.message||"Failed to load template","error"),s()}finally{c(!1)}}ue()},[n,s]);const xe=(ue,H)=>{L(_e=>({..._e,[ue]:H}))},Le=async()=>{if(!i)return;console.log("🔍 Filter debug:",{array:i?.inputs,arrayType:typeof i?.inputs,isArray:Array.isArray(i?.inputs),location:"ContractEditorView handleGenerate"});const ue=(i.inputs||[]).filter(H=>H&&H.required&&!I[H.key]).map(H=>H.label);if(ue.length>0){He(`Required fields missing: ${ue.join(", ")}`,"error");return}try{const{data:H}=await Ln.auth.getSession();if(!H.session?.access_token){const oe=new Date,z=`${oe.getFullYear()}-${oe.getMonth()+1}`,Z="symi_free_gen",G=localStorage.getItem(Z);let C={month:z,count:0};if(G)try{C=JSON.parse(G)}catch{}if(C.month!==z&&(C={month:z,count:0}),C.count>=10){E(!0);return}C.count+=1,localStorage.setItem(Z,JSON.stringify(C))}}catch{}p(!0);try{const H=await wi.generate({contract_id:n,user_inputs:I,lawyer_mode:!1});D(H.generated_text),He("Contract generated successfully","success")}catch(H){H.code==="RATE_LIMIT"?(B(H.retryInSec||60),He(`Rate limit exceeded. Retry in ${H.retryInSec}s`,"error")):H.code==="LIMIT_REACHED"?(w(!1),T(!1),E(!0)):He(H.message||"Generation failed","error")}finally{p(!1)}},pe=async ue=>{if(!A){He("No contract to export","error");return}y(!0);try{if(ue==="pdf"){w(!0),y(!1);return}He(`Contract exported as ${ue.toUpperCase()}`,"success")}catch(H){He(H.message||"Export failed","error")}finally{}},Ve=async()=>{if(_){y(!0);try{await TE({contractText:A,fileName:"contrat.pdf",metadata:{version:i?.metadata.version,date:new Date().toISOString().split("T")[0]}}),He("Contract exported as PDF","success"),w(!1),T(!1)}catch(ue){He(ue.message||"Export failed","error")}finally{y(!1)}}};return l||!i?h.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:h.jsx(xi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):h.jsxs("div",{className:"min-h-screen pt-16",children:[h.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 lg:px-12 py-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:[h.jsxs("button",{onClick:s,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[h.jsx(sd,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Template Library"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d?"bg-accent animate-pulse":"bg-system-standby"}`}),h.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["SYNTHESIS MODULE / ",n.toUpperCase()]})]}),h.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:i.metadata.title}),h.jsxs("p",{className:"text-[0.75rem] text-muted-foreground mt-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[i.metadata.jurisdiction," • v",i.metadata.version]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:Le,disabled:d||te>0,className:"flex items-center gap-2 px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:d?h.jsxs(h.Fragment,{children:[h.jsx(xi,{className:"w-3.5 h-3.5 animate-spin",strokeWidth:1.5}),"Génération"]}):te>0?h.jsxs(h.Fragment,{children:[h.jsx(ga,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Réessayer ",te,"s"]}):h.jsxs(h.Fragment,{children:[h.jsx(VS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Générer"]})}),A&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[h.jsx(Wy,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Analyser"]}),h.jsxs("button",{onClick:()=>pe("pdf"),disabled:g,className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[h.jsx(SS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Télécharger PDF"]})]})]})]})]}),h.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.15,ease:"linear"},className:"grid grid-cols-1 lg:grid-cols-2 gap-px bg-border",children:[h.jsx("div",{className:"bg-card p-6 lg:p-8 space-y-8",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Input Parameters"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"ACTIVE"})]})]}),h.jsx("div",{className:"space-y-5",children:i.inputs.map(ue=>h.jsxs("div",{children:[h.jsxs("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[ue.label,ue.required&&h.jsx("span",{className:"text-accent ml-1",children:"*"})]}),ue.type==="textarea"?h.jsx("textarea",{value:I[ue.key]||"",onChange:H=>xe(ue.key,H.target.value),rows:4,className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none",style:{fontFamily:"var(--font-mono)",fontWeight:400}}):ue.type==="select"?h.jsx("select",{value:I[ue.key]||"",onChange:H=>xe(ue.key,H.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:h.jsx("option",{value:"",children:"Select..."})}):h.jsx("input",{type:ue.type,value:I[ue.key]||"",onChange:H=>xe(ue.key,H.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400}})]},ue.key))})]})}),h.jsxs("div",{className:"bg-card p-6 lg:p-8 overflow-auto max-h-[calc(100vh-200px)] sticky top-20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Output Preview"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`h-px w-8 ${A?"bg-accent":"bg-border"}`}),h.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:A?"READY":"STANDBY"})]})]}),A?h.jsx("div",{className:"prose prose-sm max-w-none",children:h.jsx("div",{className:"text-[0.875rem] whitespace-pre-wrap",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:A})}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Remplissez les paramètres et cliquez sur Générer"})})]})]})]}),K&&A&&h.jsx(NE,{contractText:A,onClose:()=>M(!1)}),x&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-lg",children:[h.jsx("h3",{className:"text-[1.125rem] mb-3",style:{fontWeight:600},children:"Conditions d'utilisation du document"}),h.jsxs("div",{className:"space-y-3 text-[0. NineTwoFiverem]",style:{lineHeight:1.6},children:[h.jsx("p",{children:"Ce document est généré automatiquement par intelligence artificielle et fourni à titre informatif uniquement."}),h.jsx("p",{children:"Il ne remplace pas l'avis personnalisé d'un avocat et n'a pas de valeur juridique sans validation par un professionnel du droit."}),h.jsx("p",{children:"Symione décline toute responsabilité en cas de litige découlant de l'utilisation de ce document sans consultation juridique préalable."}),h.jsx("p",{children:"Pour une situation à enjeu important, nous recommandons de faire valider ce document par un avocat."})]}),h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsxs("label",{className:"flex items-center gap-2 text-[0.875rem]",children:[h.jsx("input",{type:"checkbox",checked:_,onChange:ue=>T(ue.target.checked)}),"J'ai lu et j'accepte ces conditions d'utilisation"]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>{w(!1),T(!1)},className:"px-4 py-2 border border-border",children:"Annuler"}),h.jsx("button",{onClick:Ve,disabled:!_||g,className:"px-4 py-2 bg-accent text-accent-foreground disabled:opacity-50",children:"Télécharger le contrat PDF"})]})]})]})}),k&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[h.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Limite gratuite atteinte"}),h.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Vous avez généré 2 contrats ce mois. Passez au Plan Pro pour débloquer 20 contrats/mois."}),h.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),h.jsx("button",{onClick:async()=>{try{const H=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:"pro"})})).json();H?.url?window.location.href=H.url:window.location.href="/prix"}catch{window.location.href="/prix"}},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro (149€/mois)"})]})]})})]})}var AE={};class RE{baseURL;maxRetries=3;retryDelay=1e3;requestTimeout=3e4;constructor(e){this.baseURL=e}async sleep(e){return new Promise(s=>setTimeout(s,e))}createAbortController(){return new AbortController}async request(e,s={},i=this.maxRetries){const a=`${this.baseURL}${e}`,l=this.createAbortController(),c=setTimeout(()=>l.abort(),this.requestTimeout);try{const d=await fetch(a,{...s,signal:l.signal,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...s.headers},mode:"cors",credentials:"include"});if(clearTimeout(c),!d.ok){let g={};try{d.headers.get("content-type")?.includes("application/json")?g=await d.json():g={message:await d.text()}}catch{g={message:`HTTP ${d.status}`}}if(d.status===429){const y=d.headers.get("Retry-After");throw new dv(g.message||"Rate limit exceeded",y?parseInt(y):60)}throw d.status>=500?new rg(g.message||"Server error",d.status,g.code):new us(g.message||`HTTP ${d.status}`,d.status,g.code)}return d.headers.get("content-type")?.includes("application/json")?await d.json():await d.text()}catch(d){if(clearTimeout(c),d instanceof Error&&d.name==="AbortError")throw new sg("Request timeout");if(i>0&&this.isRetryableError(d))return await this.sleep(this.retryDelay*(this.maxRetries-i+1)),this.request(e,s,i-1);throw d}}isRetryableError(e){return e instanceof sg||e instanceof rg||!e.status||e.status>=500}async get(e,s){const i=s?`${e}?${new URLSearchParams(s).toString()}`:e;return this.request(i,{method:"GET"})}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async patch(e,s){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0})}}class us extends Error{constructor(e,s,i){super(e),this.status=s,this.code=i,this.name="APIError"}}class dv extends us{constructor(e,s){super(e,429,"RATE_LIMIT_EXCEEDED"),this.retryAfter=s,this.name="RateLimitError"}}class rg extends us{constructor(e,s,i){super(e,s,i),this.name="ServerError"}}class sg extends Error{constructor(e){super(e),this.name="TimeoutError"}}const Yt=new RE(AE.NEXT_PUBLIC_API_URL||"https://symilegalback.vercel.app/api");function ig(n,e=[],s={}){const{immediate:i=!0,retryOnError:a=!1,retryDelay:l=1e3,maxRetries:c=3}=s,[d,p]=R.useState(null),[g,y]=R.useState(i),[x,w]=R.useState(null),[_,T]=R.useState(0),k=R.useRef(null),E=R.useRef(null),I=R.useCallback(async(D=!1)=>{k.current&&k.current.abort(),k.current=new AbortController,D||(y(!0),w(null));try{const F=await n();if(k.current?.signal.aborted)return;p(F),w(null),T(0)}catch(F){if(k.current?.signal.aborted)return;const B=F instanceof Error?F:new Error("Unknown error");if(w(B),a&&_<c){const K=_+1;T(K),E.current=setTimeout(()=>{I(!0)},l*K)}console.error("API Error:",B)}finally{D||y(!1)}},[n,_,a,l,c]),L=R.useCallback(async()=>{T(0),await I()},[I]),A=R.useCallback(()=>{k.current&&k.current.abort(),E.current&&clearTimeout(E.current),y(!1)},[]);return R.useEffect(()=>(i&&I(),()=>{k.current&&k.current.abort(),E.current&&clearTimeout(E.current)}),e),{data:d,loading:g,error:x,refetch:()=>I(),retry:L,cancel:A}}const Yo={getTemplates:()=>Yt.get("/contracts/templates"),getQuestions:n=>Yt.get(n?`/contracts/questions?id=${encodeURIComponent(n)}`:"/contracts/questions"),suggest:n=>Yt.post("/contracts/suggest",n),create:n=>Yt.post("/contracts/create",n),getContracts:()=>Yt.get("/escrow/contracts"),getContract:n=>Yt.get(`/escrow/contracts/${n}`),intentCreate:n=>Yt.post("/escrow/intent/create",n),submitMilestone:n=>Yt.post("/escrow/milestone/submit",n),validateMilestone:n=>Yt.post("/escrow/milestone/validate",n)},OE={analyze:n=>Yt.post("/conseiller/analyze",n)};function hv({size:n="md",className:e=""}){const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return h.jsx(xi,{className:`animate-spin ${s[n]} ${e}`,strokeWidth:1.5})}function og({message:n="Chargement...",className:e=""}){return h.jsx("div",{className:`bg-card border border-border rounded-lg p-8 ${e}`,children:h.jsxs("div",{className:"text-center",children:[h.jsx(hv,{size:"md",className:"mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:n})]})})}function ta({loading:n,children:e,className:s="",disabled:i=!1,onClick:a,type:l="button"}){return h.jsxs("button",{type:l,onClick:a,disabled:i||n,className:`
        px-6 py-3 rounded-lg transition-all duration-200 flex items-center justify-center gap-2
        ${n||i?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${s}
      `,children:[n&&h.jsx(hv,{size:"sm"}),e]})}function _c(n=!1){const[e,s]=Fr.useState(n),[i,a]=Fr.useState(null),l=Fr.useCallback(()=>{s(!0),a(null)},[]),c=Fr.useCallback(()=>{s(!1)},[]),d=Fr.useCallback(g=>{a(g),s(!1)},[]),p=Fr.useCallback(()=>{s(!1),a(null)},[]);return{loading:e,error:i,startLoading:l,stopLoading:c,setErrorState:d,reset:p}}class cd extends R.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s}),this.props.onError?.(e,s)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto p-8 text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx(ga,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Une erreur s'est produite"}),h.jsx("p",{className:"text-muted-foreground",children:"Désolé, quelque chose s'est mal passé. Veuillez réessayer."})]}),!1,h.jsxs("div",{className:"flex gap-3 justify-center",children:[h.jsxs("button",{onClick:this.handleRetry,className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center gap-2",children:[h.jsx(DS,{className:"w-4 h-4"}),"Réessayer"]}),h.jsxs("button",{onClick:this.handleGoHome,className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors flex items-center gap-2",children:[h.jsx(TS,{className:"w-4 h-4"}),"Accueil"]})]})]})}):this.props.children}}const IE=`Bonjour, je suis votre assistant juridique intelligent.

Je fournis des informations générales et des recommandations basées sur votre situation, mais je ne remplace pas un avocat.

Pour toute situation complexe, à fort enjeu, ou nécessitant une action en justice, je vous recommanderai de consulter un professionnel du droit.

Comment puis-je vous aider aujourd'hui?`;function LE({onBack:n}){const[e,s]=R.useState(""),[i,a]=R.useState(""),[l,c]=R.useState(null),[d,p]=R.useState([]),[g,y]=R.useState(""),{loading:x,error:w,startLoading:_,stopLoading:T,setErrorState:k}=_c(),E=async()=>{if(!e||e.trim().length<50){He("Veuillez décrire votre situation en détail (min 50 caractères)","error");return}try{_(),c(null);const M=await OE.analyze({problem:e,city:i});c(M),p(te=>[...te,{id:`u-${Date.now()}`,role:"user",content:e},{id:`a-${Date.now()}`,role:"assistant",content:`Analyse complétée pour ${i||"votre zone"}.`}]),He("Analyse terminée avec succès","success")}catch(M){console.error("Analysis error:",M),M instanceof dv?He(`Limite de taux atteinte. Réessayez dans ${M.retryAfter} secondes.`,"error"):M instanceof us?He(M.message,"error"):He("Erreur lors de l'analyse. Veuillez réessayer.","error"),k(M instanceof Error?M.message:"Erreur inconnue")}finally{T()}},I=()=>{g.trim()&&(p(M=>[...M,{id:`u-${Date.now()}`,role:"user",content:g},{id:`a-${Date.now()}`,role:"assistant",content:"Réponse contextuelle (bientôt disponible)."}]),y(""))},[L,A]=R.useState(""),[D,F]=R.useState([]),[B,K]=R.useState(!1);return h.jsx(cd,{children:h.jsx("div",{className:"min-h-screen pt-16",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[h.jsx(sd,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),h.jsxs("div",{className:"pb-6 border-b border-border",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"MODULE CONSEIL / ASSISTANCE"}),h.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Conseiller juridique"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[h.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[h.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 p-4",style:{whiteSpace:"pre-wrap",lineHeight:1.6},children:IE}),h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"bg-card border border-border p-6 lg:p-8",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Décrivez votre situation"}),h.jsx("textarea",{value:e,onChange:M=>s(M.target.value),rows:8,placeholder:"Contexte, enjeux, dates clés, actions déjà réalisées",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ville (pour recommandation avocat)"}),h.jsx("input",{value:i,onChange:M=>a(M.target.value),placeholder:"Paris",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),h.jsx(ta,{loading:x,onClick:E,disabled:!e.trim(),className:"w-full px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:x?"Analyse en cours...":"Analyser ma situation"}),h.jsx("p",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:"Réponse en moins de 30 secondes • Service confidentiel"}),w&&h.jsx("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{className:"w-4 h-4 text-destructive"}),h.jsx("p",{className:"text-sm text-destructive",children:w})]})})]})}),l&&h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"space-y-6",children:[h.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[h.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Analyse de votre situation"}),h.jsx("p",{className:"text-[0.875rem] mb-4",style:{lineHeight:1.6},children:l.audit.summary}),Array.isArray(l.audit.risks)&&l.audit.risks.length>0&&h.jsxs("div",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:[h.jsx("div",{className:"mb-1",style:{fontWeight:600},children:"Points d'attention:"}),h.jsx("ul",{className:"list-disc pl-5",children:l.audit.risks.map((M,te)=>h.jsx("li",{children:M},te))})]}),h.jsxs("div",{className:"text-[0.75rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)"},children:[h.jsxs("span",{children:["Urgence: ",l.audit.urgency]})," • ",h.jsxs("span",{children:["Complexité: ",l.audit.complexity]})]})]}),l.recommendedTemplate&&h.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[h.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Modèle recommandé"}),h.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:l.recommendedTemplate.name}),l.recommendedTemplate.reason&&h.jsx("p",{className:"text-[0.875rem] mt-1 text-muted-foreground",children:l.recommendedTemplate.reason}),h.jsx("div",{className:"mt-2",children:l.recommendedTemplate.available?h.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):h.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),l.recommendedTemplate.slug&&h.jsx("button",{className:"mt-4 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${l.recommendedTemplate.slug}`,children:"Utiliser ce modèle →"}),l.needsLawyer&&h.jsxs("div",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:["⚠️ ",h.jsx("strong",{children:"Attention:"})," Votre situation est complexe. Nous recommandons aussi de consulter un avocat."]})]}),l.needsLawyer&&Array.isArray(l.recommendedLawyers)&&l.recommendedLawyers.length>0&&h.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[h.jsx("h2",{className:"text-[1.25rem] mb-4",style:{fontWeight:600},children:"Avocats recommandés"}),!l.recommendedTemplate&&h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-3",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),h.jsx("div",{className:"space-y-3",children:l.recommendedLawyers.map((M,te)=>h.jsxs("div",{className:"border border-border p-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:M.name}),typeof M.rating=="number"&&h.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[M.rating,"/5"]})]}),h.jsx("div",{className:"text-[0.875rem] text-muted-foreground mt-1",children:[M.specialty,M.city,M.firm].filter(Boolean).join(" • ")}),M.phone&&h.jsx("a",{href:`tel:${M.phone}`,className:"text-[0.75rem] mt-2 inline-block underline",children:"Contacter"})]},te))})]}),h.jsxs("div",{className:"border border-border p-4 text-[0.875rem] bg-accent/5",children:[h.jsx("span",{className:"mr-2",children:"💡"}),"Créez un compte gratuit pour sauvegarder vos consultations et générer des contrats personnalisés.",h.jsx("button",{onClick:()=>window.location.href="/login",className:"ml-3 underline",children:"Créer un compte"})]})]})]}),h.jsx("div",{className:"lg:col-span-7",children:h.jsxs("div",{className:"bg-card border border-border p-4 lg:p-6 min-h-[520px] flex flex-col gap-4",children:[!l&&!x&&h.jsx("div",{className:"text-center text-[0.875rem] text-muted-foreground py-16",children:"Décrivez votre situation à gauche pour recevoir une analyse juridique détaillée"}),x&&h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),h.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),l&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"border border-border p-4",children:[h.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📋 Analyse de votre situation"}),h.jsxs("p",{className:"text-[0.875rem] mb-2",children:[h.jsx("strong",{children:"Résumé:"})," ",l.audit.summary]}),Array.isArray(l.audit.risks)&&l.audit.risks.length>0&&h.jsxs("div",{className:"text-[0.875rem] mb-2",children:[h.jsx("strong",{children:"Points d'attention:"}),h.jsx("ul",{className:"list-disc pl-5",children:l.audit.risks.map((M,te)=>h.jsx("li",{children:M},te))})]}),h.jsxs("div",{className:"flex items-center gap-3 text-[0.75rem] text-muted-foreground",children:[h.jsxs("span",{children:["Urgence: ",l.audit.urgency]}),h.jsx("span",{children:"•"}),h.jsxs("span",{children:["Complexité: ",l.audit.complexity]})]})]}),l.recommendedTemplate&&h.jsxs("div",{className:"border border-border p-4",children:[h.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📄 Template recommandé"}),h.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:l.recommendedTemplate.name}),l.recommendedTemplate.reason&&h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-1",children:l.recommendedTemplate.reason}),h.jsx("div",{className:"mt-2",children:l.recommendedTemplate.available?h.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):h.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),l.recommendedTemplate.slug&&h.jsx("button",{className:"mt-3 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${l.recommendedTemplate.slug}`,children:"Utiliser ce template →"}),l.needsLawyer&&h.jsx("p",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:"⚠️ Situation complexe: nous recommandons aussi de consulter un avocat"})]}),Array.isArray(l.recommendedLawyers)&&l.recommendedLawyers.length>0&&h.jsxs("div",{className:"border border-border p-4",children:[h.jsxs("h4",{className:"text-[0.95rem] mb-2",children:["⚖️ Avocats recommandés ",i?`à ${i}`:""]}),!l.recommendedTemplate&&h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-2",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),h.jsx("div",{className:"space-y-3",children:l.recommendedLawyers.map((M,te)=>h.jsxs("div",{className:"border border-border p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:M.name}),typeof M.rating=="number"&&h.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[M.rating,"/5"]})]}),h.jsx("div",{className:"text-[0.875rem] text-muted-foreground",children:[M.specialty,M.city,M.firm].filter(Boolean).join(" • ")}),M.phone&&h.jsx("a",{href:`tel:${M.phone}`,className:"underline text-[0.8125rem] mt-1 inline-block",children:"Contacter"})]},te))})]}),d.map(M=>h.jsx("div",{className:`p-3 border ${M.role==="assistant"?"bg-accent/5 border-accent/20":"bg-card border-border"}`,children:M.content},M.id)),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",placeholder:"Question complémentaire...",value:g,onChange:M=>y(M.target.value),onKeyPress:M=>M.key==="Enter"&&I(),className:"flex-1 px-3 py-2 bg-input-background border border-border",style:{fontFamily:"var(--font-mono)"}}),h.jsx("button",{onClick:I,className:"px-4 py-2 border border-border",children:"→"})]})]})]})})]})]})})})}const DE=[{id:"pro",name:"Pro",price:"149",period:"/ mois",description:"Pour freelances, PME et consultants qui veulent une équipe juridique à portée de main",features:["20 contrats par mois","Accès bibliothèque complète (50+ modèles)","Conseiller IA (chat + vocal)","Export PDF & DOCX","Révisions illimitées","Support prioritaire (< 24h)"],icon:By,iconText:"Assistant IA quotidien, simple et efficace",cta:"Commencer",variant:"outline",target:"Freelances, PME, Consultants"},{id:"cabinet",name:"Cabinet",price:"349",period:"/ mois",description:"Pour cabinets d'avocats et directions juridiques",features:["Contrats illimités","Rapport SYMI Intelligence hebdomadaire","Référencement prioritaire (Top 3 suggestions)","Assistant vocal IA personnalisé (votre branding)","Onboarding & formation inclus","Support prioritaire (< 2h, 7j/7)","Formation continue (1x/trimestre)"],icon:FS,iconText:"Partenariat avancé et avantages exclusifs",cta:"Devenir partenaire",variant:"accent",highlighted:!0,target:"Cabinets & Directions juridiques"},{id:"enterprise",name:"Entreprise",price:"Sur consultation",period:"",description:"Pour grands cabinets (20+) et corporate",features:["White label complet (votre marque)","Accès API (ERP/CRM)","Rapports SYMI personnalisés","Multi-juridictions (FR, UE, UK, US)","SLA 99.9% garanti","Account manager dédié","Installation sur-mesure et développements custom"],icon:IS,iconText:"Accompagnement dédié et intégrations avancées",cta:"Discuter de vos besoins",variant:"outline",target:"Grandes organisations"}];function ME({onNavigate:n}){const e=s=>{n(s==="cabinet"?"contact":"login")};return h.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-8 text-center",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"TARIFICATION / PLANS"}),h.jsxs("div",{className:"max-w-3xl mx-auto border border-border p-12 text-center",children:[h.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] mb-6 tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.2},children:"Choisissez votre liberté."}),h.jsxs("p",{className:"text-[1rem] text-muted-foreground",style:{lineHeight:1.7},children:["Pas d'engagement. Pas de surprise. Juste des",h.jsx("br",{}),"contrats professionnels accessibles à tous."]})]})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:DE.map((s,i)=>{const a=s.icon;return h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.08,ease:"linear"},className:`border border-border bg-card p-8 lg:p-10 relative transition-all duration-200 ${s.highlighted?"ring-2 ring-accent ring-offset-2 ring-offset-background":"hover:border-accent/50"}`,children:[s.highlighted&&h.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-accent text-accent-foreground text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Recommandé"}),h.jsxs("div",{className:"mb-8 pb-8 border-b border-border",children:[h.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:s.name}),h.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.target}),h.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.id!=="enterprise"?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-[3.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:s.price}),h.jsxs("span",{className:"text-[1rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["€ ",s.period]})]}):h.jsx("span",{className:"text-[1.75rem] tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.2},children:s.price})}),h.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:s.description})]}),h.jsxs("div",{className:"flex items-start gap-3 mb-6 p-3 bg-accent/5 border border-accent/10",children:[h.jsx(a,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5",strokeWidth:1.5}),h.jsx("p",{className:"text-[0.75rem]",style:{lineHeight:1.5,fontFamily:"var(--font-mono)",fontWeight:300},children:s.iconText})]}),h.jsx("ul",{className:"space-y-3 mb-10",children:s.features.map((l,c)=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"mt-1 flex-shrink-0",children:h.jsx(fS,{className:"w-4 h-4 text-accent",strokeWidth:2})}),h.jsx("span",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:l})]},c))}),h.jsx("button",{onClick:async()=>{if(s.id==="pro"||s.id==="cabinet")try{const c=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:s.id})})).json();c?.url?window.location.href=c.url:e(s.id)}catch{e(s.id)}else e(s.id)},className:`w-full px-8 py-5 text-[0.75rem] uppercase tracking-[0.12em] transition-all duration-200 ${s.variant==="accent"?"bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)]":"border border-border hover:border-foreground hover:bg-accent/5"}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:s.cta})]},s.id)})}),h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.4},className:"mt-12 text-center",children:[h.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{lineHeight:1.7},children:"Tous les plans incluent l'accès aux 3 juridictions (FR, UK, US) et la garantie de génération en moins de 5 minutes."}),h.jsx("button",{onClick:()=>n("contact"),className:"text-[0.75rem] uppercase tracking-[0.08em] text-accent hover:underline",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Besoin d'un plan sur mesure ? Contactez-nous →"})]})]})})}function FE({onNavigate:n}){const[e,s]=R.useState(!1),[i,a]=R.useState(""),[l,c]=R.useState(""),d=async p=>{p.preventDefault();try{if(e){const{error:g}=await Ln.auth.signUp({email:i,password:l});if(g)throw g;He("Inscription réussie. Vérifiez votre email.","success"),n("contracts")}else{const{error:g}=await Ln.auth.signInWithPassword({email:i,password:l});if(g)throw g;He("Connexion réussie","success"),n("contracts")}}catch(g){He(g.message||"Erreur authentification","error")}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center py-20 px-6",children:h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"ACCÈS PLATEFORME"}),h.jsx("h1",{className:"text-[2.5rem] mb-4 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:e?"Créer un compte.":"Connexion."}),h.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7},children:e?"Commencez à générer vos contrats professionnels":"Accédez à votre espace de travail juridique"})]}),h.jsxs("form",{onSubmit:d,className:"space-y-6",children:[h.jsx("div",{className:"border border-border bg-card p-8",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Adresse email"}),h.jsx("input",{id:"email",type:"email",value:i,onChange:p=>a(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"votre@email.com"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Mot de passe"}),h.jsx("input",{id:"password",type:"password",value:l,onChange:p=>c(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"••••••••"})]}),!e&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4"}),h.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)"},children:"Se souvenir de moi"})]}),h.jsx("button",{type:"button",className:"text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"Mot de passe oublié ?"})]})]})}),h.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:e?"Créer mon compte":"Se connecter"}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:e?"Déjà un compte ? Se connecter →":"Pas encore de compte ? S'inscrire →"})})]}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-border",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground text-center mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ou continuer avec"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"google"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Google"}),h.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"azure"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Microsoft"})]})]})]})})}function $E(){const n=[{icon:qS,title:"Démarrage rapide",description:"Commencez en moins de 5 minutes",items:["Créer un compte","Choisir un template","Générer votre premier contrat","Exporter en PDF/DOCX"]},{icon:jS,title:"Bibliothèque de templates",description:"50+ modèles professionnels",items:["Contrats de travail (CDI, CDD, Stage)","Contrats commerciaux (Vente, Prestation)","Accords de confidentialité (NDA)","Baux et locations"]},{icon:bS,title:"API & Intégrations",description:"Pour les plans Cabinet",items:["REST API documentation","Webhooks & événements","White label & branding","SSO & authentification"]},{icon:dS,title:"Guide juridique",description:"Comprendre vos contrats",items:["Clauses essentielles","Mentions obligatoires","Juridictions supportées","Conformité RGPD"]}];return h.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:h.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME / DOCUMENTATION"}),h.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Documentation."}),h.jsx("p",{className:"text-[1rem] text-muted-foreground max-w-2xl",style:{lineHeight:1.7},children:"Guides complets, références API et ressources pour maîtriser la plateforme SYMIONE."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-border",children:n.map((e,s)=>{const i=e.icon;return h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:s*.08,ease:"linear"},className:"bg-card p-8 lg:p-10 hover:bg-accent/5 transition-colors duration-200 cursor-pointer",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx("div",{className:"p-3 border border-border",children:h.jsx(i,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600},children:e.title}),h.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:e.description})]})]}),h.jsx("ul",{className:"space-y-3 border-t border-border pt-6",children:e.items.map((a,l)=>h.jsxs("li",{className:"flex items-center gap-3 group",children:[h.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full group-hover:bg-accent transition-colors duration-200"}),h.jsx("span",{className:"text-[0.875rem] group-hover:text-accent transition-colors duration-200",style:{lineHeight:1.6},children:a})]},l))})]},e.title)})}),h.jsx(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.3},className:"mt-16 border border-border p-8 lg:p-10",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:"Besoin d'aide supplémentaire ?"}),h.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:"Notre équipe support est disponible pour vous accompagner."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{className:"px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Support"}),h.jsx("button",{className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"API Docs"})]})]})})]})})}function UE(){const[n,e]=R.useState({name:"",email:"",company:"",subject:"general",message:""}),s=i=>{i.preventDefault(),console.log("Contact form submitted:",n),alert("Message envoyé ! Notre équipe vous répondra sous 24h.")};return h.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:h.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[h.jsxs(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CONTACT / SUPPORT"}),h.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Nous consulter."}),h.jsx("p",{className:"text-[1rem] text-muted-foreground mb-12",style:{lineHeight:1.7},children:"Notre équipe est à votre disposition pour répondre à vos questions sur nos plans, fonctionnalités ou partenariats."}),h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 border border-border",children:h.jsx(AS,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-[1rem] mb-1",style:{fontWeight:600},children:"Email"}),h.jsx("a",{href:"mailto:contact@symi.io",className:"text-[0.875rem] text-muted-foreground hover:text-accent transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})}),h.jsxs("div",{className:"mt-12 pt-8 border-t border-border",children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Liens rapides"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("a",{href:"mailto:sales@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Demande commerciale"}),h.jsx("a",{href:"mailto:support@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Support technique"}),h.jsx("a",{href:"mailto:partners@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Partenariats cabinets"})]})]})]}),h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear",delay:.1},children:h.jsx("form",{onSubmit:s,className:"border border-border bg-card p-8 lg:p-10",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Nom complet *"}),h.jsx("input",{id:"name",type:"text",value:n.name,onChange:i=>e({...n,name:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Email *"}),h.jsx("input",{id:"email",type:"email",value:n.email,onChange:i=>e({...n,email:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"company",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Entreprise / Cabinet"}),h.jsx("input",{id:"company",type:"text",value:n.company,onChange:i=>e({...n,company:i.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"subject",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Sujet *"}),h.jsxs("select",{id:"subject",value:n.subject,onChange:i=>e({...n,subject:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},children:[h.jsx("option",{value:"general",children:"Question générale"}),h.jsx("option",{value:"sales",children:"Demande commerciale"}),h.jsx("option",{value:"support",children:"Support technique"}),h.jsx("option",{value:"partnership",children:"Partenariat cabinet"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Message *"}),h.jsx("textarea",{id:"message",value:n.message,onChange:i=>e({...n,message:i.target.value}),required:!0,rows:6,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem] resize-none",style:{fontFamily:"var(--font-mono)"}})]}),h.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Envoyer le message"}),h.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center",style:{fontFamily:"var(--font-mono)"},children:"Réponse sous 24h ouvrées"})]})})})]})})})}function VE({onNavigate:n}){const[e,s]=R.useState(null),[i,a]=R.useState([]),[l,c]=R.useState({}),[d,p]=R.useState(0),[g,y]=R.useState(null),{loading:x,error:w,data:_}=ig(()=>Yo.getTemplates(),[],{retryOnError:!0,maxRetries:3}),{loading:T,error:k,data:E}=ig(()=>e?Yo.getQuestions(e):Promise.resolve({ok:!0,questions:[]}),[e],{immediate:!!e,retryOnError:!0}),{loading:I,startLoading:L,stopLoading:A}=_c(),{loading:D,startLoading:F,stopLoading:B}=_c();R.useEffect(()=>{E?.ok&&E.questions&&(Array.isArray(E.questions)?a(E.questions):e&&E.questions[e]&&a(E.questions[e]),p(0))},[E,e]);const K=(H,_e)=>{c(oe=>({...oe,[H]:_e}))},M=()=>{d<i.length-1?p(H=>H+1):Le()},te=()=>{d>0&&p(H=>H-1)},xe=async()=>{if(e)try{L();const H=await Yo.suggest({templateId:e,answers:l});H.success&&y(H.contract)}catch(H){console.error("Error suggesting contract:",H)}finally{A()}},Le=async()=>{if(e)try{F();const H=await Yo.create({templateId:e,answers:l});H.success&&n("bond-contract",H.contractId)}catch(H){console.error("Error creating contract:",H)}finally{B()}},pe=i[d],Ve=i.length>0?(d+1)/i.length*100:0,ue=_?.templates||[];return x&&ue.length===0?h.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:h.jsx(og,{message:"Chargement des templates..."})}):w?h.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx(vi,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Erreur"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:w instanceof us?w.message:"Erreur lors du chargement des templates"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors",children:"Réessayer"})]})}):e?h.jsx(cd,{children:h.jsx("div",{className:"min-h-screen pt-16",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuration du Contrat"}),h.jsx("button",{onClick:()=>s(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:"✕ Annuler"})]}),h.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:h.jsx(ie.div,{className:"bg-accent h-3 rounded-full transition-all duration-300",initial:{width:0},animate:{width:`${Ve}%`}})}),h.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Question ",d+1," sur ",i.length," (",Math.round(Ve),"%)"]})]}),k&&h.jsx("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vi,{className:"w-5 h-5 text-destructive"}),h.jsx("p",{className:"text-destructive",children:k instanceof us?k.message:"Erreur lors du chargement des questions"})]})}),T&&h.jsx(og,{message:"Chargement des questions..."}),pe&&!T&&h.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-card border border-border rounded-xl p-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:pe.question}),pe.help&&h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:pe.help}),pe.type==="select"&&h.jsxs("select",{value:l[pe.id]||"",onChange:H=>K(pe.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",children:[h.jsx("option",{value:"",children:"Sélectionnez une option..."}),pe.options?.map(H=>h.jsx("option",{value:H,children:H},H))]}),pe.type==="text"&&h.jsx("textarea",{value:l[pe.id]||"",onChange:H=>K(pe.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors resize-none",rows:4,placeholder:"Décrivez votre projet..."}),pe.type==="number"&&h.jsx("input",{type:"number",value:l[pe.id]||"",onChange:H=>K(pe.id,parseFloat(H.target.value)),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",placeholder:"Montant en euros"}),pe.type==="date"&&h.jsx("input",{type:"date",value:l[pe.id]||"",onChange:H=>K(pe.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors"}),pe.legalImplication&&h.jsx("div",{className:"mt-4 p-3 bg-accent/10 border border-accent/20 rounded-lg",children:h.jsxs("p",{className:"text-sm text-accent",children:[h.jsx("strong",{children:"ℹ️ Implication légale:"})," ",pe.legalImplication]})}),h.jsxs("div",{className:"flex justify-between mt-8",children:[h.jsx("button",{onClick:te,disabled:d===0,className:"px-6 py-3 border border-border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:"Précédent"}),h.jsxs("div",{className:"flex gap-3",children:[d===i.length-1&&h.jsx(ta,{loading:I,onClick:xe,className:"px-6 py-3 bg-secondary text-secondary-foreground hover:bg-secondary/90",children:"Prévisualiser"}),h.jsx(ta,{loading:D,onClick:d===i.length-1?Le:M,disabled:!l[pe.id],className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:d===i.length-1?"Créer le contrat":"Suivant"})]})]})]},d),g&&h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 bg-card border border-border rounded-xl p-8",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Aperçu du contrat"}),h.jsx("div",{className:"bg-muted/30 rounded-lg p-4 max-h-96 overflow-y-auto",children:h.jsx("pre",{className:"whitespace-pre-wrap text-sm text-foreground",children:g})}),h.jsxs("div",{className:"flex gap-3 mt-4",children:[h.jsx(ta,{loading:D,onClick:Le,className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:"Créer le contrat"}),h.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:"Modifier"})]})]})]})})}):h.jsx("div",{className:"min-h-screen pt-16",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Créer un Contrat Sécurisé"}),h.jsx("p",{className:"text-xl text-muted-foreground",children:"Choisissez le type de contrat qui correspond à votre projet"})]}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:ue.map((H,_e)=>h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:_e*.1},onClick:()=>s(H.id),className:"bg-card border border-border rounded-xl p-6 cursor-pointer hover:border-accent hover:shadow-lg transition-all group",children:[h.jsx("div",{className:"text-3xl mb-4 group-hover:scale-110 transition-transform",children:"📋"}),h.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:H.title}),h.jsx("p",{className:"text-muted-foreground mb-4",children:H.description}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.jsx("strong",{children:"Rôles:"})," ",H.roles?.join(", ")||"Non spécifié"]}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.jsx("strong",{children:"Jalons:"})," ",H.milestones?.length||0]}),H.popular&&h.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-accent/10 text-accent text-xs rounded-full",children:[h.jsx(ma,{className:"w-3 h-3 mr-1"}),"Populaire"]})]})]},H.id))})]})})}function BE(){const[n,e]=R.useState("checking"),[s,i]=R.useState(null);return R.useEffect(()=>{async function a(){try{await wi.health(),e("online"),i(new Date)}catch{e("offline"),i(new Date)}}a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]),n==="checking"?null:h.jsx("div",{className:"fixed bottom-6 left-6 z-40 pointer-events-none",children:h.jsxs("div",{className:"flex items-center gap-2 bg-card/80 backdrop-blur-sm border border-border px-3 py-2",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n==="online"?"bg-accent animate-pulse":"bg-destructive"}`}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:n==="online"?"System Online":"System Offline"})]})})}const Bu=[{id:"signup",question:"Comment créer un compte ?",answer:`Cliquez sur "Connexion" en haut à droite, puis "S'inscrire". Remplissez vos informations et choisissez votre plan.`},{id:"plans",question:"Quels sont les plans disponibles ?",answer:"Nous proposons 3 plans : Pro (149€/mois), Cabinet (349€/mois), et Entreprise (sur consultation). Consultez la page Prix pour plus de détails."},{id:"templates",question:"Combien de templates sont disponibles ?",answer:"Nous proposons plus de 50 templates professionnels couvrant 3 juridictions (FR, UK, US), incluant contrats de travail, commerciaux, NDA, baux, etc."},{id:"export",question:"Comment exporter mes contrats ?",answer:"Avec le plan Pro et Cabinet, vous pouvez exporter en PDF et DOCX."},{id:"time",question:"Combien de temps prend la génération ?",answer:"La génération d'un contrat prend moins de 5 minutes en moyenne, de la sélection du template à l'export final."},{id:"lawyer",question:"Puis-je faire valider par un avocat ?",answer:"Le référencement avocat n'est pas inclus dans le plan Pro. Les partenaires Cabinet bénéficient d'un référencement prioritaire."},{id:"support",question:"Comment vous contacter ?",answer:"Envoyez-nous un email à contact@symi.io. Nous répondons sous 24h ouvrées. Les abonnés Pro et Cabinet bénéficient d'un support prioritaire."}];function WE(){const[n,e]=R.useState(!1),[s,i]=R.useState(null);return h.jsxs(h.Fragment,{children:[h.jsx(ie.button,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.2,ease:"linear"},onClick:()=>e(!n),className:"fixed bottom-6 right-6 z-50 p-4 bg-accent text-accent-foreground shadow-lg hover:shadow-[0_0_24px_var(--accent-glow)] transition-all duration-200 border border-accent","aria-label":"Assistance",children:n?h.jsx(id,{className:"w-6 h-6",strokeWidth:1.5}):h.jsx(By,{className:"w-6 h-6",strokeWidth:1.5})}),h.jsx(Ei,{children:n&&h.jsxs(ie.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2,ease:"linear"},className:"fixed bottom-24 right-6 z-50 w-[380px] max-h-[600px] bg-card border border-border shadow-2xl overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"p-6 border-b border-border bg-accent/5",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),h.jsx("h3",{className:"text-[1rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Assistant SYMIONE"})]}),h.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Questions fréquentes"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:s?h.jsxs("div",{className:"p-6",children:[h.jsx("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-[0.75rem] text-accent hover:underline mb-4",style:{fontFamily:"var(--font-mono)"},children:"← Retour aux questions"}),h.jsx("div",{className:"bg-accent/5 p-4 border border-accent/10 mb-4",children:h.jsx("p",{className:"text-[0.875rem]",style:{fontWeight:600,lineHeight:1.5},children:Bu.find(a=>a.id===s)?.question})}),h.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:Bu.find(a=>a.id===s)?.answer})]}):h.jsx("div",{className:"p-4",children:h.jsx("div",{className:"space-y-2",children:Bu.map(a=>h.jsx("button",{onClick:()=>i(a.id),className:"w-full text-left p-3 hover:bg-accent/5 transition-colors duration-200 border border-transparent hover:border-accent/20 group",children:h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("span",{className:"text-[0.8125rem] flex-1",style:{lineHeight:1.5},children:a.question}),h.jsx(mS,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent transition-colors duration-200",strokeWidth:1.5})]})},a.id))})})}),h.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[h.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Besoin d'aide supplémentaire ?"}),h.jsx("a",{href:"mailto:contact@symi.io",className:"block text-center text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})})]})}const fv={user:{isAuthenticated:!1,profile:null,preferences:{theme:"system",language:"fr"}},ui:{currentView:"home",sidebarOpen:!1,notifications:[],loading:{global:!1,operations:{}}},contracts:{templates:[],generated:[],favorites:[]},bond:{contracts:[],templates:[],currentContract:null},conseiller:{history:[],currentAnalysis:null}};function zE(n,e){switch(e.type){case"SET_USER":return{...n,user:{...n.user,profile:e.payload,isAuthenticated:!!e.payload}};case"SET_THEME":return{...n,user:{...n.user,preferences:{...n.user.preferences,theme:e.payload}}};case"SET_LANGUAGE":return{...n,user:{...n.user,preferences:{...n.user.preferences,language:e.payload}}};case"SET_CURRENT_VIEW":return{...n,ui:{...n.ui,currentView:e.payload}};case"TOGGLE_SIDEBAR":return{...n,ui:{...n.ui,sidebarOpen:!n.ui.sidebarOpen}};case"ADD_NOTIFICATION":return{...n,ui:{...n.ui,notifications:[...n.ui.notifications,e.payload]}};case"REMOVE_NOTIFICATION":return{...n,ui:{...n.ui,notifications:n.ui.notifications.filter(i=>i.id!==e.payload)}};case"SET_LOADING":return e.payload.operation?{...n,ui:{...n.ui,loading:{...n.ui.loading,operations:{...n.ui.loading.operations,[e.payload.operation]:e.payload.loading}}}}:{...n,ui:{...n.ui,loading:{...n.ui.loading,global:e.payload.loading}}};case"SET_CONTRACTS_TEMPLATES":return{...n,contracts:{...n.contracts,templates:e.payload}};case"ADD_GENERATED_CONTRACT":return{...n,contracts:{...n.contracts,generated:[...n.contracts.generated,e.payload]}};case"TOGGLE_FAVORITE":const s=n.contracts.favorites.includes(e.payload)?n.contracts.favorites.filter(i=>i!==e.payload):[...n.contracts.favorites,e.payload];return{...n,contracts:{...n.contracts,favorites:s}};case"SET_BOND_CONTRACTS":return{...n,bond:{...n.bond,contracts:e.payload}};case"SET_BOND_TEMPLATES":return{...n,bond:{...n.bond,templates:e.payload}};case"SET_CURRENT_BOND_CONTRACT":return{...n,bond:{...n.bond,currentContract:e.payload}};case"ADD_CONSEILLER_HISTORY":return{...n,conseiller:{...n.conseiller,history:[...n.conseiller.history,e.payload]}};case"SET_CURRENT_ANALYSIS":return{...n,conseiller:{...n.conseiller,currentAnalysis:e.payload}};case"RESET_STATE":return fv;default:return n}}const qE=R.createContext(null);function HE({children:n}){const[e,s]=R.useReducer(zE,fv);return h.jsx(qE.Provider,{value:{state:e,dispatch:s},children:n})}const KE=R.createContext(void 0);function GE({children:n}){const[e,s]=R.useState("system"),[i,a]=R.useState("light");return R.useEffect(()=>{const l=localStorage.getItem("symi-theme");l&&["light","dark","system"].includes(l)&&s(l)},[]),R.useEffect(()=>{localStorage.setItem("symi-theme",e)},[e]),R.useEffect(()=>{const l=()=>{if(e==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a(c)}else a(e)};if(l(),e==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)");return c.addEventListener("change",l),()=>c.removeEventListener("change",l)}},[e]),R.useEffect(()=>{const l=document.documentElement;i==="dark"?(l.classList.add("dark"),l.classList.remove("variant-night")):(l.classList.remove("dark"),l.classList.remove("variant-night"))},[i]),h.jsx(KE.Provider,{value:{theme:e,setTheme:s,resolvedTheme:i},children:n})}const JE=R.createContext(void 0);function YE(){const n=R.useContext(JE);if(n===void 0)throw new Error("useUI must be used within a UIProvider");return n}function QE({notification:n,onRemove:e}){const s={success:ma,error:vi,warning:ga,info:Vy},i={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},a=s[n.type];return R.useEffect(()=>{if(n.duration!==0){const l=setTimeout(()=>{e(n.id)},n.duration||5e3);return()=>clearTimeout(l)}},[n.id,n.duration,e]),h.jsx(ie.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden ${i[n.type]}`,children:h.jsx("div",{className:"p-4",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(a,{className:"h-6 w-6","aria-hidden":"true"})}),h.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[h.jsx("p",{className:"text-sm font-medium",children:n.title}),h.jsx("p",{className:"mt-1 text-sm opacity-90",children:n.message}),n.actions&&n.actions.length>0&&h.jsx("div",{className:"mt-3 flex space-x-2",children:n.actions.map((l,c)=>h.jsx("button",{onClick:l.action,className:"text-sm font-medium underline hover:no-underline",children:l.label},c))})]}),h.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:h.jsxs("button",{className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>e(n.id),children:[h.jsx("span",{className:"sr-only",children:"Close"}),h.jsx(id,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})}function XE(){const{ui:n,removeNotification:e}=YE();return h.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-50",children:h.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:h.jsx(Ei,{children:n.notifications.map(s=>h.jsx(QE,{notification:s,onRemove:e},s.id))})})})}class ur{static instance;metrics=new Map;observers=[];static getInstance(){return ur.instance||(ur.instance=new ur),ur.instance}startTiming(e){this.metrics.set(e,performance.now())}endTiming(e){const s=this.metrics.get(e);if(!s)return console.warn(`No start time found for ${e}`),0;const i=performance.now()-s;return this.metrics.delete(e),i>1e3&&console.warn(`Slow operation detected: ${e} took ${i.toFixed(2)}ms`),i}measureAsync(e,s){return this.startTiming(e),s().finally(()=>{this.endTiming(e)})}measureSync(e,s){this.startTiming(e);const i=s();return this.endTiming(e),i}startWebVitalsMonitoring(){if(!(typeof window>"u")){try{const e=new PerformanceObserver(s=>{const i=s.getEntries(),a=i[i.length-1];console.log("LCP:",a.startTime)});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e)}catch{console.warn("LCP monitoring not supported")}try{const e=new PerformanceObserver(s=>{s.getEntries().forEach(a=>{console.log("FID:",a.processingStart-a.startTime)})});e.observe({entryTypes:["first-input"]}),this.observers.push(e)}catch{console.warn("FID monitoring not supported")}try{const e=new PerformanceObserver(s=>{let i=0;s.getEntries().forEach(l=>{l.hadRecentInput||(i+=l.value)}),i>0&&console.log("CLS:",i)});e.observe({entryTypes:["layout-shift"]}),this.observers.push(e)}catch{console.warn("CLS monitoring not supported")}}}cleanup(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}}function ZE(){const n=ur.getInstance(),e=R.useCallback(a=>({start:()=>n.startTiming(`${a}-render`),end:()=>n.endTiming(`${a}-render`)}),[n]),s=R.useCallback((a,l)=>n.measureAsync(a,l),[n]),i=R.useCallback((a,l)=>n.measureSync(a,l),[n]);return{measureRender:e,measureAsync:s,measureSync:i}}function eT(n){const{measureRender:e}=ZE(),s=R.useRef(e(n));R.useEffect(()=>(s.current.start(),()=>{s.current.end()}))}function tT(){if(typeof window>"u")return;const n=ur.getInstance();return n.startWebVitalsMonitoring(),window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];console.log("Page load metrics:",{domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,totalTime:e.loadEventEnd-e.fetchStart})},0)}),n}function nT(){const[n,e]=R.useState("home");eT("App"),R.useEffect(()=>{tT()},[]);const[s,i]=R.useState(["home"]),[a,l]=R.useState(null),[c,d]=R.useState(null),[p,g]=R.useState(null),[y,x]=R.useState("free"),w=(k,E,I)=>{i(L=>[...L,k]),e(k),E&&l(E),I&&d(I),window.scrollTo({top:0,behavior:"smooth"})},_=()=>{if(s.length>1){const k=[...s];k.pop();const E=k[k.length-1];i(k),e(E),window.scrollTo({top:0,behavior:"smooth"})}},T=s.length>1;return Ln.auth.onAuthStateChange(async(k,E)=>{const I=E?.user?.id||null;if(g(E?.user?.email||null),I)try{const{data:L}=await Ln.from("users").select("plan").eq("id",I).maybeSingle();x(L?.plan||"free")}catch{x("free")}else x("free")}),h.jsxs("div",{className:"min-h-screen flex flex-col",children:[h.jsx(eS,{currentView:n,onNavigate:w,canGoBack:T,onBack:_}),h.jsx("main",{className:"flex-1",children:h.jsxs(Ei,{mode:"wait",children:[n==="home"&&h.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"linear"},children:[h.jsx(nS,{}),h.jsx(sS,{onNavigate:k=>{k==="contracts"&&w("contracts"),k==="editor"&&w("editor")},onNavigateConseiller:()=>w("conseiller")}),h.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:h.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},children:[h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-10",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CAPACITÉS SYSTÈME"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[{code:"TPL",title:"50+ Templates",description:"Bibliothèque professionnelle de modèles juridiques"},{code:"JUR",title:"3 Juridictions",description:"France, Royaume-Uni, États-Unis"},{code:"VIT",title:"Génération Rapide",description:"Moins de 5 minutes par contrat"}].map((k,E)=>h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:E*.06,ease:"linear"},className:"border-l border-border pl-4",children:[h.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-accent mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:k.code}),h.jsx("h3",{className:"text-[1.125rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:k.title}),h.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.6,fontFamily:"var(--font-mono)",fontWeight:300},children:k.description})]},k.code))})]})})}),h.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:h.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16",children:[{value:"50+",label:"Templates professionnels",unit:"DOCS"},{value:"3",label:"Juridictions",unit:"FR, UK, US"},{value:"<5",label:"Par contrat",unit:"MIN"}].map((k,E)=>h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:E*.08,ease:"linear"},className:"border-l-2 border-border pl-6",children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("div",{className:"text-[3.5rem] md:text-[4.5rem] tracking-[-0.03em] mb-2",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:k.value}),h.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground block",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:k.unit})]}),h.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:k.label})]},k.label))})})}),h.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:h.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:h.jsxs(ie.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"max-w-4xl",children:[h.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-2"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-[2rem] md:text-[3rem] mb-3 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Système prêt."}),h.jsxs("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:["50+ templates professionnels • 3 juridictions • Génération ","<5"," min"]})]})]}),h.jsx("p",{className:"text-[0.9375rem] mb-10",style:{lineHeight:1.7},children:"Automatisation juridique de précision pour pratique professionnelle. Démarrez la synthèse documentaire ou consultez un expert."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("button",{onClick:()=>w("login"),className:"px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["S'inscrire pour accéder",h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:h.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),h.jsx("button",{onClick:()=>w("conseiller"),className:"px-12 py-5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Conseiller juridique"})]})]})})})]},"home"),n==="contracts"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(rk,{onBack:_,onSelectTemplate:(k,E)=>w("editor",k,E),plan:y})},"contracts"),n==="editor"&&a&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(PE,{templateId:a,jurisdiction:c||void 0,onBack:_})},"editor"),n==="conseiller"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(LE,{onBack:_})},"conseiller"),n==="pricing"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(ME,{onNavigate:w})},"pricing"),n==="login"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(FE,{onNavigate:w})},"login"),n==="docs"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx($E,{})},"docs"),n==="bond-create"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(VE,{onNavigate:w})},"bond-create"),n==="bond"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(BondSimpleView,{onNavigate:w})},"bond"),n==="contact"&&h.jsx(ie.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:h.jsx(UE,{})},"contact")]})}),n==="home"&&h.jsx(tS,{}),h.jsx(ek,{}),h.jsx(BE,{}),h.jsx(WE,{}),h.jsx(XE,{})]})}function rT(){return h.jsx(cd,{children:h.jsx(GE,{children:h.jsx(HE,{children:h.jsx(nT,{})})})})}xx.createRoot(document.getElementById("root")).render(h.jsx(rT,{}));
