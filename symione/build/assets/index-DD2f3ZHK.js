(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function dg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function mx(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),s}var pc={exports:{}},ri={},gc={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function px(){if(lm)return he;lm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function N(T,W,de){this.props=T,this.context=W,this.refs=k,this.updater=de||_}N.prototype.isReactComponent={},N.prototype.setState=function(T,W){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,W,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function I(){}I.prototype=N.prototype;function O(T,W,de){this.props=T,this.context=W,this.refs=k,this.updater=de||_}var A=O.prototype=new I;A.constructor=O,E(A,N.prototype),A.isPureReactComponent=!0;var D=Array.isArray,$=Object.prototype.hasOwnProperty,M={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function J(T,W,de){var fe,ge={},ye=null,_e=null;if(W!=null)for(fe in W.ref!==void 0&&(_e=W.ref),W.key!==void 0&&(ye=""+W.key),W)$.call(W,fe)&&!q.hasOwnProperty(fe)&&(ge[fe]=W[fe]);var xe=arguments.length-2;if(xe===1)ge.children=de;else if(1<xe){for(var Te=Array(xe),xt=0;xt<xe;xt++)Te[xt]=arguments[xt+2];ge.children=Te}if(T&&T.defaultProps)for(fe in xe=T.defaultProps,xe)ge[fe]===void 0&&(ge[fe]=xe[fe]);return{$$typeof:n,type:T,key:ye,ref:_e,props:ge,_owner:M.current}}function se(T,W){return{$$typeof:n,type:T.type,key:W,ref:T.ref,props:T.props,_owner:T._owner}}function pe(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Me(T){var W={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(de){return W[de]})}var Je=/\/+/g;function Ie(T,W){return typeof T=="object"&&T!==null&&T.key!=null?Me(""+T.key):W.toString(36)}function F(T,W,de,fe,ge){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var _e=!1;if(T===null)_e=!0;else switch(ye){case"string":case"number":_e=!0;break;case"object":switch(T.$$typeof){case n:case e:_e=!0}}if(_e)return _e=T,ge=ge(_e),T=fe===""?"."+Ie(_e,0):fe,D(ge)?(de="",T!=null&&(de=T.replace(Je,"$&/")+"/"),F(ge,W,de,"",function(xt){return xt})):ge!=null&&(pe(ge)&&(ge=se(ge,de+(!ge.key||_e&&_e.key===ge.key?"":(""+ge.key).replace(Je,"$&/")+"/")+T)),W.push(ge)),1;if(_e=0,fe=fe===""?".":fe+":",D(T))for(var xe=0;xe<T.length;xe++){ye=T[xe];var Te=fe+Ie(ye,xe);_e+=F(ye,W,de,Te,ge)}else if(Te=w(T),typeof Te=="function")for(T=Te.call(T),xe=0;!(ye=T.next()).done;)ye=ye.value,Te=fe+Ie(ye,xe++),_e+=F(ye,W,de,Te,ge);else if(ye==="object")throw W=String(T),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return _e}function ne(T,W,de){if(T==null)return T;var fe=[],ge=0;return F(T,fe,"","",function(ye){return W.call(de,ye,ge++)}),fe}function Se(T){if(T._status===-1){var W=T._result;W=W(),W.then(function(de){(T._status===0||T._status===-1)&&(T._status=1,T._result=de)},function(de){(T._status===0||T._status===-1)&&(T._status=2,T._result=de)}),T._status===-1&&(T._status=0,T._result=W)}if(T._status===1)return T._result.default;throw T._result}var K={current:null},V={transition:null},Y={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:V,ReactCurrentOwner:M};function G(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ne,forEach:function(T,W,de){ne(T,function(){W.apply(this,arguments)},de)},count:function(T){var W=0;return ne(T,function(){W++}),W},toArray:function(T){return ne(T,function(W){return W})||[]},only:function(T){if(!pe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},he.Component=N,he.Fragment=s,he.Profiler=a,he.PureComponent=O,he.StrictMode=i,he.Suspense=m,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,he.act=G,he.cloneElement=function(T,W,de){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var fe=E({},T.props),ge=T.key,ye=T.ref,_e=T._owner;if(W!=null){if(W.ref!==void 0&&(ye=W.ref,_e=M.current),W.key!==void 0&&(ge=""+W.key),T.type&&T.type.defaultProps)var xe=T.type.defaultProps;for(Te in W)$.call(W,Te)&&!q.hasOwnProperty(Te)&&(fe[Te]=W[Te]===void 0&&xe!==void 0?xe[Te]:W[Te])}var Te=arguments.length-2;if(Te===1)fe.children=de;else if(1<Te){xe=Array(Te);for(var xt=0;xt<Te;xt++)xe[xt]=arguments[xt+2];fe.children=xe}return{$$typeof:n,type:T.type,key:ge,ref:ye,props:fe,_owner:_e}},he.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},he.createElement=J,he.createFactory=function(T){var W=J.bind(null,T);return W.type=T,W},he.createRef=function(){return{current:null}},he.forwardRef=function(T){return{$$typeof:h,render:T}},he.isValidElement=pe,he.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:Se}},he.memo=function(T,W){return{$$typeof:g,type:T,compare:W===void 0?null:W}},he.startTransition=function(T){var W=V.transition;V.transition={};try{T()}finally{V.transition=W}},he.unstable_act=G,he.useCallback=function(T,W){return K.current.useCallback(T,W)},he.useContext=function(T){return K.current.useContext(T)},he.useDebugValue=function(){},he.useDeferredValue=function(T){return K.current.useDeferredValue(T)},he.useEffect=function(T,W){return K.current.useEffect(T,W)},he.useId=function(){return K.current.useId()},he.useImperativeHandle=function(T,W,de){return K.current.useImperativeHandle(T,W,de)},he.useInsertionEffect=function(T,W){return K.current.useInsertionEffect(T,W)},he.useLayoutEffect=function(T,W){return K.current.useLayoutEffect(T,W)},he.useMemo=function(T,W){return K.current.useMemo(T,W)},he.useReducer=function(T,W,de){return K.current.useReducer(T,W,de)},he.useRef=function(T){return K.current.useRef(T)},he.useState=function(T){return K.current.useState(T)},he.useSyncExternalStore=function(T,W,de){return K.current.useSyncExternalStore(T,W,de)},he.useTransition=function(){return K.current.useTransition()},he.version="18.3.1",he}var cm;function Su(){return cm||(cm=1,gc.exports=px()),gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function gx(){if(um)return ri;um=1;var n=Su(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,g){var y,v={},w=null,_=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(_=m.ref);for(y in m)i.call(m,y)&&!l.hasOwnProperty(y)&&(v[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)v[y]===void 0&&(v[y]=m[y]);return{$$typeof:e,type:h,key:w,ref:_,props:v,_owner:a.current}}return ri.Fragment=s,ri.jsx=u,ri.jsxs=u,ri}var dm;function yx(){return dm||(dm=1,pc.exports=gx()),pc.exports}var d=yx(),Wo={},yc={exports:{}},gt={},vc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function vx(){return hm||(hm=1,(function(n){function e(V,Y){var G=V.length;V.push(Y);e:for(;0<G;){var T=G-1>>>1,W=V[T];if(0<a(W,Y))V[T]=Y,V[G]=W,G=T;else break e}}function s(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Y=V[0],G=V.pop();if(G!==Y){V[0]=G;e:for(var T=0,W=V.length,de=W>>>1;T<de;){var fe=2*(T+1)-1,ge=V[fe],ye=fe+1,_e=V[ye];if(0>a(ge,G))ye<W&&0>a(_e,ge)?(V[T]=_e,V[ye]=G,T=ye):(V[T]=ge,V[fe]=G,T=fe);else if(ye<W&&0>a(_e,G))V[T]=_e,V[ye]=G,T=ye;else break e}}return Y}function a(V,Y){var G=V.sortIndex-Y.sortIndex;return G!==0?G:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],g=[],y=1,v=null,w=3,_=!1,E=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=V)i(g),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=s(g)}}function D(V){if(k=!1,A(V),!E)if(s(m)!==null)E=!0,Se($);else{var Y=s(g);Y!==null&&K(D,Y.startTime-V)}}function $(V,Y){E=!1,k&&(k=!1,I(J),J=-1),_=!0;var G=w;try{for(A(Y),v=s(m);v!==null&&(!(v.expirationTime>Y)||V&&!Me());){var T=v.callback;if(typeof T=="function"){v.callback=null,w=v.priorityLevel;var W=T(v.expirationTime<=Y);Y=n.unstable_now(),typeof W=="function"?v.callback=W:v===s(m)&&i(m),A(Y)}else i(m);v=s(m)}if(v!==null)var de=!0;else{var fe=s(g);fe!==null&&K(D,fe.startTime-Y),de=!1}return de}finally{v=null,w=G,_=!1}}var M=!1,q=null,J=-1,se=5,pe=-1;function Me(){return!(n.unstable_now()-pe<se)}function Je(){if(q!==null){var V=n.unstable_now();pe=V;var Y=!0;try{Y=q(!0,V)}finally{Y?Ie():(M=!1,q=null)}}else M=!1}var Ie;if(typeof O=="function")Ie=function(){O(Je)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ne=F.port2;F.port1.onmessage=Je,Ie=function(){ne.postMessage(null)}}else Ie=function(){N(Je,0)};function Se(V){q=V,M||(M=!0,Ie())}function K(V,Y){J=N(function(){V(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){E||_||(E=!0,Se($))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(V){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var G=w;w=Y;try{return V()}finally{w=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=w;w=V;try{return Y()}finally{w=G}},n.unstable_scheduleCallback=function(V,Y,G){var T=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,V={id:y++,callback:Y,priorityLevel:V,startTime:G,expirationTime:W,sortIndex:-1},G>T?(V.sortIndex=G,e(g,V),s(m)===null&&V===s(g)&&(k?(I(J),J=-1):k=!0,K(D,G-T))):(V.sortIndex=W,e(m,V),E||_||(E=!0,Se($))),V},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function(V){var Y=w;return function(){var G=w;w=Y;try{return V.apply(this,arguments)}finally{w=G}}}})(xc)),xc}var fm;function xx(){return fm||(fm=1,vc.exports=vx()),vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function wx(){if(mm)return gt;mm=1;var n=Su(),e=xx();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(t){return m.call(v,t)?!0:m.call(y,t)?!1:g.test(t)?v[t]=!0:(y[t]=!0,!1)}function _(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,o,c){if(r===null||typeof r>"u"||_(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(t,r,o,c,f,p,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=x}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){N[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];N[r]=new k(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){N[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){N[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){N[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){N[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){N[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){N[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){N[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function O(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(I,O);N[r]=new k(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(I,O);N[r]=new k(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(I,O);N[r]=new k(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){N[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){N[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function A(t,r,o,c){var f=N.hasOwnProperty(r)?N[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,o,f,c)&&(o=null),c||f===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),V=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,T;function W(t){if(T===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);T=r&&r[1]||""}return`
`+T+t}var de=!1;function fe(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var c=L}Reflect.construct(t,[],r)}else{try{r.call()}catch(L){c=L}t.call(r.prototype)}else{try{throw Error()}catch(L){c=L}t()}}catch(L){if(L&&c&&typeof L.stack=="string"){for(var f=L.stack.split(`
`),p=c.stack.split(`
`),x=f.length-1,b=p.length-1;1<=x&&0<=b&&f[x]!==p[b];)b--;for(;1<=x&&0<=b;x--,b--)if(f[x]!==p[b]){if(x!==1||b!==1)do if(x--,b--,0>b||f[x]!==p[b]){var j=`
`+f[x].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=x&&0<=b);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?W(t):""}function ge(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case M:return"Portal";case se:return"Profiler";case J:return"StrictMode";case Ie:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Me:return(t.displayName||"Context")+".Consumer";case pe:return(t._context.displayName||"Context")+".Provider";case Je:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case Se:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}function _e(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Te(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xt(t){var r=Te(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,p.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ai(t){t._valueTracker||(t._valueTracker=xt(t))}function fd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Te(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _a(t,r){var o=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function md(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function pd(t,r){r=r.checked,r!=null&&A(t,"checked",r,!1)}function ja(t,r){pd(t,r);var o=xe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ka(t,r.type,o):r.hasOwnProperty("defaultValue")&&ka(t,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function gd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ka(t,r,o){(r!=="number"||Ri(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var vs=Array.isArray;function fr(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+xe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Sa(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(s(92));if(vs(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:xe(o)}}function vd(t,r){var o=xe(r.value),c=xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function xd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function wd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?wd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oi,bd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Oi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function xs(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(t){v0.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ws[r]=ws[t]})});function _d(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ws.hasOwnProperty(t)&&ws[t]?(""+r).trim():r+"px"}function jd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=_d(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var x0=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(t,r){if(r){if(x0[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Ta(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Aa=null,mr=null,pr=null;function kd(t){if(t=Ws(t)){if(typeof Aa!="function")throw Error(s(280));var r=t.stateNode;r&&(r=no(r),Aa(t.stateNode,t.type,r))}}function Sd(t){mr?pr?pr.push(t):pr=[t]:mr=t}function Nd(){if(mr){var t=mr,r=pr;if(pr=mr=null,kd(t),r)for(t=0;t<r.length;t++)kd(r[t])}}function Ed(t,r){return t(r)}function Td(){}var Ra=!1;function Cd(t,r,o){if(Ra)return t(r,o);Ra=!0;try{return Ed(t,r,o)}finally{Ra=!1,(mr!==null||pr!==null)&&(Td(),Nd())}}function bs(t,r){var o=t.stateNode;if(o===null)return null;var c=no(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Oa=!1;if(h)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Oa=!1}function w0(t,r,o,c,f,p,x,b,j){var L=Array.prototype.slice.call(arguments,3);try{r.apply(o,L)}catch(B){this.onError(B)}}var js=!1,Ii=null,Li=!1,Ia=null,b0={onError:function(t){js=!0,Ii=t}};function _0(t,r,o,c,f,p,x,b,j){js=!1,Ii=null,w0.apply(b0,arguments)}function j0(t,r,o,c,f,p,x,b,j){if(_0.apply(this,arguments),js){if(js){var L=Ii;js=!1,Ii=null}else throw Error(s(198));Li||(Li=!0,Ia=L)}}function Un(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Pd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ad(t){if(Un(t)!==t)throw Error(s(188))}function k0(t){var r=t.alternate;if(!r){if(r=Un(t),r===null)throw Error(s(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Ad(f),t;if(p===c)return Ad(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var x=!1,b=f.child;b;){if(b===o){x=!0,o=f,c=p;break}if(b===c){x=!0,c=f,o=p;break}b=b.sibling}if(!x){for(b=p.child;b;){if(b===o){x=!0,o=p,c=f;break}if(b===c){x=!0,c=p,o=f;break}b=b.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:r}function Rd(t){return t=k0(t),t!==null?Od(t):null}function Od(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Od(t);if(r!==null)return r;t=t.sibling}return null}var Id=e.unstable_scheduleCallback,Ld=e.unstable_cancelCallback,S0=e.unstable_shouldYield,N0=e.unstable_requestPaint,Fe=e.unstable_now,E0=e.unstable_getCurrentPriorityLevel,La=e.unstable_ImmediatePriority,Dd=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,T0=e.unstable_LowPriority,Md=e.unstable_IdlePriority,Mi=null,Ht=null;function C0(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Mi,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:R0,P0=Math.log,A0=Math.LN2;function R0(t){return t>>>=0,t===0?32:31-(P0(t)/A0|0)|0}var Fi=64,$i=4194304;function ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ui(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes,x=o&268435455;if(x!==0){var b=x&~f;b!==0?c=ks(b):(p&=x,p!==0&&(c=ks(p)))}else x=o&~f,x!==0?c=ks(x):p!==0&&(c=ks(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-Dt(r),f=1<<o,c|=t[o],r&=~f;return c}function O0(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var x=31-Dt(p),b=1<<x,j=f[x];j===-1?((b&o)===0||(b&c)!==0)&&(f[x]=O0(b,r)):j<=r&&(t.expiredLanes|=b),p&=~b}}function Da(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fd(){var t=Fi;return Fi<<=1,(Fi&4194240)===0&&(Fi=64),t}function Ma(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ss(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Dt(r),t[r]=o}function L0(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Dt(o),p=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~p}}function Fa(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-Dt(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var we=0;function $d(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ud,$a,Vd,Wd,Bd,Ua=!1,Vi=[],hn=null,fn=null,mn=null,Ns=new Map,Es=new Map,pn=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(t,r){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Ns.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(r.pointerId)}}function Ts(t,r,o,c,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Ws(r),r!==null&&$a(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function M0(t,r,o,c,f){switch(r){case"focusin":return hn=Ts(hn,t,r,o,c,f),!0;case"dragenter":return fn=Ts(fn,t,r,o,c,f),!0;case"mouseover":return mn=Ts(mn,t,r,o,c,f),!0;case"pointerover":var p=f.pointerId;return Ns.set(p,Ts(Ns.get(p)||null,t,r,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Es.set(p,Ts(Es.get(p)||null,t,r,o,c,f)),!0}return!1}function qd(t){var r=Vn(t.target);if(r!==null){var o=Un(r);if(o!==null){if(r=o.tag,r===13){if(r=Pd(o),r!==null){t.blockedOn=r,Bd(t.priority,function(){Vd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wi(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Wa(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Ca=c,o.target.dispatchEvent(c),Ca=null}else return r=Ws(o),r!==null&&$a(r),t.blockedOn=o,!1;r.shift()}return!0}function Hd(t,r,o){Wi(t)&&o.delete(r)}function F0(){Ua=!1,hn!==null&&Wi(hn)&&(hn=null),fn!==null&&Wi(fn)&&(fn=null),mn!==null&&Wi(mn)&&(mn=null),Ns.forEach(Hd),Es.forEach(Hd)}function Cs(t,r){t.blockedOn===r&&(t.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F0)))}function Ps(t){function r(f){return Cs(f,t)}if(0<Vi.length){Cs(Vi[0],t);for(var o=1;o<Vi.length;o++){var c=Vi[o];c.blockedOn===t&&(c.blockedOn=null)}}for(hn!==null&&Cs(hn,t),fn!==null&&Cs(fn,t),mn!==null&&Cs(mn,t),Ns.forEach(r),Es.forEach(r),o=0;o<pn.length;o++)c=pn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<pn.length&&(o=pn[0],o.blockedOn===null);)qd(o),o.blockedOn===null&&pn.shift()}var gr=D.ReactCurrentBatchConfig,Bi=!0;function $0(t,r,o,c){var f=we,p=gr.transition;gr.transition=null;try{we=1,Va(t,r,o,c)}finally{we=f,gr.transition=p}}function U0(t,r,o,c){var f=we,p=gr.transition;gr.transition=null;try{we=4,Va(t,r,o,c)}finally{we=f,gr.transition=p}}function Va(t,r,o,c){if(Bi){var f=Wa(t,r,o,c);if(f===null)il(t,r,c,zi,o),zd(t,c);else if(M0(f,t,r,o,c))c.stopPropagation();else if(zd(t,c),r&4&&-1<D0.indexOf(t)){for(;f!==null;){var p=Ws(f);if(p!==null&&Ud(p),p=Wa(t,r,o,c),p===null&&il(t,r,c,zi,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else il(t,r,c,null,o)}}var zi=null;function Wa(t,r,o,c){if(zi=null,t=Pa(c),t=Vn(t),t!==null)if(r=Un(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Pd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return zi=t,null}function Kd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E0()){case La:return 1;case Dd:return 4;case Di:case T0:return 16;case Md:return 536870912;default:return 16}default:return 16}}var gn=null,Ba=null,qi=null;function Gd(){if(qi)return qi;var t,r=Ba,o=r.length,c,f="value"in gn?gn.value:gn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var x=o-t;for(c=1;c<=x&&r[o-c]===f[p-c];c++);return qi=f.slice(t,1<c?1-c:void 0)}function Hi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Jd(){return!1}function wt(t){function r(o,c,f,p,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(o=t[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ki:Jd,this.isPropagationStopped=Jd,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=wt(yr),As=G({},yr,{view:0,detail:0}),V0=wt(As),qa,Ha,Rs,Gi=G({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(qa=t.screenX-Rs.screenX,Ha=t.screenY-Rs.screenY):Ha=qa=0,Rs=t),qa)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Yd=wt(Gi),W0=G({},Gi,{dataTransfer:0}),B0=wt(W0),z0=G({},As,{relatedTarget:0}),Ka=wt(z0),q0=G({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=wt(q0),K0=G({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G0=wt(K0),J0=G({},yr,{data:0}),Qd=wt(J0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=X0[t])?!!r[t]:!1}function Ga(){return Z0}var ev=G({},As,{key:function(t){if(t.key){var r=Y0[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?Hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tv=wt(ev),nv=G({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=wt(nv),rv=G({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),sv=wt(rv),iv=G({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ov=wt(iv),av=G({},Gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=wt(av),cv=[9,13,27,32],Ja=h&&"CompositionEvent"in window,Os=null;h&&"documentMode"in document&&(Os=document.documentMode);var uv=h&&"TextEvent"in window&&!Os,Zd=h&&(!Ja||Os&&8<Os&&11>=Os),eh=" ",th=!1;function nh(t,r){switch(t){case"keyup":return cv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function dv(t,r){switch(t){case"compositionend":return rh(r);case"keypress":return r.which!==32?null:(th=!0,eh);case"textInput":return t=r.data,t===eh&&th?null:t;default:return null}}function hv(t,r){if(vr)return t==="compositionend"||!Ja&&nh(t,r)?(t=Gd(),qi=Ba=gn=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Zd&&r.locale!=="ko"?null:r.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fv[t.type]:r==="textarea"}function ih(t,r,o,c){Sd(c),r=Zi(r,"onChange"),0<r.length&&(o=new za("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Is=null,Ls=null;function mv(t){jh(t,0)}function Ji(t){var r=jr(t);if(fd(r))return t}function pv(t,r){if(t==="change")return r}var oh=!1;if(h){var Ya;if(h){var Qa="oninput"in document;if(!Qa){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),Qa=typeof ah.oninput=="function"}Ya=Qa}else Ya=!1;oh=Ya&&(!document.documentMode||9<document.documentMode)}function lh(){Is&&(Is.detachEvent("onpropertychange",ch),Ls=Is=null)}function ch(t){if(t.propertyName==="value"&&Ji(Ls)){var r=[];ih(r,Ls,t,Pa(t)),Cd(mv,r)}}function gv(t,r,o){t==="focusin"?(lh(),Is=r,Ls=o,Is.attachEvent("onpropertychange",ch)):t==="focusout"&&lh()}function yv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ji(Ls)}function vv(t,r){if(t==="click")return Ji(r)}function xv(t,r){if(t==="input"||t==="change")return Ji(r)}function wv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Mt=typeof Object.is=="function"?Object.is:wv;function Ds(t,r){if(Mt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!m.call(r,f)||!Mt(t[f],r[f]))return!1}return!0}function uh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dh(t,r){var o=uh(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uh(o)}}function hh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?hh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function fh(){for(var t=window,r=Ri();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ri(t.document)}return r}function Xa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function bv(t){var r=fh(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&hh(o.ownerDocument.documentElement,o)){if(c!==null&&Xa(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!t.extend&&p>c&&(f=c,c=p,p=f),f=dh(o,p);var x=dh(o,c);f&&x&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _v=h&&"documentMode"in document&&11>=document.documentMode,xr=null,Za=null,Ms=null,el=!1;function mh(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;el||xr==null||xr!==Ri(c)||(c=xr,"selectionStart"in c&&Xa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ms&&Ds(Ms,c)||(Ms=c,c=Zi(Za,"onSelect"),0<c.length&&(r=new za("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=xr)))}function Yi(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var wr={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},tl={},ph={};h&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Qi(t){if(tl[t])return tl[t];if(!wr[t])return t;var r=wr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ph)return tl[t]=r[o];return t}var gh=Qi("animationend"),yh=Qi("animationiteration"),vh=Qi("animationstart"),xh=Qi("transitionend"),wh=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(t,r){wh.set(t,r),l(r,[t])}for(var nl=0;nl<bh.length;nl++){var rl=bh[nl],jv=rl.toLowerCase(),kv=rl[0].toUpperCase()+rl.slice(1);yn(jv,"on"+kv)}yn(gh,"onAnimationEnd"),yn(yh,"onAnimationIteration"),yn(vh,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(xh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function _h(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,j0(c,r,void 0,t),t.currentTarget=null}function jh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var x=c.length-1;0<=x;x--){var b=c[x],j=b.instance,L=b.currentTarget;if(b=b.listener,j!==p&&f.isPropagationStopped())break e;_h(f,b,L),p=j}else for(x=0;x<c.length;x++){if(b=c[x],j=b.instance,L=b.currentTarget,b=b.listener,j!==p&&f.isPropagationStopped())break e;_h(f,b,L),p=j}}}if(Li)throw t=Ia,Li=!1,Ia=null,t}function Ne(t,r){var o=r[dl];o===void 0&&(o=r[dl]=new Set);var c=t+"__bubble";o.has(c)||(kh(r,t,2,!1),o.add(c))}function sl(t,r,o){var c=0;r&&(c|=4),kh(o,t,c,r)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function $s(t){if(!t[Xi]){t[Xi]=!0,i.forEach(function(o){o!=="selectionchange"&&(Sv.has(o)||sl(o,!1,t),sl(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xi]||(r[Xi]=!0,sl("selectionchange",!1,r))}}function kh(t,r,o,c){switch(Kd(r)){case 1:var f=$0;break;case 4:f=U0;break;default:f=Va}o=f.bind(null,r,o,t),f=void 0,!Oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function il(t,r,o,c,f){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var b=c.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;x=x.return}for(;b!==null;){if(x=Vn(b),x===null)return;if(j=x.tag,j===5||j===6){c=p=x;continue e}b=b.parentNode}}c=c.return}Cd(function(){var L=p,B=Pa(o),z=[];e:{var U=wh.get(t);if(U!==void 0){var Q=za,ee=t;switch(t){case"keypress":if(Hi(o)===0)break e;case"keydown":case"keyup":Q=tv;break;case"focusin":ee="focus",Q=Ka;break;case"focusout":ee="blur",Q=Ka;break;case"beforeblur":case"afterblur":Q=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=sv;break;case gh:case yh:case vh:Q=H0;break;case xh:Q=ov;break;case"scroll":Q=V0;break;case"wheel":Q=lv;break;case"copy":case"cut":case"paste":Q=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xd}var te=(r&4)!==0,$e=!te&&t==="scroll",P=te?U!==null?U+"Capture":null:U;te=[];for(var S=L,R;S!==null;){R=S;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,P!==null&&(H=bs(S,P),H!=null&&te.push(Us(S,H,R)))),$e)break;S=S.return}0<te.length&&(U=new Q(U,ee,null,o,B),z.push({event:U,listeners:te}))}}if((r&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",U&&o!==Ca&&(ee=o.relatedTarget||o.fromElement)&&(Vn(ee)||ee[en]))break e;if((Q||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(ee=o.relatedTarget||o.toElement,Q=L,ee=ee?Vn(ee):null,ee!==null&&($e=Un(ee),ee!==$e||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=L),Q!==ee)){if(te=Yd,H="onMouseLeave",P="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(te=Xd,H="onPointerLeave",P="onPointerEnter",S="pointer"),$e=Q==null?U:jr(Q),R=ee==null?U:jr(ee),U=new te(H,S+"leave",Q,o,B),U.target=$e,U.relatedTarget=R,H=null,Vn(B)===L&&(te=new te(P,S+"enter",ee,o,B),te.target=R,te.relatedTarget=$e,H=te),$e=H,Q&&ee)t:{for(te=Q,P=ee,S=0,R=te;R;R=br(R))S++;for(R=0,H=P;H;H=br(H))R++;for(;0<S-R;)te=br(te),S--;for(;0<R-S;)P=br(P),R--;for(;S--;){if(te===P||P!==null&&te===P.alternate)break t;te=br(te),P=br(P)}te=null}else te=null;Q!==null&&Sh(z,U,Q,te,!1),ee!==null&&$e!==null&&Sh(z,$e,ee,te,!0)}}e:{if(U=L?jr(L):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var re=pv;else if(sh(U))if(oh)re=xv;else{re=yv;var ie=gv}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(re=vv);if(re&&(re=re(t,L))){ih(z,re,o,B);break e}ie&&ie(t,U,L),t==="focusout"&&(ie=U._wrapperState)&&ie.controlled&&U.type==="number"&&ka(U,"number",U.value)}switch(ie=L?jr(L):window,t){case"focusin":(sh(ie)||ie.contentEditable==="true")&&(xr=ie,Za=L,Ms=null);break;case"focusout":Ms=Za=xr=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,mh(z,o,B);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":mh(z,o,B)}var oe;if(Ja)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else vr?nh(t,o)&&(ce="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ce="onCompositionStart");ce&&(Zd&&o.locale!=="ko"&&(vr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&vr&&(oe=Gd()):(gn=B,Ba="value"in gn?gn.value:gn.textContent,vr=!0)),ie=Zi(L,ce),0<ie.length&&(ce=new Qd(ce,t,null,o,B),z.push({event:ce,listeners:ie}),oe?ce.data=oe:(oe=rh(o),oe!==null&&(ce.data=oe)))),(oe=uv?dv(t,o):hv(t,o))&&(L=Zi(L,"onBeforeInput"),0<L.length&&(B=new Qd("onBeforeInput","beforeinput",null,o,B),z.push({event:B,listeners:L}),B.data=oe))}jh(z,r)})}function Us(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Zi(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=bs(t,o),p!=null&&c.unshift(Us(t,p,f)),p=bs(t,r),p!=null&&c.push(Us(t,p,f))),t=t.return}return c}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sh(t,r,o,c,f){for(var p=r._reactName,x=[];o!==null&&o!==c;){var b=o,j=b.alternate,L=b.stateNode;if(j!==null&&j===c)break;b.tag===5&&L!==null&&(b=L,f?(j=bs(o,p),j!=null&&x.unshift(Us(o,j,b))):f||(j=bs(o,p),j!=null&&x.push(Us(o,j,b)))),o=o.return}x.length!==0&&t.push({event:r,listeners:x})}var Nv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Nh(t){return(typeof t=="string"?t:""+t).replace(Nv,`
`).replace(Ev,"")}function eo(t,r,o){if(r=Nh(r),Nh(t)!==r&&o)throw Error(s(425))}function to(){}var ol=null,al=null;function ll(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cl=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(Pv)}:cl;function Pv(t){setTimeout(function(){throw t})}function ul(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),Ps(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Ps(r)}function vn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Th(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Kt="__reactFiber$"+_r,Vs="__reactProps$"+_r,en="__reactContainer$"+_r,dl="__reactEvents$"+_r,Av="__reactListeners$"+_r,Rv="__reactHandles$"+_r;function Vn(t){var r=t[Kt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[en]||o[Kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Th(t);t!==null;){if(o=t[Kt])return o;t=Th(t)}return r}t=o,o=t.parentNode}return null}function Ws(t){return t=t[Kt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function no(t){return t[Vs]||null}var hl=[],kr=-1;function xn(t){return{current:t}}function Ee(t){0>kr||(t.current=hl[kr],hl[kr]=null,kr--)}function je(t,r){kr++,hl[kr]=t.current,t.current=r}var wn={},rt=xn(wn),dt=xn(!1),Wn=wn;function Sr(t,r){var o=t.type.contextTypes;if(!o)return wn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function ht(t){return t=t.childContextTypes,t!=null}function ro(){Ee(dt),Ee(rt)}function Ch(t,r,o){if(rt.current!==wn)throw Error(s(168));je(rt,r),je(dt,o)}function Ph(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(s(108,_e(t)||"Unknown",f));return G({},o,c)}function so(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Wn=rt.current,je(rt,t),je(dt,dt.current),!0}function Ah(t,r,o){var c=t.stateNode;if(!c)throw Error(s(169));o?(t=Ph(t,r,Wn),c.__reactInternalMemoizedMergedChildContext=t,Ee(dt),Ee(rt),je(rt,t)):Ee(dt),je(dt,o)}var tn=null,io=!1,fl=!1;function Rh(t){tn===null?tn=[t]:tn.push(t)}function Ov(t){io=!0,Rh(t)}function bn(){if(!fl&&tn!==null){fl=!0;var t=0,r=we;try{var o=tn;for(we=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}tn=null,io=!1}catch(f){throw tn!==null&&(tn=tn.slice(t+1)),Id(La,bn),f}finally{we=r,fl=!1}}return null}var Nr=[],Er=0,oo=null,ao=0,St=[],Nt=0,Bn=null,nn=1,rn="";function zn(t,r){Nr[Er++]=ao,Nr[Er++]=oo,oo=t,ao=r}function Oh(t,r,o){St[Nt++]=nn,St[Nt++]=rn,St[Nt++]=Bn,Bn=t;var c=nn;t=rn;var f=32-Dt(c)-1;c&=~(1<<f),o+=1;var p=32-Dt(r)+f;if(30<p){var x=f-f%5;p=(c&(1<<x)-1).toString(32),c>>=x,f-=x,nn=1<<32-Dt(r)+f|o<<f|c,rn=p+t}else nn=1<<p|o<<f|c,rn=t}function ml(t){t.return!==null&&(zn(t,1),Oh(t,1,0))}function pl(t){for(;t===oo;)oo=Nr[--Er],Nr[Er]=null,ao=Nr[--Er],Nr[Er]=null;for(;t===Bn;)Bn=St[--Nt],St[Nt]=null,rn=St[--Nt],St[Nt]=null,nn=St[--Nt],St[Nt]=null}var bt=null,_t=null,Ce=!1,Ft=null;function Ih(t,r){var o=Pt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Lh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,bt=t,_t=vn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,bt=t,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Bn!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Pt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,bt=t,_t=null,!0):!1;default:return!1}}function gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yl(t){if(Ce){var r=_t;if(r){var o=r;if(!Lh(t,r)){if(gl(t))throw Error(s(418));r=vn(o.nextSibling);var c=bt;r&&Lh(t,r)?Ih(c,o):(t.flags=t.flags&-4097|2,Ce=!1,bt=t)}}else{if(gl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ce=!1,bt=t}}}function Dh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function lo(t){if(t!==bt)return!1;if(!Ce)return Dh(t),Ce=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ll(t.type,t.memoizedProps)),r&&(r=_t)){if(gl(t))throw Mh(),Error(s(418));for(;r;)Ih(t,r),r=vn(r.nextSibling)}if(Dh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){_t=vn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}_t=null}}else _t=bt?vn(t.stateNode.nextSibling):null;return!0}function Mh(){for(var t=_t;t;)t=vn(t.nextSibling)}function Tr(){_t=bt=null,Ce=!1}function vl(t){Ft===null?Ft=[t]:Ft.push(t)}var Iv=D.ReactCurrentBatchConfig;function Bs(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var c=o.stateNode}if(!c)throw Error(s(147,t));var f=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(x){var b=f.refs;x===null?delete b[p]:b[p]=x},r._stringRef=p,r)}if(typeof t!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,t))}return t}function co(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Fh(t){var r=t._init;return r(t._payload)}function $h(t){function r(P,S){if(t){var R=P.deletions;R===null?(P.deletions=[S],P.flags|=16):R.push(S)}}function o(P,S){if(!t)return null;for(;S!==null;)r(P,S),S=S.sibling;return null}function c(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function f(P,S){return P=Cn(P,S),P.index=0,P.sibling=null,P}function p(P,S,R){return P.index=R,t?(R=P.alternate,R!==null?(R=R.index,R<S?(P.flags|=2,S):R):(P.flags|=2,S)):(P.flags|=1048576,S)}function x(P){return t&&P.alternate===null&&(P.flags|=2),P}function b(P,S,R,H){return S===null||S.tag!==6?(S=cc(R,P.mode,H),S.return=P,S):(S=f(S,R),S.return=P,S)}function j(P,S,R,H){var re=R.type;return re===q?B(P,S,R.props.children,H,R.key):S!==null&&(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&Fh(re)===S.type)?(H=f(S,R.props),H.ref=Bs(P,S,R),H.return=P,H):(H=Io(R.type,R.key,R.props,null,P.mode,H),H.ref=Bs(P,S,R),H.return=P,H)}function L(P,S,R,H){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=uc(R,P.mode,H),S.return=P,S):(S=f(S,R.children||[]),S.return=P,S)}function B(P,S,R,H,re){return S===null||S.tag!==7?(S=Xn(R,P.mode,H,re),S.return=P,S):(S=f(S,R),S.return=P,S)}function z(P,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return S=cc(""+S,P.mode,R),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $:return R=Io(S.type,S.key,S.props,null,P.mode,R),R.ref=Bs(P,null,S),R.return=P,R;case M:return S=uc(S,P.mode,R),S.return=P,S;case Se:var H=S._init;return z(P,H(S._payload),R)}if(vs(S)||Y(S))return S=Xn(S,P.mode,R,null),S.return=P,S;co(P,S)}return null}function U(P,S,R,H){var re=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return re!==null?null:b(P,S,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $:return R.key===re?j(P,S,R,H):null;case M:return R.key===re?L(P,S,R,H):null;case Se:return re=R._init,U(P,S,re(R._payload),H)}if(vs(R)||Y(R))return re!==null?null:B(P,S,R,H,null);co(P,R)}return null}function Q(P,S,R,H,re){if(typeof H=="string"&&H!==""||typeof H=="number")return P=P.get(R)||null,b(S,P,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case $:return P=P.get(H.key===null?R:H.key)||null,j(S,P,H,re);case M:return P=P.get(H.key===null?R:H.key)||null,L(S,P,H,re);case Se:var ie=H._init;return Q(P,S,R,ie(H._payload),re)}if(vs(H)||Y(H))return P=P.get(R)||null,B(S,P,H,re,null);co(S,H)}return null}function ee(P,S,R,H){for(var re=null,ie=null,oe=S,ce=S=0,Xe=null;oe!==null&&ce<R.length;ce++){oe.index>ce?(Xe=oe,oe=null):Xe=oe.sibling;var ve=U(P,oe,R[ce],H);if(ve===null){oe===null&&(oe=Xe);break}t&&oe&&ve.alternate===null&&r(P,oe),S=p(ve,S,ce),ie===null?re=ve:ie.sibling=ve,ie=ve,oe=Xe}if(ce===R.length)return o(P,oe),Ce&&zn(P,ce),re;if(oe===null){for(;ce<R.length;ce++)oe=z(P,R[ce],H),oe!==null&&(S=p(oe,S,ce),ie===null?re=oe:ie.sibling=oe,ie=oe);return Ce&&zn(P,ce),re}for(oe=c(P,oe);ce<R.length;ce++)Xe=Q(oe,P,ce,R[ce],H),Xe!==null&&(t&&Xe.alternate!==null&&oe.delete(Xe.key===null?ce:Xe.key),S=p(Xe,S,ce),ie===null?re=Xe:ie.sibling=Xe,ie=Xe);return t&&oe.forEach(function(Pn){return r(P,Pn)}),Ce&&zn(P,ce),re}function te(P,S,R,H){var re=Y(R);if(typeof re!="function")throw Error(s(150));if(R=re.call(R),R==null)throw Error(s(151));for(var ie=re=null,oe=S,ce=S=0,Xe=null,ve=R.next();oe!==null&&!ve.done;ce++,ve=R.next()){oe.index>ce?(Xe=oe,oe=null):Xe=oe.sibling;var Pn=U(P,oe,ve.value,H);if(Pn===null){oe===null&&(oe=Xe);break}t&&oe&&Pn.alternate===null&&r(P,oe),S=p(Pn,S,ce),ie===null?re=Pn:ie.sibling=Pn,ie=Pn,oe=Xe}if(ve.done)return o(P,oe),Ce&&zn(P,ce),re;if(oe===null){for(;!ve.done;ce++,ve=R.next())ve=z(P,ve.value,H),ve!==null&&(S=p(ve,S,ce),ie===null?re=ve:ie.sibling=ve,ie=ve);return Ce&&zn(P,ce),re}for(oe=c(P,oe);!ve.done;ce++,ve=R.next())ve=Q(oe,P,ce,ve.value,H),ve!==null&&(t&&ve.alternate!==null&&oe.delete(ve.key===null?ce:ve.key),S=p(ve,S,ce),ie===null?re=ve:ie.sibling=ve,ie=ve);return t&&oe.forEach(function(fx){return r(P,fx)}),Ce&&zn(P,ce),re}function $e(P,S,R,H){if(typeof R=="object"&&R!==null&&R.type===q&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case $:e:{for(var re=R.key,ie=S;ie!==null;){if(ie.key===re){if(re=R.type,re===q){if(ie.tag===7){o(P,ie.sibling),S=f(ie,R.props.children),S.return=P,P=S;break e}}else if(ie.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&Fh(re)===ie.type){o(P,ie.sibling),S=f(ie,R.props),S.ref=Bs(P,ie,R),S.return=P,P=S;break e}o(P,ie);break}else r(P,ie);ie=ie.sibling}R.type===q?(S=Xn(R.props.children,P.mode,H,R.key),S.return=P,P=S):(H=Io(R.type,R.key,R.props,null,P.mode,H),H.ref=Bs(P,S,R),H.return=P,P=H)}return x(P);case M:e:{for(ie=R.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){o(P,S.sibling),S=f(S,R.children||[]),S.return=P,P=S;break e}else{o(P,S);break}else r(P,S);S=S.sibling}S=uc(R,P.mode,H),S.return=P,P=S}return x(P);case Se:return ie=R._init,$e(P,S,ie(R._payload),H)}if(vs(R))return ee(P,S,R,H);if(Y(R))return te(P,S,R,H);co(P,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,S!==null&&S.tag===6?(o(P,S.sibling),S=f(S,R),S.return=P,P=S):(o(P,S),S=cc(R,P.mode,H),S.return=P,P=S),x(P)):o(P,S)}return $e}var Cr=$h(!0),Uh=$h(!1),uo=xn(null),ho=null,Pr=null,xl=null;function wl(){xl=Pr=ho=null}function bl(t){var r=uo.current;Ee(uo),t._currentValue=r}function _l(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ar(t,r){ho=t,xl=Pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(ft=!0),t.firstContext=null)}function Et(t){var r=t._currentValue;if(xl!==t)if(t={context:t,memoizedValue:r,next:null},Pr===null){if(ho===null)throw Error(s(308));Pr=t,ho.dependencies={lanes:0,firstContext:t}}else Pr=Pr.next=t;return r}var qn=null;function jl(t){qn===null?qn=[t]:qn.push(t)}function Vh(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,jl(r)):(o.next=f.next,f.next=o),r.interleaved=o,sn(t,c)}function sn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var _n=!1;function kl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function jn(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(me&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,sn(t,o)}return f=c.interleaved,f===null?(r.next=r,jl(c)):(r.next=f.next,f.next=r),c.interleaved=r,sn(t,o)}function fo(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Fa(t,o)}}function Bh(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=x:p=p.next=x,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function mo(t,r,o,c){var f=t.updateQueue;_n=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var j=b,L=j.next;j.next=null,x===null?p=L:x.next=L,x=j;var B=t.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==x&&(b===null?B.firstBaseUpdate=L:b.next=L,B.lastBaseUpdate=j))}if(p!==null){var z=f.baseState;x=0,B=L=j=null,b=p;do{var U=b.lane,Q=b.eventTime;if((c&U)===U){B!==null&&(B=B.next={eventTime:Q,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ee=t,te=b;switch(U=r,Q=o,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){z=ee.call(Q,z,U);break e}z=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,U=typeof ee=="function"?ee.call(Q,z,U):ee,U==null)break e;z=G({},z,U);break e;case 2:_n=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,U=f.effects,U===null?f.effects=[b]:U.push(b))}else Q={eventTime:Q,lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(L=B=Q,j=z):B=B.next=Q,x|=U;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;U=b,b=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(B===null&&(j=z),f.baseState=j,f.firstBaseUpdate=L,f.lastBaseUpdate=B,r=f.shared.interleaved,r!==null){f=r;do x|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Gn|=x,t.lanes=x,t.memoizedState=z}}function zh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(s(191,f));f.call(c)}}}var zs={},Gt=xn(zs),qs=xn(zs),Hs=xn(zs);function Hn(t){if(t===zs)throw Error(s(174));return t}function Sl(t,r){switch(je(Hs,r),je(qs,t),je(Gt,zs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Na(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Na(r,t)}Ee(Gt),je(Gt,r)}function Rr(){Ee(Gt),Ee(qs),Ee(Hs)}function qh(t){Hn(Hs.current);var r=Hn(Gt.current),o=Na(r,t.type);r!==o&&(je(qs,t),je(Gt,o))}function Nl(t){qs.current===t&&(Ee(Gt),Ee(qs))}var Ae=xn(0);function po(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var El=[];function Tl(){for(var t=0;t<El.length;t++)El[t]._workInProgressVersionPrimary=null;El.length=0}var go=D.ReactCurrentDispatcher,Cl=D.ReactCurrentBatchConfig,Kn=0,Re=null,He=null,Ye=null,yo=!1,Ks=!1,Gs=0,Lv=0;function st(){throw Error(s(321))}function Pl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Mt(t[o],r[o]))return!1;return!0}function Al(t,r,o,c,f,p){if(Kn=p,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,go.current=t===null||t.memoizedState===null?$v:Uv,t=o(c,f),Ks){p=0;do{if(Ks=!1,Gs=0,25<=p)throw Error(s(301));p+=1,Ye=He=null,r.updateQueue=null,go.current=Vv,t=o(c,f)}while(Ks)}if(go.current=wo,r=He!==null&&He.next!==null,Kn=0,Ye=He=Re=null,yo=!1,r)throw Error(s(300));return t}function Rl(){var t=Gs!==0;return Gs=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Tt(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var r=Ye===null?Re.memoizedState:Ye.next;if(r!==null)Ye=r,He=t;else{if(t===null)throw Error(s(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Js(t,r){return typeof r=="function"?r(t):r}function Ol(t){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var c=He,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var b=x=null,j=null,L=p;do{var B=L.lane;if((Kn&B)===B)j!==null&&(j=j.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),c=L.hasEagerState?L.eagerState:t(c,L.action);else{var z={lane:B,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};j===null?(b=j=z,x=c):j=j.next=z,Re.lanes|=B,Gn|=B}L=L.next}while(L!==null&&L!==p);j===null?x=c:j.next=b,Mt(c,r.memoizedState)||(ft=!0),r.memoizedState=c,r.baseState=x,r.baseQueue=j,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Re.lanes|=p,Gn|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Il(t){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do p=t(p,x.action),x=x.next;while(x!==f);Mt(p,r.memoizedState)||(ft=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Hh(){}function Kh(t,r){var o=Re,c=Tt(),f=r(),p=!Mt(c.memoizedState,f);if(p&&(c.memoizedState=f,ft=!0),c=c.queue,Ll(Yh.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Ys(9,Jh.bind(null,o,c,f,r),void 0,null),Qe===null)throw Error(s(349));(Kn&30)!==0||Gh(o,r,f)}return f}function Gh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Jh(t,r,o,c){r.value=o,r.getSnapshot=c,Qh(r)&&Xh(t)}function Yh(t,r,o){return o(function(){Qh(r)&&Xh(t)})}function Qh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Mt(t,o)}catch{return!0}}function Xh(t){var r=sn(t,1);r!==null&&Wt(r,t,1,-1)}function Zh(t){var r=Jt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},r.queue=t,t=t.dispatch=Fv.bind(null,Re,t),[r.memoizedState,t]}function Ys(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function ef(){return Tt().memoizedState}function vo(t,r,o,c){var f=Jt();Re.flags|=t,f.memoizedState=Ys(1|r,o,void 0,c===void 0?null:c)}function xo(t,r,o,c){var f=Tt();c=c===void 0?null:c;var p=void 0;if(He!==null){var x=He.memoizedState;if(p=x.destroy,c!==null&&Pl(c,x.deps)){f.memoizedState=Ys(r,o,p,c);return}}Re.flags|=t,f.memoizedState=Ys(1|r,o,p,c)}function tf(t,r){return vo(8390656,8,t,r)}function Ll(t,r){return xo(2048,8,t,r)}function nf(t,r){return xo(4,2,t,r)}function rf(t,r){return xo(4,4,t,r)}function sf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function of(t,r,o){return o=o!=null?o.concat([t]):null,xo(4,4,sf.bind(null,r,t),o)}function Dl(){}function af(t,r){var o=Tt();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Pl(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function lf(t,r){var o=Tt();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Pl(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function cf(t,r,o){return(Kn&21)===0?(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=o):(Mt(o,r)||(o=Fd(),Re.lanes|=o,Gn|=o,t.baseState=!0),r)}function Dv(t,r){var o=we;we=o!==0&&4>o?o:4,t(!0);var c=Cl.transition;Cl.transition={};try{t(!1),r()}finally{we=o,Cl.transition=c}}function uf(){return Tt().memoizedState}function Mv(t,r,o){var c=En(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},df(t))hf(r,o);else if(o=Vh(t,r,o,c),o!==null){var f=ct();Wt(o,t,c,f),ff(o,r,c)}}function Fv(t,r,o){var c=En(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(t))hf(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,b=p(x,o);if(f.hasEagerState=!0,f.eagerState=b,Mt(b,x)){var j=r.interleaved;j===null?(f.next=f,jl(r)):(f.next=j.next,j.next=f),r.interleaved=f;return}}catch{}finally{}o=Vh(t,r,f,c),o!==null&&(f=ct(),Wt(o,t,c,f),ff(o,r,c))}}function df(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function hf(t,r){Ks=yo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ff(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Fa(t,o)}}var wo={readContext:Et,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},$v={readContext:Et,useCallback:function(t,r){return Jt().memoizedState=[t,r===void 0?null:r],t},useContext:Et,useEffect:tf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,vo(4194308,4,sf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return vo(4194308,4,t,r)},useInsertionEffect:function(t,r){return vo(4,2,t,r)},useMemo:function(t,r){var o=Jt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Jt();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Mv.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var r=Jt();return t={current:t},r.memoizedState=t},useState:Zh,useDebugValue:Dl,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Zh(!1),r=t[0];return t=Dv.bind(null,t[1]),Jt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Re,f=Jt();if(Ce){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Qe===null)throw Error(s(349));(Kn&30)!==0||Gh(c,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,tf(Yh.bind(null,c,p,t),[t]),c.flags|=2048,Ys(9,Jh.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=Jt(),r=Qe.identifierPrefix;if(Ce){var o=rn,c=nn;o=(c&~(1<<32-Dt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Gs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Lv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Uv={readContext:Et,useCallback:af,useContext:Et,useEffect:Ll,useImperativeHandle:of,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Ol,useRef:ef,useState:function(){return Ol(Js)},useDebugValue:Dl,useDeferredValue:function(t){var r=Tt();return cf(r,He.memoizedState,t)},useTransition:function(){var t=Ol(Js)[0],r=Tt().memoizedState;return[t,r]},useMutableSource:Hh,useSyncExternalStore:Kh,useId:uf,unstable_isNewReconciler:!1},Vv={readContext:Et,useCallback:af,useContext:Et,useEffect:Ll,useImperativeHandle:of,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Il,useRef:ef,useState:function(){return Il(Js)},useDebugValue:Dl,useDeferredValue:function(t){var r=Tt();return He===null?r.memoizedState=t:cf(r,He.memoizedState,t)},useTransition:function(){var t=Il(Js)[0],r=Tt().memoizedState;return[t,r]},useMutableSource:Hh,useSyncExternalStore:Kh,useId:uf,unstable_isNewReconciler:!1};function $t(t,r){if(t&&t.defaultProps){r=G({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ml(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:G({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var bo={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=ct(),f=En(t),p=on(c,f);p.payload=r,o!=null&&(p.callback=o),r=jn(t,p,f),r!==null&&(Wt(r,t,f,c),fo(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=ct(),f=En(t),p=on(c,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=jn(t,p,f),r!==null&&(Wt(r,t,f,c),fo(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ct(),c=En(t),f=on(o,c);f.tag=2,r!=null&&(f.callback=r),r=jn(t,f,c),r!==null&&(Wt(r,t,c,o),fo(r,t,c))}};function mf(t,r,o,c,f,p,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,x):r.prototype&&r.prototype.isPureReactComponent?!Ds(o,c)||!Ds(f,p):!0}function pf(t,r,o){var c=!1,f=wn,p=r.contextType;return typeof p=="object"&&p!==null?p=Et(p):(f=ht(r)?Wn:rt.current,c=r.contextTypes,p=(c=c!=null)?Sr(t,f):wn),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=bo,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function gf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&bo.enqueueReplaceState(r,r.state,null)}function Fl(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},kl(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=Et(p):(p=ht(r)?Wn:rt.current,f.context=Sr(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Ml(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&bo.enqueueReplaceState(f,f.state,null),mo(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Or(t,r){try{var o="",c=r;do o+=ge(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function $l(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Ul(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Wv=typeof WeakMap=="function"?WeakMap:Map;function yf(t,r,o){o=on(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){To||(To=!0,tc=c),Ul(t,r)},o}function vf(t,r,o){o=on(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Ul(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Ul(t,r),typeof c!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),o}function xf(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Wv;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=nx.bind(null,t,r,o),r.then(t,t))}function wf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function bf(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=on(-1,1),r.tag=2,jn(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Bv=D.ReactCurrentOwner,ft=!1;function lt(t,r,o,c){r.child=t===null?Uh(r,null,o,c):Cr(r,t.child,o,c)}function _f(t,r,o,c,f){o=o.render;var p=r.ref;return Ar(r,f),c=Al(t,r,o,c,p,f),o=Rl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ce&&o&&ml(r),r.flags|=1,lt(t,r,c,f),r.child)}function jf(t,r,o,c,f){if(t===null){var p=o.type;return typeof p=="function"&&!lc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,kf(t,r,p,c,f)):(t=Io(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&f)===0){var x=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ds,o(x,c)&&t.ref===r.ref)return an(t,r,f)}return r.flags|=1,t=Cn(p,c),t.ref=r.ref,t.return=r,r.child=t}function kf(t,r,o,c,f){if(t!==null){var p=t.memoizedProps;if(Ds(p,c)&&t.ref===r.ref)if(ft=!1,r.pendingProps=c=p,(t.lanes&f)!==0)(t.flags&131072)!==0&&(ft=!0);else return r.lanes=t.lanes,an(t,r,f)}return Vl(t,r,o,c,f)}function Sf(t,r,o){var c=r.pendingProps,f=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Lr,jt),jt|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Lr,jt),jt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,je(Lr,jt),jt|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,je(Lr,jt),jt|=c;return lt(t,r,f,o),r.child}function Nf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Vl(t,r,o,c,f){var p=ht(o)?Wn:rt.current;return p=Sr(r,p),Ar(r,f),o=Al(t,r,o,c,p,f),c=Rl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ce&&c&&ml(r),r.flags|=1,lt(t,r,o,f),r.child)}function Ef(t,r,o,c,f){if(ht(o)){var p=!0;so(r)}else p=!1;if(Ar(r,f),r.stateNode===null)jo(t,r),pf(r,o,c),Fl(r,o,c,f),c=!0;else if(t===null){var x=r.stateNode,b=r.memoizedProps;x.props=b;var j=x.context,L=o.contextType;typeof L=="object"&&L!==null?L=Et(L):(L=ht(o)?Wn:rt.current,L=Sr(r,L));var B=o.getDerivedStateFromProps,z=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function";z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==c||j!==L)&&gf(r,x,c,L),_n=!1;var U=r.memoizedState;x.state=U,mo(r,c,x,f),j=r.memoizedState,b!==c||U!==j||dt.current||_n?(typeof B=="function"&&(Ml(r,o,B,c),j=r.memoizedState),(b=_n||mf(r,o,b,c,U,j,L))?(z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=j),x.props=c,x.state=j,x.context=L,c=b):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{x=r.stateNode,Wh(t,r),b=r.memoizedProps,L=r.type===r.elementType?b:$t(r.type,b),x.props=L,z=r.pendingProps,U=x.context,j=o.contextType,typeof j=="object"&&j!==null?j=Et(j):(j=ht(o)?Wn:rt.current,j=Sr(r,j));var Q=o.getDerivedStateFromProps;(B=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==z||U!==j)&&gf(r,x,c,j),_n=!1,U=r.memoizedState,x.state=U,mo(r,c,x,f);var ee=r.memoizedState;b!==z||U!==ee||dt.current||_n?(typeof Q=="function"&&(Ml(r,o,Q,c),ee=r.memoizedState),(L=_n||mf(r,o,L,c,U,ee,j)||!1)?(B||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,ee,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,ee,j)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ee),x.props=c,x.state=ee,x.context=j,c=L):(typeof x.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),c=!1)}return Wl(t,r,o,c,p,f)}function Wl(t,r,o,c,f,p){Nf(t,r);var x=(r.flags&128)!==0;if(!c&&!x)return f&&Ah(r,o,!1),an(t,r,p);c=r.stateNode,Bv.current=r;var b=x&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&x?(r.child=Cr(r,t.child,null,p),r.child=Cr(r,null,b,p)):lt(t,r,b,p),r.memoizedState=c.state,f&&Ah(r,o,!0),r.child}function Tf(t){var r=t.stateNode;r.pendingContext?Ch(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Ch(t,r.context,!1),Sl(t,r.containerInfo)}function Cf(t,r,o,c,f){return Tr(),vl(f),r.flags|=256,lt(t,r,o,c),r.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function zl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pf(t,r,o){var c=r.pendingProps,f=Ae.current,p=!1,x=(r.flags&128)!==0,b;if((b=x)||(b=t!==null&&t.memoizedState===null?!1:(f&2)!==0),b?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),je(Ae,f&1),t===null)return yl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=c.children,t=c.fallback,p?(c=r.mode,p=r.child,x={mode:"hidden",children:x},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=x):p=Lo(x,c,0,null),t=Xn(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=zl(o),r.memoizedState=Bl,t):ql(r,x));if(f=t.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return zv(t,r,x,c,b,f,o);if(p){p=c.fallback,x=r.mode,f=t.child,b=f.sibling;var j={mode:"hidden",children:c.children};return(x&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=j,r.deletions=null):(c=Cn(f,j),c.subtreeFlags=f.subtreeFlags&14680064),b!==null?p=Cn(b,p):(p=Xn(p,x,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,x=t.child.memoizedState,x=x===null?zl(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},p.memoizedState=x,p.childLanes=t.childLanes&~o,r.memoizedState=Bl,c}return p=t.child,t=p.sibling,c=Cn(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function ql(t,r){return r=Lo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function _o(t,r,o,c){return c!==null&&vl(c),Cr(r,t.child,null,o),t=ql(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function zv(t,r,o,c,f,p,x){if(o)return r.flags&256?(r.flags&=-257,c=$l(Error(s(422))),_o(t,r,x,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,f=r.mode,c=Lo({mode:"visible",children:c.children},f,0,null),p=Xn(p,f,x,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&Cr(r,t.child,null,x),r.child.memoizedState=zl(x),r.memoizedState=Bl,p);if((r.mode&1)===0)return _o(t,r,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var b=c.dgst;return c=b,p=Error(s(419)),c=$l(p,c,void 0),_o(t,r,x,c)}if(b=(x&t.childLanes)!==0,ft||b){if(c=Qe,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,sn(t,f),Wt(c,t,f,-1))}return ac(),c=$l(Error(s(421))),_o(t,r,x,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=rx.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,_t=vn(f.nextSibling),bt=r,Ce=!0,Ft=null,t!==null&&(St[Nt++]=nn,St[Nt++]=rn,St[Nt++]=Bn,nn=t.id,rn=t.overflow,Bn=r),r=ql(r,c.children),r.flags|=4096,r)}function Af(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),_l(t.return,r,o)}function Hl(t,r,o,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Rf(t,r,o){var c=r.pendingProps,f=c.revealOrder,p=c.tail;if(lt(t,r,c.children,o),c=Ae.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Af(t,o,r);else if(t.tag===19)Af(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(je(Ae,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&po(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hl(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&po(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Hl(r,!0,o,null,p);break;case"together":Hl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function an(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Gn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,o=Cn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Cn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function qv(t,r,o){switch(r.tag){case 3:Tf(r),Tr();break;case 5:qh(r);break;case 1:ht(r.type)&&so(r);break;case 4:Sl(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;je(uo,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(je(Ae,Ae.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Pf(t,r,o):(je(Ae,Ae.current&1),t=an(t,r,o),t!==null?t.sibling:null);je(Ae,Ae.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Rf(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),je(Ae,Ae.current),c)break;return null;case 22:case 23:return r.lanes=0,Sf(t,r,o)}return an(t,r,o)}var Of,Kl,If,Lf;Of=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Kl=function(){},If=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Hn(Gt.current);var p=null;switch(o){case"input":f=_a(t,f),c=_a(t,c),p=[];break;case"select":f=G({},f,{value:void 0}),c=G({},c,{value:void 0}),p=[];break;case"textarea":f=Sa(t,f),c=Sa(t,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=to)}Ea(o,c);var x;o=null;for(L in f)if(!c.hasOwnProperty(L)&&f.hasOwnProperty(L)&&f[L]!=null)if(L==="style"){var b=f[L];for(x in b)b.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?p||(p=[]):(p=p||[]).push(L,null));for(L in c){var j=c[L];if(b=f?.[L],c.hasOwnProperty(L)&&j!==b&&(j!=null||b!=null))if(L==="style")if(b){for(x in b)!b.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in j)j.hasOwnProperty(x)&&b[x]!==j[x]&&(o||(o={}),o[x]=j[x])}else o||(p||(p=[]),p.push(L,o)),o=j;else L==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,b=b?b.__html:void 0,j!=null&&b!==j&&(p=p||[]).push(L,j)):L==="children"?typeof j!="string"&&typeof j!="number"||(p=p||[]).push(L,""+j):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(j!=null&&L==="onScroll"&&Ne("scroll",t),p||b===j||(p=[])):(p=p||[]).push(L,j))}o&&(p=p||[]).push("style",o);var L=p;(r.updateQueue=L)&&(r.flags|=4)}},Lf=function(t,r,o,c){o!==c&&(r.flags|=4)};function Qs(t,r){if(!Ce)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Hv(t,r,o){var c=r.pendingProps;switch(pl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return ht(r.type)&&ro(),it(r),null;case 3:return c=r.stateNode,Rr(),Ee(dt),Ee(rt),Tl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(lo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ft!==null&&(sc(Ft),Ft=null))),Kl(t,r),it(r),null;case 5:Nl(r);var f=Hn(Hs.current);if(o=r.type,t!==null&&r.stateNode!=null)If(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=Hn(Gt.current),lo(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[Kt]=r,c[Vs]=p,t=(r.mode&1)!==0,o){case"dialog":Ne("cancel",c),Ne("close",c);break;case"iframe":case"object":case"embed":Ne("load",c);break;case"video":case"audio":for(f=0;f<Fs.length;f++)Ne(Fs[f],c);break;case"source":Ne("error",c);break;case"img":case"image":case"link":Ne("error",c),Ne("load",c);break;case"details":Ne("toggle",c);break;case"input":md(c,p),Ne("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ne("invalid",c);break;case"textarea":yd(c,p),Ne("invalid",c)}Ea(o,p),f=null;for(var x in p)if(p.hasOwnProperty(x)){var b=p[x];x==="children"?typeof b=="string"?c.textContent!==b&&(p.suppressHydrationWarning!==!0&&eo(c.textContent,b,t),f=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(p.suppressHydrationWarning!==!0&&eo(c.textContent,b,t),f=["children",""+b]):a.hasOwnProperty(x)&&b!=null&&x==="onScroll"&&Ne("scroll",c)}switch(o){case"input":Ai(c),gd(c,p,!0);break;case"textarea":Ai(c),xd(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=to)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=x.createElement(o,{is:c.is}):(t=x.createElement(o),o==="select"&&(x=t,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):t=x.createElementNS(t,o),t[Kt]=r,t[Vs]=c,Of(t,r,!1,!1),r.stateNode=t;e:{switch(x=Ta(o,c),o){case"dialog":Ne("cancel",t),Ne("close",t),f=c;break;case"iframe":case"object":case"embed":Ne("load",t),f=c;break;case"video":case"audio":for(f=0;f<Fs.length;f++)Ne(Fs[f],t);f=c;break;case"source":Ne("error",t),f=c;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),f=c;break;case"details":Ne("toggle",t),f=c;break;case"input":md(t,c),f=_a(t,c),Ne("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=G({},c,{value:void 0}),Ne("invalid",t);break;case"textarea":yd(t,c),f=Sa(t,c),Ne("invalid",t);break;default:f=c}Ea(o,f),b=f;for(p in b)if(b.hasOwnProperty(p)){var j=b[p];p==="style"?jd(t,j):p==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&bd(t,j)):p==="children"?typeof j=="string"?(o!=="textarea"||j!=="")&&xs(t,j):typeof j=="number"&&xs(t,""+j):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?j!=null&&p==="onScroll"&&Ne("scroll",t):j!=null&&A(t,p,j,x))}switch(o){case"input":Ai(t),gd(t,c,!1);break;case"textarea":Ai(t),xd(t);break;case"option":c.value!=null&&t.setAttribute("value",""+xe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?fr(t,!!c.multiple,p,!1):c.defaultValue!=null&&fr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=to)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(t&&r.stateNode!=null)Lf(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(o=Hn(Hs.current),Hn(Gt.current),lo(r)){if(c=r.stateNode,o=r.memoizedProps,c[Kt]=r,(p=c.nodeValue!==o)&&(t=bt,t!==null))switch(t.tag){case 3:eo(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eo(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Kt]=r,r.stateNode=c}return it(r),null;case 13:if(Ee(Ae),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Mh(),Tr(),r.flags|=98560,p=!1;else if(p=lo(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Kt]=r}else Tr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),p=!1}else Ft!==null&&(sc(Ft),Ft=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ae.current&1)!==0?Ke===0&&(Ke=3):ac())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return Rr(),Kl(t,r),t===null&&$s(r.stateNode.containerInfo),it(r),null;case 10:return bl(r.type._context),it(r),null;case 17:return ht(r.type)&&ro(),it(r),null;case 19:if(Ee(Ae),p=r.memoizedState,p===null)return it(r),null;if(c=(r.flags&128)!==0,x=p.rendering,x===null)if(c)Qs(p,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=po(t),x!==null){for(r.flags|=128,Qs(p,!1),c=x.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,x=p.alternate,x===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,t=x.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(Ae,Ae.current&1|2),r.child}t=t.sibling}p.tail!==null&&Fe()>Dr&&(r.flags|=128,c=!0,Qs(p,!1),r.lanes=4194304)}else{if(!c)if(t=po(x),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Qs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Ce)return it(r),null}else 2*Fe()-p.renderingStartTime>Dr&&o!==1073741824&&(r.flags|=128,c=!0,Qs(p,!1),r.lanes=4194304);p.isBackwards?(x.sibling=r.child,r.child=x):(o=p.last,o!==null?o.sibling=x:r.child=x,p.last=x)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Fe(),r.sibling=null,o=Ae.current,je(Ae,c?o&1|2:o&1),r):(it(r),null);case 22:case 23:return oc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(jt&1073741824)!==0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Kv(t,r){switch(pl(r),r.tag){case 1:return ht(r.type)&&ro(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rr(),Ee(dt),Ee(rt),Tl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Nl(r),null;case 13:if(Ee(Ae),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Tr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ee(Ae),null;case 4:return Rr(),null;case 10:return bl(r.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var ko=!1,ot=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ir(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Le(t,r,c)}else o.current=null}function Gl(t,r,o){try{o()}catch(c){Le(t,r,c)}}var Df=!1;function Jv(t,r){if(ol=Bi,t=fh(),Xa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var x=0,b=-1,j=-1,L=0,B=0,z=t,U=null;t:for(;;){for(var Q;z!==o||f!==0&&z.nodeType!==3||(b=x+f),z!==p||c!==0&&z.nodeType!==3||(j=x+c),z.nodeType===3&&(x+=z.nodeValue.length),(Q=z.firstChild)!==null;)U=z,z=Q;for(;;){if(z===t)break t;if(U===o&&++L===f&&(b=x),U===p&&++B===c&&(j=x),(Q=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=Q}o=b===-1||j===-1?null:{start:b,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(al={focusedElem:t,selectionRange:o},Bi=!1,Z=r;Z!==null;)if(r=Z,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Z=t;else for(;Z!==null;){r=Z;try{var ee=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,$e=ee.memoizedState,P=r.stateNode,S=P.getSnapshotBeforeUpdate(r.elementType===r.type?te:$t(r.type,te),$e);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var R=r.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(H){Le(r,r.return,H)}if(t=r.sibling,t!==null){t.return=r.return,Z=t;break}Z=r.return}return ee=Df,Df=!1,ee}function Xs(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Gl(r,o,p)}f=f.next}while(f!==c)}}function So(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Jl(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Mf(t){var r=t.alternate;r!==null&&(t.alternate=null,Mf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Kt],delete r[Vs],delete r[dl],delete r[Av],delete r[Rv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ff(t){return t.tag===5||t.tag===3||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ff(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yl(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=to));else if(c!==4&&(t=t.child,t!==null))for(Yl(t,r,o),t=t.sibling;t!==null;)Yl(t,r,o),t=t.sibling}function Ql(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Ql(t,r,o),t=t.sibling;t!==null;)Ql(t,r,o),t=t.sibling}var et=null,Ut=!1;function kn(t,r,o){for(o=o.child;o!==null;)Uf(t,r,o),o=o.sibling}function Uf(t,r,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Mi,o)}catch{}switch(o.tag){case 5:ot||Ir(o,r);case 6:var c=et,f=Ut;et=null,kn(t,r,o),et=c,Ut=f,et!==null&&(Ut?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(Ut?(t=et,o=o.stateNode,t.nodeType===8?ul(t.parentNode,o):t.nodeType===1&&ul(t,o),Ps(t)):ul(et,o.stateNode));break;case 4:c=et,f=Ut,et=o.stateNode.containerInfo,Ut=!0,kn(t,r,o),et=c,Ut=f;break;case 0:case 11:case 14:case 15:if(!ot&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,x=p.destroy;p=p.tag,x!==void 0&&((p&2)!==0||(p&4)!==0)&&Gl(o,r,x),f=f.next}while(f!==c)}kn(t,r,o);break;case 1:if(!ot&&(Ir(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(b){Le(o,r,b)}kn(t,r,o);break;case 21:kn(t,r,o);break;case 22:o.mode&1?(ot=(c=ot)||o.memoizedState!==null,kn(t,r,o),ot=c):kn(t,r,o);break;default:kn(t,r,o)}}function Vf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Gv),r.forEach(function(c){var f=sx.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Vt(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=t,x=r,b=x;e:for(;b!==null;){switch(b.tag){case 5:et=b.stateNode,Ut=!1;break e;case 3:et=b.stateNode.containerInfo,Ut=!0;break e;case 4:et=b.stateNode.containerInfo,Ut=!0;break e}b=b.return}if(et===null)throw Error(s(160));Uf(p,x,f),et=null,Ut=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(L){Le(f,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Wf(r,t),r=r.sibling}function Wf(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(r,t),Yt(t),c&4){try{Xs(3,t,t.return),So(3,t)}catch(te){Le(t,t.return,te)}try{Xs(5,t,t.return)}catch(te){Le(t,t.return,te)}}break;case 1:Vt(r,t),Yt(t),c&512&&o!==null&&Ir(o,o.return);break;case 5:if(Vt(r,t),Yt(t),c&512&&o!==null&&Ir(o,o.return),t.flags&32){var f=t.stateNode;try{xs(f,"")}catch(te){Le(t,t.return,te)}}if(c&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,x=o!==null?o.memoizedProps:p,b=t.type,j=t.updateQueue;if(t.updateQueue=null,j!==null)try{b==="input"&&p.type==="radio"&&p.name!=null&&pd(f,p),Ta(b,x);var L=Ta(b,p);for(x=0;x<j.length;x+=2){var B=j[x],z=j[x+1];B==="style"?jd(f,z):B==="dangerouslySetInnerHTML"?bd(f,z):B==="children"?xs(f,z):A(f,B,z,L)}switch(b){case"input":ja(f,p);break;case"textarea":vd(f,p);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var Q=p.value;Q!=null?fr(f,!!p.multiple,Q,!1):U!==!!p.multiple&&(p.defaultValue!=null?fr(f,!!p.multiple,p.defaultValue,!0):fr(f,!!p.multiple,p.multiple?[]:"",!1))}f[Vs]=p}catch(te){Le(t,t.return,te)}}break;case 6:if(Vt(r,t),Yt(t),c&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(te){Le(t,t.return,te)}}break;case 3:if(Vt(r,t),Yt(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ps(r.containerInfo)}catch(te){Le(t,t.return,te)}break;case 4:Vt(r,t),Yt(t);break;case 13:Vt(r,t),Yt(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(ec=Fe())),c&4&&Vf(t);break;case 22:if(B=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(L=ot)||B,Vt(r,t),ot=L):Vt(r,t),Yt(t),c&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!B&&(t.mode&1)!==0)for(Z=t,B=t.child;B!==null;){for(z=Z=B;Z!==null;){switch(U=Z,Q=U.child,U.tag){case 0:case 11:case 14:case 15:Xs(4,U,U.return);break;case 1:Ir(U,U.return);var ee=U.stateNode;if(typeof ee.componentWillUnmount=="function"){c=U,o=U.return;try{r=c,ee.props=r.memoizedProps,ee.state=r.memoizedState,ee.componentWillUnmount()}catch(te){Le(c,o,te)}}break;case 5:Ir(U,U.return);break;case 22:if(U.memoizedState!==null){qf(z);continue}}Q!==null?(Q.return=U,Z=Q):qf(z)}B=B.sibling}e:for(B=null,z=t;;){if(z.tag===5){if(B===null){B=z;try{f=z.stateNode,L?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(b=z.stateNode,j=z.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,b.style.display=_d("display",x))}catch(te){Le(t,t.return,te)}}}else if(z.tag===6){if(B===null)try{z.stateNode.nodeValue=L?"":z.memoizedProps}catch(te){Le(t,t.return,te)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===t)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===t)break e;for(;z.sibling===null;){if(z.return===null||z.return===t)break e;B===z&&(B=null),z=z.return}B===z&&(B=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Vt(r,t),Yt(t),c&4&&Vf(t);break;case 21:break;default:Vt(r,t),Yt(t)}}function Yt(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Ff(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(xs(f,""),c.flags&=-33);var p=$f(t);Ql(t,p,f);break;case 3:case 4:var x=c.stateNode.containerInfo,b=$f(t);Yl(t,b,x);break;default:throw Error(s(161))}}catch(j){Le(t,t.return,j)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Yv(t,r,o){Z=t,Bf(t)}function Bf(t,r,o){for(var c=(t.mode&1)!==0;Z!==null;){var f=Z,p=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||ko;if(!x){var b=f.alternate,j=b!==null&&b.memoizedState!==null||ot;b=ko;var L=ot;if(ko=x,(ot=j)&&!L)for(Z=f;Z!==null;)x=Z,j=x.child,x.tag===22&&x.memoizedState!==null?Hf(f):j!==null?(j.return=x,Z=j):Hf(f);for(;p!==null;)Z=p,Bf(p),p=p.sibling;Z=f,ko=b,ot=L}zf(t)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,Z=p):zf(t)}}function zf(t){for(;Z!==null;){var r=Z;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ot||So(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!ot)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:$t(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&zh(r,p,c);break;case 3:var x=r.updateQueue;if(x!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}zh(r,x,o)}break;case 5:var b=r.stateNode;if(o===null&&r.flags&4){o=b;var j=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&o.focus();break;case"img":j.src&&(o.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var B=L.memoizedState;if(B!==null){var z=B.dehydrated;z!==null&&Ps(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||r.flags&512&&Jl(r)}catch(U){Le(r,r.return,U)}}if(r===t){Z=null;break}if(o=r.sibling,o!==null){o.return=r.return,Z=o;break}Z=r.return}}function qf(t){for(;Z!==null;){var r=Z;if(r===t){Z=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Z=o;break}Z=r.return}}function Hf(t){for(;Z!==null;){var r=Z;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{So(4,r)}catch(j){Le(r,o,j)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(j){Le(r,f,j)}}var p=r.return;try{Jl(r)}catch(j){Le(r,p,j)}break;case 5:var x=r.return;try{Jl(r)}catch(j){Le(r,x,j)}}}catch(j){Le(r,r.return,j)}if(r===t){Z=null;break}var b=r.sibling;if(b!==null){b.return=r.return,Z=b;break}Z=r.return}}var Qv=Math.ceil,No=D.ReactCurrentDispatcher,Xl=D.ReactCurrentOwner,Ct=D.ReactCurrentBatchConfig,me=0,Qe=null,Ve=null,tt=0,jt=0,Lr=xn(0),Ke=0,Zs=null,Gn=0,Eo=0,Zl=0,ei=null,mt=null,ec=0,Dr=1/0,ln=null,To=!1,tc=null,Sn=null,Co=!1,Nn=null,Po=0,ti=0,nc=null,Ao=-1,Ro=0;function ct(){return(me&6)!==0?Fe():Ao!==-1?Ao:Ao=Fe()}function En(t){return(t.mode&1)===0?1:(me&2)!==0&&tt!==0?tt&-tt:Iv.transition!==null?(Ro===0&&(Ro=Fd()),Ro):(t=we,t!==0||(t=window.event,t=t===void 0?16:Kd(t.type)),t)}function Wt(t,r,o,c){if(50<ti)throw ti=0,nc=null,Error(s(185));Ss(t,o,c),((me&2)===0||t!==Qe)&&(t===Qe&&((me&2)===0&&(Eo|=o),Ke===4&&Tn(t,tt)),pt(t,c),o===1&&me===0&&(r.mode&1)===0&&(Dr=Fe()+500,io&&bn()))}function pt(t,r){var o=t.callbackNode;I0(t,r);var c=Ui(t,t===Qe?tt:0);if(c===0)o!==null&&Ld(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Ld(o),r===1)t.tag===0?Ov(Gf.bind(null,t)):Rh(Gf.bind(null,t)),Cv(function(){(me&6)===0&&bn()}),o=null;else{switch($d(c)){case 1:o=La;break;case 4:o=Dd;break;case 16:o=Di;break;case 536870912:o=Md;break;default:o=Di}o=nm(o,Kf.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Kf(t,r){if(Ao=-1,Ro=0,(me&6)!==0)throw Error(s(327));var o=t.callbackNode;if(Mr()&&t.callbackNode!==o)return null;var c=Ui(t,t===Qe?tt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Oo(t,c);else{r=c;var f=me;me|=2;var p=Yf();(Qe!==t||tt!==r)&&(ln=null,Dr=Fe()+500,Yn(t,r));do try{ex();break}catch(b){Jf(t,b)}while(!0);wl(),No.current=p,me=f,Ve!==null?r=0:(Qe=null,tt=0,r=Ke)}if(r!==0){if(r===2&&(f=Da(t),f!==0&&(c=f,r=rc(t,f))),r===1)throw o=Zs,Yn(t,0),Tn(t,c),pt(t,Fe()),o;if(r===6)Tn(t,c);else{if(f=t.current.alternate,(c&30)===0&&!Xv(f)&&(r=Oo(t,c),r===2&&(p=Da(t),p!==0&&(c=p,r=rc(t,p))),r===1))throw o=Zs,Yn(t,0),Tn(t,c),pt(t,Fe()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(s(345));case 2:Qn(t,mt,ln);break;case 3:if(Tn(t,c),(c&130023424)===c&&(r=ec+500-Fe(),10<r)){if(Ui(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){ct(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=cl(Qn.bind(null,t,mt,ln),r);break}Qn(t,mt,ln);break;case 4:if(Tn(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var x=31-Dt(c);p=1<<x,x=r[x],x>f&&(f=x),c&=~p}if(c=f,c=Fe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Qv(c/1960))-c,10<c){t.timeoutHandle=cl(Qn.bind(null,t,mt,ln),c);break}Qn(t,mt,ln);break;case 5:Qn(t,mt,ln);break;default:throw Error(s(329))}}}return pt(t,Fe()),t.callbackNode===o?Kf.bind(null,t):null}function rc(t,r){var o=ei;return t.current.memoizedState.isDehydrated&&(Yn(t,r).flags|=256),t=Oo(t,r),t!==2&&(r=mt,mt=o,r!==null&&sc(r)),t}function sc(t){mt===null?mt=t:mt.push.apply(mt,t)}function Xv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Mt(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Tn(t,r){for(r&=~Zl,r&=~Eo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Dt(r),c=1<<o;t[o]=-1,r&=~c}}function Gf(t){if((me&6)!==0)throw Error(s(327));Mr();var r=Ui(t,0);if((r&1)===0)return pt(t,Fe()),null;var o=Oo(t,r);if(t.tag!==0&&o===2){var c=Da(t);c!==0&&(r=c,o=rc(t,c))}if(o===1)throw o=Zs,Yn(t,0),Tn(t,r),pt(t,Fe()),o;if(o===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Qn(t,mt,ln),pt(t,Fe()),null}function ic(t,r){var o=me;me|=1;try{return t(r)}finally{me=o,me===0&&(Dr=Fe()+500,io&&bn())}}function Jn(t){Nn!==null&&Nn.tag===0&&(me&6)===0&&Mr();var r=me;me|=1;var o=Ct.transition,c=we;try{if(Ct.transition=null,we=1,t)return t()}finally{we=c,Ct.transition=o,me=r,(me&6)===0&&bn()}}function oc(){jt=Lr.current,Ee(Lr)}function Yn(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Tv(o)),Ve!==null)for(o=Ve.return;o!==null;){var c=o;switch(pl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ro();break;case 3:Rr(),Ee(dt),Ee(rt),Tl();break;case 5:Nl(c);break;case 4:Rr();break;case 13:Ee(Ae);break;case 19:Ee(Ae);break;case 10:bl(c.type._context);break;case 22:case 23:oc()}o=o.return}if(Qe=t,Ve=t=Cn(t.current,null),tt=jt=r,Ke=0,Zs=null,Zl=Eo=Gn=0,mt=ei=null,qn!==null){for(r=0;r<qn.length;r++)if(o=qn[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var x=p.next;p.next=f,c.next=x}o.pending=c}qn=null}return t}function Jf(t,r){do{var o=Ve;try{if(wl(),go.current=wo,yo){for(var c=Re.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}yo=!1}if(Kn=0,Ye=He=Re=null,Ks=!1,Gs=0,Xl.current=null,o===null||o.return===null){Ke=1,Zs=r,Ve=null;break}e:{var p=t,x=o.return,b=o,j=r;if(r=tt,b.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var L=j,B=b,z=B.tag;if((B.mode&1)===0&&(z===0||z===11||z===15)){var U=B.alternate;U?(B.updateQueue=U.updateQueue,B.memoizedState=U.memoizedState,B.lanes=U.lanes):(B.updateQueue=null,B.memoizedState=null)}var Q=wf(x);if(Q!==null){Q.flags&=-257,bf(Q,x,b,p,r),Q.mode&1&&xf(p,L,r),r=Q,j=L;var ee=r.updateQueue;if(ee===null){var te=new Set;te.add(j),r.updateQueue=te}else ee.add(j);break e}else{if((r&1)===0){xf(p,L,r),ac();break e}j=Error(s(426))}}else if(Ce&&b.mode&1){var $e=wf(x);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),bf($e,x,b,p,r),vl(Or(j,b));break e}}p=j=Or(j,b),Ke!==4&&(Ke=2),ei===null?ei=[p]:ei.push(p),p=x;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var P=yf(p,j,r);Bh(p,P);break e;case 1:b=j;var S=p.type,R=p.stateNode;if((p.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Sn===null||!Sn.has(R)))){p.flags|=65536,r&=-r,p.lanes|=r;var H=vf(p,b,r);Bh(p,H);break e}}p=p.return}while(p!==null)}Xf(o)}catch(re){r=re,Ve===o&&o!==null&&(Ve=o=o.return);continue}break}while(!0)}function Yf(){var t=No.current;return No.current=wo,t===null?wo:t}function ac(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||(Gn&268435455)===0&&(Eo&268435455)===0||Tn(Qe,tt)}function Oo(t,r){var o=me;me|=2;var c=Yf();(Qe!==t||tt!==r)&&(ln=null,Yn(t,r));do try{Zv();break}catch(f){Jf(t,f)}while(!0);if(wl(),me=o,No.current=c,Ve!==null)throw Error(s(261));return Qe=null,tt=0,Ke}function Zv(){for(;Ve!==null;)Qf(Ve)}function ex(){for(;Ve!==null&&!S0();)Qf(Ve)}function Qf(t){var r=tm(t.alternate,t,jt);t.memoizedProps=t.pendingProps,r===null?Xf(t):Ve=r,Xl.current=null}function Xf(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Hv(o,r,jt),o!==null){Ve=o;return}}else{if(o=Kv(o,r),o!==null){o.flags&=32767,Ve=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);Ke===0&&(Ke=5)}function Qn(t,r,o){var c=we,f=Ct.transition;try{Ct.transition=null,we=1,tx(t,r,o,c)}finally{Ct.transition=f,we=c}return null}function tx(t,r,o,c){do Mr();while(Nn!==null);if((me&6)!==0)throw Error(s(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(L0(t,p),t===Qe&&(Ve=Qe=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Co||(Co=!0,nm(Di,function(){return Mr(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Ct.transition,Ct.transition=null;var x=we;we=1;var b=me;me|=4,Xl.current=null,Jv(t,o),Wf(o,t),bv(al),Bi=!!ol,al=ol=null,t.current=o,Yv(o),N0(),me=b,we=x,Ct.transition=p}else t.current=o;if(Co&&(Co=!1,Nn=t,Po=f),p=t.pendingLanes,p===0&&(Sn=null),C0(o.stateNode),pt(t,Fe()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(To)throw To=!1,t=tc,tc=null,t;return(Po&1)!==0&&t.tag!==0&&Mr(),p=t.pendingLanes,(p&1)!==0?t===nc?ti++:(ti=0,nc=t):ti=0,bn(),null}function Mr(){if(Nn!==null){var t=$d(Po),r=Ct.transition,o=we;try{if(Ct.transition=null,we=16>t?16:t,Nn===null)var c=!1;else{if(t=Nn,Nn=null,Po=0,(me&6)!==0)throw Error(s(331));var f=me;for(me|=4,Z=t.current;Z!==null;){var p=Z,x=p.child;if((Z.flags&16)!==0){var b=p.deletions;if(b!==null){for(var j=0;j<b.length;j++){var L=b[j];for(Z=L;Z!==null;){var B=Z;switch(B.tag){case 0:case 11:case 15:Xs(8,B,p)}var z=B.child;if(z!==null)z.return=B,Z=z;else for(;Z!==null;){B=Z;var U=B.sibling,Q=B.return;if(Mf(B),B===L){Z=null;break}if(U!==null){U.return=Q,Z=U;break}Z=Q}}}var ee=p.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var $e=te.sibling;te.sibling=null,te=$e}while(te!==null)}}Z=p}}if((p.subtreeFlags&2064)!==0&&x!==null)x.return=p,Z=x;else e:for(;Z!==null;){if(p=Z,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Xs(9,p,p.return)}var P=p.sibling;if(P!==null){P.return=p.return,Z=P;break e}Z=p.return}}var S=t.current;for(Z=S;Z!==null;){x=Z;var R=x.child;if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,Z=R;else e:for(x=S;Z!==null;){if(b=Z,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:So(9,b)}}catch(re){Le(b,b.return,re)}if(b===x){Z=null;break e}var H=b.sibling;if(H!==null){H.return=b.return,Z=H;break e}Z=b.return}}if(me=f,bn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Mi,t)}catch{}c=!0}return c}finally{we=o,Ct.transition=r}}return!1}function Zf(t,r,o){r=Or(o,r),r=yf(t,r,1),t=jn(t,r,1),r=ct(),t!==null&&(Ss(t,1,r),pt(t,r))}function Le(t,r,o){if(t.tag===3)Zf(t,t,o);else for(;r!==null;){if(r.tag===3){Zf(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sn===null||!Sn.has(c))){t=Or(o,t),t=vf(r,t,1),r=jn(r,t,1),t=ct(),r!==null&&(Ss(r,1,t),pt(r,t));break}}r=r.return}}function nx(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=ct(),t.pingedLanes|=t.suspendedLanes&o,Qe===t&&(tt&o)===o&&(Ke===4||Ke===3&&(tt&130023424)===tt&&500>Fe()-ec?Yn(t,0):Zl|=o),pt(t,r)}function em(t,r){r===0&&((t.mode&1)===0?r=1:(r=$i,$i<<=1,($i&130023424)===0&&($i=4194304)));var o=ct();t=sn(t,r),t!==null&&(Ss(t,r,o),pt(t,o))}function rx(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),em(t,o)}function sx(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(r),em(t,o)}var tm;tm=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||dt.current)ft=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return ft=!1,qv(t,r,o);ft=(t.flags&131072)!==0}else ft=!1,Ce&&(r.flags&1048576)!==0&&Oh(r,ao,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;jo(t,r),t=r.pendingProps;var f=Sr(r,rt.current);Ar(r,o),f=Al(null,r,c,t,f,o);var p=Rl();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(c)?(p=!0,so(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,kl(r),f.updater=bo,r.stateNode=f,f._reactInternals=r,Fl(r,c,t,o),r=Wl(null,r,c,!0,p,o)):(r.tag=0,Ce&&p&&ml(r),lt(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(jo(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=ox(c),t=$t(c,t),f){case 0:r=Vl(null,r,c,t,o);break e;case 1:r=Ef(null,r,c,t,o);break e;case 11:r=_f(null,r,c,t,o);break e;case 14:r=jf(null,r,c,$t(c.type,t),o);break e}throw Error(s(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$t(c,f),Vl(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$t(c,f),Ef(t,r,c,f,o);case 3:e:{if(Tf(r),t===null)throw Error(s(387));c=r.pendingProps,p=r.memoizedState,f=p.element,Wh(t,r),mo(r,c,null,o);var x=r.memoizedState;if(c=x.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Or(Error(s(423)),r),r=Cf(t,r,c,o,f);break e}else if(c!==f){f=Or(Error(s(424)),r),r=Cf(t,r,c,o,f);break e}else for(_t=vn(r.stateNode.containerInfo.firstChild),bt=r,Ce=!0,Ft=null,o=Uh(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Tr(),c===f){r=an(t,r,o);break e}lt(t,r,c,o)}r=r.child}return r;case 5:return qh(r),t===null&&yl(r),c=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,x=f.children,ll(c,f)?x=null:p!==null&&ll(c,p)&&(r.flags|=32),Nf(t,r),lt(t,r,x,o),r.child;case 6:return t===null&&yl(r),null;case 13:return Pf(t,r,o);case 4:return Sl(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Cr(r,null,c,o):lt(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$t(c,f),_f(t,r,c,f,o);case 7:return lt(t,r,r.pendingProps,o),r.child;case 8:return lt(t,r,r.pendingProps.children,o),r.child;case 12:return lt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,p=r.memoizedProps,x=f.value,je(uo,c._currentValue),c._currentValue=x,p!==null)if(Mt(p.value,x)){if(p.children===f.children&&!dt.current){r=an(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var b=p.dependencies;if(b!==null){x=p.child;for(var j=b.firstContext;j!==null;){if(j.context===c){if(p.tag===1){j=on(-1,o&-o),j.tag=2;var L=p.updateQueue;if(L!==null){L=L.shared;var B=L.pending;B===null?j.next=j:(j.next=B.next,B.next=j),L.pending=j}}p.lanes|=o,j=p.alternate,j!==null&&(j.lanes|=o),_l(p.return,o,r),b.lanes|=o;break}j=j.next}}else if(p.tag===10)x=p.type===r.type?null:p.child;else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=o,b=x.alternate,b!==null&&(b.lanes|=o),_l(x,o,r),x=p.sibling}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}lt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Ar(r,o),f=Et(f),c=c(f),r.flags|=1,lt(t,r,c,o),r.child;case 14:return c=r.type,f=$t(c,r.pendingProps),f=$t(c.type,f),jf(t,r,c,f,o);case 15:return kf(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:$t(c,f),jo(t,r),r.tag=1,ht(c)?(t=!0,so(r)):t=!1,Ar(r,o),pf(r,c,f),Fl(r,c,f,o),Wl(null,r,c,!0,t,o);case 19:return Rf(t,r,o);case 22:return Sf(t,r,o)}throw Error(s(156,r.tag))};function nm(t,r){return Id(t,r)}function ix(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,r,o,c){return new ix(t,r,o,c)}function lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ox(t){if(typeof t=="function")return lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Je)return 11;if(t===ne)return 14}return 2}function Cn(t,r){var o=t.alternate;return o===null?(o=Pt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Io(t,r,o,c,f,p){var x=2;if(c=t,typeof t=="function")lc(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case q:return Xn(o.children,f,p,r);case J:x=8,f|=8;break;case se:return t=Pt(12,o,r,f|2),t.elementType=se,t.lanes=p,t;case Ie:return t=Pt(13,o,r,f),t.elementType=Ie,t.lanes=p,t;case F:return t=Pt(19,o,r,f),t.elementType=F,t.lanes=p,t;case K:return Lo(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:x=10;break e;case Me:x=9;break e;case Je:x=11;break e;case ne:x=14;break e;case Se:x=16,c=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Pt(x,o,r,f),r.elementType=t,r.type=c,r.lanes=p,r}function Xn(t,r,o,c){return t=Pt(7,t,c,r),t.lanes=o,t}function Lo(t,r,o,c){return t=Pt(22,t,c,r),t.elementType=K,t.lanes=o,t.stateNode={isHidden:!1},t}function cc(t,r,o){return t=Pt(6,t,null,r),t.lanes=o,t}function uc(t,r,o){return r=Pt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function ax(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function dc(t,r,o,c,f,p,x,b,j){return t=new ax(t,r,o,b,j),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Pt(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(p),t}function lx(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function rm(t){if(!t)return wn;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var o=t.type;if(ht(o))return Ph(t,o,r)}return r}function sm(t,r,o,c,f,p,x,b,j){return t=dc(o,c,!0,t,f,p,x,b,j),t.context=rm(null),o=t.current,c=ct(),f=En(o),p=on(c,f),p.callback=r??null,jn(o,p,f),t.current.lanes=f,Ss(t,f,c),pt(t,c),t}function Do(t,r,o,c){var f=r.current,p=ct(),x=En(f);return o=rm(o),r.context===null?r.context=o:r.pendingContext=o,r=on(p,x),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=jn(f,r,x),t!==null&&(Wt(t,f,x,p),fo(t,f,x)),x}function Mo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function im(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function hc(t,r){im(t,r),(t=t.alternate)&&im(t,r)}function cx(){return null}var om=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}Fo.prototype.render=fc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));Do(t,r,null,null)},Fo.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jn(function(){Do(null,t,null,null)}),r[en]=null}};function Fo(t){this._internalRoot=t}Fo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<pn.length&&r!==0&&r<pn[o].priority;o++);pn.splice(o,0,t),o===0&&qd(t)}};function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function am(){}function ux(t,r,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var L=Mo(x);p.call(L)}}var x=sm(r,c,t,0,null,!1,!1,"",am);return t._reactRootContainer=x,t[en]=x.current,$s(t.nodeType===8?t.parentNode:t),Jn(),x}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var b=c;c=function(){var L=Mo(j);b.call(L)}}var j=dc(t,0,!1,null,null,!1,!1,"",am);return t._reactRootContainer=j,t[en]=j.current,$s(t.nodeType===8?t.parentNode:t),Jn(function(){Do(r,j,o,c)}),j}function Uo(t,r,o,c,f){var p=o._reactRootContainer;if(p){var x=p;if(typeof f=="function"){var b=f;f=function(){var j=Mo(x);b.call(j)}}Do(r,x,t,f)}else x=ux(o,r,t,f,c);return Mo(x)}Ud=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=ks(r.pendingLanes);o!==0&&(Fa(r,o|1),pt(r,Fe()),(me&6)===0&&(Dr=Fe()+500,bn()))}break;case 13:Jn(function(){var c=sn(t,1);if(c!==null){var f=ct();Wt(c,t,1,f)}}),hc(t,1)}},$a=function(t){if(t.tag===13){var r=sn(t,134217728);if(r!==null){var o=ct();Wt(r,t,134217728,o)}hc(t,134217728)}},Vd=function(t){if(t.tag===13){var r=En(t),o=sn(t,r);if(o!==null){var c=ct();Wt(o,t,r,c)}hc(t,r)}},Wd=function(){return we},Bd=function(t,r){var o=we;try{return we=t,r()}finally{we=o}},Aa=function(t,r,o){switch(r){case"input":if(ja(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=no(c);if(!f)throw Error(s(90));fd(c),ja(c,f)}}}break;case"textarea":vd(t,o);break;case"select":r=o.value,r!=null&&fr(t,!!o.multiple,r,!1)}},Ed=ic,Td=Jn;var dx={usingClientEntryPoint:!1,Events:[Ws,jr,no,Sd,Nd,ic]},ni={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hx={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rd(t),t===null?null:t.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Mi=Vo.inject(hx),Ht=Vo}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx,gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(r))throw Error(s(200));return lx(t,r,null,o)},gt.createRoot=function(t,r){if(!mc(t))throw Error(s(299));var o=!1,c="",f=om;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=dc(t,1,!1,null,null,o,!1,c,f),t[en]=r.current,$s(t.nodeType===8?t.parentNode:t),new fc(r)},gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Rd(r),t=t===null?null:t.stateNode,t},gt.flushSync=function(t){return Jn(t)},gt.hydrate=function(t,r,o){if(!$o(r))throw Error(s(200));return Uo(null,t,r,!0,o)},gt.hydrateRoot=function(t,r,o){if(!mc(t))throw Error(s(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",x=om;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),r=sm(r,null,t,1,o??null,f,!1,p,x),t[en]=r.current,$s(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Fo(r)},gt.render=function(t,r,o){if(!$o(r))throw Error(s(200));return Uo(null,t,r,!1,o)},gt.unmountComponentAtNode=function(t){if(!$o(t))throw Error(s(40));return t._reactRootContainer?(Jn(function(){Uo(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1},gt.unstable_batchedUpdates=ic,gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!$o(o))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return Uo(t,r,o,!1,c)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var pm;function bx(){if(pm)return yc.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yc.exports=wx(),yc.exports}var gm;function _x(){if(gm)return Wo;gm=1;var n=bx();return Wo.createRoot=n.createRoot,Wo.hydrateRoot=n.hydrateRoot,Wo}var jx=_x(),C=Su();const Fr=dg(C),Nu=C.createContext({});function Eu(n){const e=C.useRef(null);return e.current===null&&(e.current=n()),e.current}const Tu=typeof window<"u",hg=Tu?C.useLayoutEffect:C.useEffect,fa=C.createContext(null);function Cu(n,e){n.indexOf(e)===-1&&n.push(e)}function Pu(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const un=(n,e,s)=>s>e?e:s<n?n:s;let Au=()=>{};const dn={},fg=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function mg(n){return typeof n=="object"&&n!==null}const pg=n=>/^0[^.\s]+$/u.test(n);function Ru(n){let e;return()=>(e===void 0&&(e=n()),e)}const Lt=n=>n,kx=(n,e)=>s=>e(n(s)),Si=(...n)=>n.reduce(kx),gi=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class Ou{constructor(){this.subscriptions=[]}add(e){return Cu(this.subscriptions,e),()=>Pu(this.subscriptions,e)}notify(e,s,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=n=>n*1e3,It=n=>n/1e3;function gg(n,e){return e?n*(1e3/e):0}const yg=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,Sx=1e-7,Nx=12;function Ex(n,e,s,i,a){let l,u,h=0;do u=e+(s-e)/2,l=yg(u,i,a)-n,l>0?s=u:e=u;while(Math.abs(l)>Sx&&++h<Nx);return u}function Ni(n,e,s,i){if(n===e&&s===i)return Lt;const a=l=>Ex(l,0,1,n,s);return l=>l===0||l===1?l:yg(a(l),e,i)}const vg=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,xg=n=>e=>1-n(1-e),wg=Ni(.33,1.53,.69,.99),Iu=xg(wg),bg=vg(Iu),_g=n=>(n*=2)<1?.5*Iu(n):.5*(2-Math.pow(2,-10*(n-1))),Lu=n=>1-Math.sin(Math.acos(n)),jg=xg(Lu),kg=vg(Lu),Tx=Ni(.42,0,1,1),Cx=Ni(0,0,.58,1),Sg=Ni(.42,0,.58,1),Px=n=>Array.isArray(n)&&typeof n[0]!="number",Ng=n=>Array.isArray(n)&&typeof n[0]=="number",Ax={linear:Lt,easeIn:Tx,easeInOut:Sg,easeOut:Cx,circIn:Lu,circInOut:kg,circOut:jg,backIn:Iu,backInOut:bg,backOut:wg,anticipate:_g},Rx=n=>typeof n=="string",ym=n=>{if(Ng(n)){Au(n.length===4);const[e,s,i,a]=n;return Ni(e,s,i,a)}else if(Rx(n))return Ax[n];return n},Bo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ox(n,e){let s=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),n()),y(h)}const g={schedule:(y,v=!1,w=!1)=>{const E=w&&a?s:i;return v&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[s,i]=[i,s],s.forEach(m),s.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Ix=40;function Eg(n,e){let s=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,u=Bo.reduce((A,D)=>(A[D]=Ox(l),A),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:y,update:v,preRender:w,render:_,postRender:E}=u,k=()=>{const A=dn.useManualTiming?a.timestamp:performance.now();s=!1,dn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(A-a.timestamp,Ix),1)),a.timestamp=A,a.isProcessing=!0,h.process(a),m.process(a),g.process(a),y.process(a),v.process(a),w.process(a),_.process(a),E.process(a),a.isProcessing=!1,s&&e&&(i=!1,n(k))},N=()=>{s=!0,i=!0,a.isProcessing||n(k)};return{schedule:Bo.reduce((A,D)=>{const $=u[D];return A[D]=(M,q=!1,J=!1)=>(s||N(),$.schedule(M,q,J)),A},{}),cancel:A=>{for(let D=0;D<Bo.length;D++)u[Bo[D]].cancel(A)},state:a,steps:u}}const{schedule:Pe,cancel:Dn,state:nt,steps:wc}=Eg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);let Xo;function Lx(){Xo=void 0}const vt={now:()=>(Xo===void 0&&vt.set(nt.isProcessing||dn.useManualTiming?nt.timestamp:performance.now()),Xo),set:n=>{Xo=n,queueMicrotask(Lx)}},Tg=n=>e=>typeof e=="string"&&e.startsWith(n),Du=Tg("--"),Dx=Tg("var(--"),Mu=n=>Dx(n)?Mx.test(n.split("/*")[0].trim()):!1,Mx=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},yi={...fs,transform:n=>un(0,1,n)},zo={...fs,default:1},li=n=>Math.round(n*1e5)/1e5,Fu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fx(n){return n==null}const $x=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$u=(n,e)=>s=>!!(typeof s=="string"&&$x.test(s)&&s.startsWith(n)||e&&!Fx(s)&&Object.prototype.hasOwnProperty.call(s,e)),Cg=(n,e,s)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(Fu);return{[n]:parseFloat(a),[e]:parseFloat(l),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},Ux=n=>un(0,255,n),bc={...fs,transform:n=>Math.round(Ux(n))},or={test:$u("rgb","red"),parse:Cg("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+bc.transform(n)+", "+bc.transform(e)+", "+bc.transform(s)+", "+li(yi.transform(i))+")"};function Vx(n){let e="",s="",i="",a="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,s+=s,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const qc={test:$u("#"),parse:Vx,transform:or.transform},Ei=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rn=Ei("deg"),Zt=Ei("%"),le=Ei("px"),Wx=Ei("vh"),Bx=Ei("vw"),vm={...Zt,parse:n=>Zt.parse(n)/100,transform:n=>Zt.transform(n*100)},Xr={test:$u("hsl","hue"),parse:Cg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Zt.transform(li(e))+", "+Zt.transform(li(s))+", "+li(yi.transform(i))+")"},ze={test:n=>or.test(n)||qc.test(n)||Xr.test(n),parse:n=>or.test(n)?or.parse(n):Xr.test(n)?Xr.parse(n):qc.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?or.transform(n):Xr.transform(n),getAnimatableNone:n=>{const e=ze.parse(n);return e.alpha=0,ze.transform(e)}},zx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qx(n){return isNaN(n)&&typeof n=="string"&&(n.match(Fu)?.length||0)+(n.match(zx)?.length||0)>0}const Pg="number",Ag="color",Hx="var",Kx="var(",xm="${}",Gx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vi(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(Gx,m=>(ze.test(m)?(i.color.push(l),a.push(Ag),s.push(ze.parse(m))):m.startsWith(Kx)?(i.var.push(l),a.push(Hx),s.push(m)):(i.number.push(l),a.push(Pg),s.push(parseFloat(m))),++l,xm)).split(xm);return{values:s,split:h,indexes:i,types:a}}function Rg(n){return vi(n).values}function Og(n){const{split:e,types:s}=vi(n),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=s[u];h===Pg?l+=li(a[u]):h===Ag?l+=ze.transform(a[u]):l+=a[u]}return l}}const Jx=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function Yx(n){const e=Rg(n);return Og(n)(e.map(Jx))}const Mn={test:qx,parse:Rg,createTransformer:Og,getAnimatableNone:Yx};function _c(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Qx({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let a=0,l=0,u=0;if(!e)a=l=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;a=_c(m,h,n+1/3),l=_c(m,h,n),u=_c(m,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function ra(n,e){return s=>s>0?e:n}const Oe=(n,e,s)=>n+(e-n)*s,jc=(n,e,s)=>{const i=n*n,a=s*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Xx=[qc,or,Xr],Zx=n=>Xx.find(e=>e.test(n));function wm(n){const e=Zx(n);if(!e)return!1;let s=e.parse(n);return e===Xr&&(s=Qx(s)),s}const bm=(n,e)=>{const s=wm(n),i=wm(e);if(!s||!i)return ra(n,e);const a={...s};return l=>(a.red=jc(s.red,i.red,l),a.green=jc(s.green,i.green,l),a.blue=jc(s.blue,i.blue,l),a.alpha=Oe(s.alpha,i.alpha,l),or.transform(a))},Hc=new Set(["none","hidden"]);function ew(n,e){return Hc.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function tw(n,e){return s=>Oe(n,e,s)}function Uu(n){return typeof n=="number"?tw:typeof n=="string"?Mu(n)?ra:ze.test(n)?bm:sw:Array.isArray(n)?Ig:typeof n=="object"?ze.test(n)?bm:nw:ra}function Ig(n,e){const s=[...n],i=s.length,a=n.map((l,u)=>Uu(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)s[u]=a[u](l);return s}}function nw(n,e){const s={...n,...e},i={};for(const a in s)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Uu(n[a])(n[a],e[a]));return a=>{for(const l in i)s[l]=i[l](a);return s}}function rw(n,e){const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;s[a]=h,i[l]++}return s}const sw=(n,e)=>{const s=Mn.createTransformer(e),i=vi(n),a=vi(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Hc.has(n)&&!a.values.length||Hc.has(e)&&!i.values.length?ew(n,e):Si(Ig(rw(i,a),a.values),s):ra(n,e)};function Lg(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Oe(n,e,s):Uu(n)(n,e)}const iw=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Pe.update(e,s),stop:()=>Dn(e),now:()=>nt.isProcessing?nt.timestamp:vt.now()}},Dg=(n,e,s=10)=>{let i="";const a=Math.max(Math.round(e/s),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},sa=2e4;function Vu(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<sa;)e+=s,i=n.next(e);return e>=sa?1/0:e}function ow(n,e=100,s){const i=s({...n,keyframes:[0,e]}),a=Math.min(Vu(i),sa);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:It(a)}}const aw=5;function Mg(n,e,s){const i=Math.max(e-aw,0);return gg(s-n(i),e-i)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kc=.001;function lw({duration:n=De.duration,bounce:e=De.bounce,velocity:s=De.velocity,mass:i=De.mass}){let a,l,u=1-e;u=un(De.minDamping,De.maxDamping,u),n=un(De.minDuration,De.maxDuration,It(n)),u<1?(a=g=>{const y=g*u,v=y*n,w=y-s,_=Kc(g,u),E=Math.exp(-v);return kc-w/_*E},l=g=>{const v=g*u*n,w=v*s+s,_=Math.pow(u,2)*Math.pow(g,2)*n,E=Math.exp(-v),k=Kc(Math.pow(g,2),u);return(-a(g)+kc>0?-1:1)*((w-_)*E)/k}):(a=g=>{const y=Math.exp(-g*n),v=(g-s)*n+1;return-kc+y*v},l=g=>{const y=Math.exp(-g*n),v=(s-g)*(n*n);return y*v});const h=5/n,m=uw(a,l,h);if(n=Xt(n),isNaN(m))return{stiffness:De.stiffness,damping:De.damping,duration:n};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:n}}}const cw=12;function uw(n,e,s){let i=s;for(let a=1;a<cw;a++)i=i-n(i)/e(i);return i}function Kc(n,e){return n*Math.sqrt(1-e*e)}const dw=["duration","bounce"],hw=["stiffness","damping","mass"];function _m(n,e){return e.some(s=>n[s]!==void 0)}function fw(n){let e={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...n};if(!_m(n,hw)&&_m(n,dw))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),a=i*i,l=2*un(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:De.mass,stiffness:a,damping:l}}else{const s=lw(n);e={...e,...s,mass:De.mass},e.isResolvedFromDuration=!0}return e}function ia(n=De.visualDuration,e=De.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=s;const l=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:_}=fw({...s,velocity:-It(s.velocity||0)}),E=w||0,k=g/(2*Math.sqrt(m*y)),N=u-l,I=It(Math.sqrt(m/y)),O=Math.abs(N)<5;i||(i=O?De.restSpeed.granular:De.restSpeed.default),a||(a=O?De.restDelta.granular:De.restDelta.default);let A;if(k<1){const $=Kc(I,k);A=M=>{const q=Math.exp(-k*I*M);return u-q*((E+k*I*N)/$*Math.sin($*M)+N*Math.cos($*M))}}else if(k===1)A=$=>u-Math.exp(-I*$)*(N+(E+I*N)*$);else{const $=I*Math.sqrt(k*k-1);A=M=>{const q=Math.exp(-k*I*M),J=Math.min($*M,300);return u-q*((E+k*I*N)*Math.sinh(J)+$*N*Math.cosh(J))/$}}const D={calculatedDuration:_&&v||null,next:$=>{const M=A($);if(_)h.done=$>=v;else{let q=$===0?E:0;k<1&&(q=$===0?Xt(E):Mg(A,$,M));const J=Math.abs(q)<=i,se=Math.abs(u-M)<=a;h.done=J&&se}return h.value=h.done?u:M,h},toString:()=>{const $=Math.min(Vu(D),sa),M=Dg(q=>D.next($*q).value,$,30);return $+"ms "+M},toTransition:()=>{}};return D}ia.applyToOptions=n=>{const e=ow(n,100,ia);return n.ease=e.ease,n.duration=Xt(e.duration),n.type="keyframes",n};function Gc({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:m,restDelta:g=.5,restSpeed:y}){const v=n[0],w={done:!1,value:v},_=J=>h!==void 0&&J<h||m!==void 0&&J>m,E=J=>h===void 0?m:m===void 0||Math.abs(h-J)<Math.abs(m-J)?h:m;let k=s*e;const N=v+k,I=u===void 0?N:u(N);I!==N&&(k=I-v);const O=J=>-k*Math.exp(-J/i),A=J=>I+O(J),D=J=>{const se=O(J),pe=A(J);w.done=Math.abs(se)<=g,w.value=w.done?I:pe};let $,M;const q=J=>{_(w.value)&&($=J,M=ia({keyframes:[w.value,E(w.value)],velocity:Mg(A,J,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return q(0),{calculatedDuration:null,next:J=>{let se=!1;return!M&&$===void 0&&(se=!0,D(J),q(J)),$!==void 0&&J>=$?M.next(J-$):(!se&&D(J),w)}}}function mw(n,e,s){const i=[],a=s||dn.mix||Lg,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||Lt:e;h=Si(m,h)}i.push(h)}return i}function pw(n,e,{clamp:s=!0,ease:i,mixer:a}={}){const l=n.length;if(Au(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=mw(e,i,a),m=h.length,g=y=>{if(u&&y<n[0])return e[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const w=gi(n[v],n[v+1],y);return h[v](w)};return s?y=>g(un(n[0],n[l-1],y)):g}function gw(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const a=gi(0,e,i);n.push(Oe(s,1,a))}}function yw(n){const e=[0];return gw(e,n.length-1),e}function vw(n,e){return n.map(s=>s*e)}function xw(n,e){return n.map(()=>e||Sg).splice(0,n.length-1)}function ci({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const a=Px(i)?i.map(ym):ym(i),l={done:!1,value:e[0]},u=vw(s&&s.length===e.length?s:yw(e),n),h=pw(u,e,{ease:Array.isArray(a)?a:xw(e,a)});return{calculatedDuration:n,next:m=>(l.value=h(m),l.done=m>=n,l)}}const ww=n=>n!==null;function Wu(n,{repeat:e,repeatType:s="loop"},i,a=1){const l=n.filter(ww),h=a<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const bw={decay:Gc,inertia:Gc,tween:ci,keyframes:ci,spring:ia};function Fg(n){typeof n.type=="string"&&(n.type=bw[n.type])}class Bu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const _w=n=>n/100;class zu extends Bu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fg(e);const{type:s=ci,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const m=s||ci;m!==ci&&typeof h[0]!="number"&&(this.mixKeyframes=Si(_w,Lg(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Vu(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:_,type:E,onUpdate:k,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const I=this.currentTime-g*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?I<0:I>a;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let A=this.currentTime,D=i;if(v){const J=Math.min(this.currentTime,a)/h;let se=Math.floor(J),pe=J%1;!pe&&J>=1&&(pe=1),pe===1&&se--,se=Math.min(se,v+1),!!(se%2)&&(w==="reverse"?(pe=1-pe,_&&(pe-=_/h)):w==="mirror"&&(D=u)),A=un(0,1,pe)*h}const $=O?{done:!1,value:y[0]}:D.next(A);l&&($.value=l($.value));let{done:M}=$;!O&&m!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return q&&E!==Gc&&($.value=Wu(y,this.options,N,this.speed)),k&&k($.value),q&&this.finish(),$}then(e,s){return this.finished.then(e,s)}get duration(){return It(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+It(e)}get time(){return It(this.currentTime)}set time(e){e=Xt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=It(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=iw,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jw(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ar=n=>n*180/Math.PI,Jc=n=>{const e=ar(Math.atan2(n[1],n[0]));return Yc(e)},kw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Jc,rotateZ:Jc,skewX:n=>ar(Math.atan(n[1])),skewY:n=>ar(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Yc=n=>(n=n%360,n<0&&(n+=360),n),jm=Jc,km=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Sm=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Sw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:km,scaleY:Sm,scale:n=>(km(n)+Sm(n))/2,rotateX:n=>Yc(ar(Math.atan2(n[6],n[5]))),rotateY:n=>Yc(ar(Math.atan2(-n[2],n[0]))),rotateZ:jm,rotate:jm,skewX:n=>ar(Math.atan(n[4])),skewY:n=>ar(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Qc(n){return n.includes("scale")?1:0}function Xc(n,e){if(!n||n==="none")return Qc(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(s)i=Sw,a=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=kw,a=h}if(!a)return Qc(e);const l=i[e],u=a[1].split(",").map(Ew);return typeof l=="function"?l(u):u[l]}const Nw=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Xc(s,e)};function Ew(n){return parseFloat(n.trim())}const ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ps=new Set(ms),Nm=n=>n===fs||n===le,Tw=new Set(["x","y","z"]),Cw=ms.filter(n=>!Tw.has(n));function Pw(n){const e=[];return Cw.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const ur={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Xc(e,"x"),y:(n,{transform:e})=>Xc(e,"y")};ur.translateX=ur.x;ur.translateY=ur.y;const dr=new Set;let Zc=!1,eu=!1,tu=!1;function $g(){if(eu){const n=Array.from(dr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const a=Pw(i);a.length&&(s.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=s.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}eu=!1,Zc=!1,dr.forEach(n=>n.complete(tu)),dr.clear()}function Ug(){dr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(eu=!0)})}function Aw(){tu=!0,Ug(),$g(),tu=!1}class qu{constructor(e,s,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(dr.add(this),Zc||(Zc=!0,Pe.read(Ug),Pe.resolveKeyframes($g))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&s){const h=i.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}jw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dr.delete(this)}cancel(){this.state==="scheduled"&&(dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rw=n=>n.startsWith("--");function Ow(n,e,s){Rw(e)?n.style.setProperty(e,s):n.style[e]=s}const Iw=Ru(()=>window.ScrollTimeline!==void 0),Lw={};function Dw(n,e){const s=Ru(n);return()=>Lw[e]??s()}const Vg=Dw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oi=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,Em={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oi([0,.65,.55,1]),circOut:oi([.55,0,1,.45]),backIn:oi([.31,.01,.66,-.59]),backOut:oi([.33,1.53,.69,.99])};function Wg(n,e){if(n)return typeof n=="function"?Vg()?Dg(n,e):"ease-out":Ng(n)?oi(n):Array.isArray(n)?n.map(s=>Wg(s,e)||Em.easeOut):Em[n]}function Mw(n,e,s,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:m}={},g=void 0){const y={[e]:s};m&&(y.offset=m);const v=Wg(h,a);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(y,w)}function Bg(n){return typeof n=="function"&&"applyToOptions"in n}function Fw({type:n,...e}){return Bg(n)&&Vg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $w extends Bu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Au(typeof e.type!="string");const g=Fw(e);this.animation=Mw(s,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Wu(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Ow(s,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return It(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+It(e)}get time(){return It(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Iw()?(this.animation.timeline=e,Lt):s(this)}}const zg={anticipate:_g,backInOut:bg,circInOut:kg};function Uw(n){return n in zg}function Vw(n){typeof n.ease=="string"&&Uw(n.ease)&&(n.ease=zg[n.ease])}const Tm=10;class Ww extends $w{constructor(e){Vw(e),Fg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new zu({...u,autoplay:!1}),m=Xt(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-Tm).value,h.sample(m).value,Tm),h.stop()}}const Cm=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Mn.test(n)||n==="0")&&!n.startsWith("url("));function Bw(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function zw(n,e,s,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=Cm(a,e),h=Cm(l,e);return!u||!h?!1:Bw(n)||(s==="spring"||Bg(s))&&i}function nu(n){n.duration=0,n.type="keyframes"}const qw=new Set(["opacity","clipPath","filter","transform"]),Hw=Ru(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kw(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return Hw()&&s&&qw.has(s)&&(s!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Gw=40;class Jw extends Bu{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:m,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vt.now();const w={autoplay:e,delay:s,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,...v},_=y?.KeyframeResolver||qu;this.keyframeResolver=new _(h,(E,k,N)=>this.onKeyframesResolved(E,k,w,!N),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:m,isHandoff:g,onUpdate:y}=i;this.resolvedAt=vt.now(),zw(e,l,u,h)||((dn.instantAnimations||!m)&&y?.(Wu(e,i,s)),e[0]=e[e.length-1],nu(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Gw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},_=!g&&Kw(w)?new Ww({...w,element:w.motionValue.owner.current}):new zu(w);_.finished.then(()=>this.notifyFinished()).catch(Lt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Aw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Yw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qw(n){const e=Yw.exec(n);if(!e)return[,];const[,s,i,a]=e;return[`--${s??i}`,a]}function qg(n,e,s=1){const[i,a]=Qw(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return fg(u)?parseFloat(u):u}return Mu(a)?qg(a,e,s+1):a}function Hu(n,e){return n?.[e]??n?.default??n}const Hg=new Set(["width","height","top","left","right","bottom",...ms]),Xw={test:n=>n==="auto",parse:n=>n},Kg=n=>e=>e.test(n),Gg=[fs,le,Zt,Rn,Bx,Wx,Xw],Pm=n=>Gg.find(Kg(n));function Zw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pg(n):!0}const e1=new Set(["brightness","contrast","saturate","opacity"]);function t1(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Fu)||[];if(!i)return n;const a=s.replace(i,"");let l=e1.has(e)?1:0;return i!==s&&(l*=100),e+"("+l+a+")"}const n1=/\b([a-z-]*)\(.*?\)/gu,ru={...Mn,getAnimatableNone:n=>{const e=n.match(n1);return e?e.map(t1).join(" "):n}},Am={...fs,transform:Math.round},r1={rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:zo,scaleX:zo,scaleY:zo,scaleZ:zo,skew:Rn,skewX:Rn,skewY:Rn,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:yi,originX:vm,originY:vm,originZ:le},Ku={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...r1,zIndex:Am,fillOpacity:yi,strokeOpacity:yi,numOctaves:Am},s1={...Ku,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:ru,WebkitFilter:ru},Jg=n=>s1[n];function Yg(n,e){let s=Jg(n);return s!==ru&&(s=Mn),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const i1=new Set(["auto","none","0"]);function o1(n,e,s){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!i1.has(l)&&vi(l).values.length&&(a=n[i]),i++}if(a&&s)for(const l of e)n[l]=Yg(s,a)}class a1 extends qu{constructor(e,s,i,a,l){super(e,s,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Mu(g))){const y=qg(g,s.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Hg.has(i)||e.length!==2)return;const[a,l]=e,u=Pm(a),h=Pm(l);if(u!==h)if(Nm(u)&&Nm(h))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else ur[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Zw(e[a]))&&i.push(a);i.length&&o1(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ur[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ur[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function l1(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=s?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Qg=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Xg(n){return mg(n)&&"offsetHeight"in n}const Rm=30,c1=n=>!isNaN(parseFloat(n));class u1{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=vt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=c1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ou);const i=this.events[e].add(s);return e==="change"?()=>{i(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rm)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Rm);return gg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function os(n,e){return new u1(n,e)}const{schedule:Gu}=Eg(queueMicrotask,!1),zt={x:!1,y:!1};function Zg(){return zt.x||zt.y}function d1(n){return n==="x"||n==="y"?zt[n]?null:(zt[n]=!0,()=>{zt[n]=!1}):zt.x||zt.y?null:(zt.x=zt.y=!0,()=>{zt.x=zt.y=!1})}function ey(n,e){const s=l1(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[s,a,()=>i.abort()]}function Om(n){return!(n.pointerType==="touch"||Zg())}function h1(n,e,s={}){const[i,a,l]=ey(n,s),u=h=>{if(!Om(h))return;const{target:m}=h,g=e(m,h);if(typeof g!="function"||!m)return;const y=v=>{Om(v)&&(g(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const ty=(n,e)=>e?n===e?!0:ty(n,e.parentElement):!1,Ju=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,f1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function m1(n){return f1.has(n.tagName)||n.tabIndex!==-1}const Zo=new WeakSet;function Im(n){return e=>{e.key==="Enter"&&n(e)}}function Sc(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p1=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=Im(()=>{if(Zo.has(s))return;Sc(s,"down");const a=Im(()=>{Sc(s,"up")}),l=()=>Sc(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function Lm(n){return Ju(n)&&!Zg()}function g1(n,e,s={}){const[i,a,l]=ey(n,s),u=h=>{const m=h.currentTarget;if(!Lm(h))return;Zo.add(m);const g=e(m,h),y=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Zo.has(m)&&Zo.delete(m),Lm(_)&&typeof g=="function"&&g(_,{success:E})},v=_=>{y(_,m===window||m===document||s.useGlobalTarget||ty(m,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Xg(h)&&(h.addEventListener("focus",g=>p1(g,a)),!m1(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function ny(n){return mg(n)&&"ownerSVGElement"in n}function y1(n){return ny(n)&&n.tagName==="svg"}const at=n=>!!(n&&n.getVelocity),v1=[...Gg,ze,Mn],x1=n=>v1.find(Kg(n)),Yu=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Dm(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function w1(...n){return e=>{let s=!1;const i=n.map(a=>{const l=Dm(a,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Dm(n[a],null)}}}}function b1(...n){return C.useCallback(w1(...n),n)}class _1 extends C.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,a=Xg(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function j1({children:n,isPresent:e,anchorX:s,root:i}){const a=C.useId(),l=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=C.useContext(Yu),m=b1(l,n?.ref);return C.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:w,right:_}=u.current;if(e||!l.current||!g||!y)return;const E=s==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");h&&(k.nonce=h);const N=i??document.head;return N.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(k)&&N.removeChild(k)}},[e]),d.jsx(_1,{isPresent:e,childRef:l,sizeRef:u,children:C.cloneElement(n,{ref:m})})}const k1=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:m})=>{const g=Eu(S1),y=C.useId();let v=!0,w=C.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:s,custom:a,onExitComplete:_=>{g.set(_,!0);for(const E of g.values())if(!E)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[s,g,i]);return l&&v&&(w={...w}),C.useMemo(()=>{g.forEach((_,E)=>g.set(E,!1))},[s]),C.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),u==="popLayout"&&(n=d.jsx(j1,{isPresent:s,anchorX:h,root:m,children:n})),d.jsx(fa.Provider,{value:w,children:n})};function S1(){return new Map}function ry(n=!0){const e=C.useContext(fa);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=e,l=C.useId();C.useEffect(()=>{if(n)return a(l)},[n]);const u=C.useCallback(()=>n&&i&&i(l),[l,i,n]);return!s&&i?[!1,u]:[!0]}const qo=n=>n.key||"";function Mm(n){const e=[];return C.Children.forEach(n,s=>{C.isValidElement(s)&&e.push(s)}),e}const Ti=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:m})=>{const[g,y]=ry(u),v=C.useMemo(()=>Mm(n),[n]),w=u&&!g?[]:v.map(qo),_=C.useRef(!0),E=C.useRef(v),k=Eu(()=>new Map),[N,I]=C.useState(v),[O,A]=C.useState(v);hg(()=>{_.current=!1,E.current=v;for(let M=0;M<O.length;M++){const q=qo(O[M]);w.includes(q)?k.delete(q):k.get(q)!==!0&&k.set(q,!1)}},[O,w.length,w.join("-")]);const D=[];if(v!==N){let M=[...v];for(let q=0;q<O.length;q++){const J=O[q],se=qo(J);w.includes(se)||(M.splice(q,0,J),D.push(J))}return l==="wait"&&D.length&&(M=D),A(Mm(M)),I(v),null}const{forceRender:$}=C.useContext(Nu);return d.jsx(d.Fragment,{children:O.map(M=>{const q=qo(M),J=u&&!g?!1:v===O||w.includes(q),se=()=>{if(k.has(q))k.set(q,!0);else return;let pe=!0;k.forEach(Me=>{Me||(pe=!1)}),pe&&($?.(),A(E.current),u&&y?.(),i&&i())};return d.jsx(k1,{isPresent:J,initial:!_.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:J?void 0:se,anchorX:h,children:M},q)})})},sy=C.createContext({strict:!1}),Fm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const n in Fm)as[n]={isEnabled:e=>Fm[n].some(s=>!!e[s])};function N1(n){for(const e in n)as[e]={...as[e],...n[e]}}const E1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oa(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||E1.has(n)}let iy=n=>!oa(n);function T1(n){typeof n=="function"&&(iy=e=>e.startsWith("on")?!oa(e):n(e))}try{T1(require("@emotion/is-prop-valid").default)}catch{}function C1(n,e,s){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(iy(a)||s===!0&&oa(a)||!e&&!oa(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ma=C.createContext({});function pa(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function xi(n){return typeof n=="string"||Array.isArray(n)}const Qu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xu=["initial",...Qu];function ga(n){return pa(n.animate)||Xu.some(e=>xi(n[e]))}function oy(n){return!!(ga(n)||n.variants)}function P1(n,e){if(ga(n)){const{initial:s,animate:i}=n;return{initial:s===!1||xi(s)?s:void 0,animate:xi(i)?i:void 0}}return n.inherit!==!1?e:{}}function A1(n){const{initial:e,animate:s}=P1(n,C.useContext(ma));return C.useMemo(()=>({initial:e,animate:s}),[$m(e),$m(s)])}function $m(n){return Array.isArray(n)?n.join(" "):n}const wi={};function R1(n){for(const e in n)wi[e]=n[e],Du(e)&&(wi[e].isCSSVariable=!0)}function ay(n,{layout:e,layoutId:s}){return ps.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!wi[n]||n==="opacity")}const O1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I1=ms.length;function L1(n,e,s){let i="",a=!0;for(let l=0;l<I1;l++){const u=ms[l],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const g=Qg(h,Ku[u]);if(!m){a=!1;const y=O1[u]||u;i+=`${y}(${g}) `}s&&(e[u]=g)}}return i=i.trim(),s?i=s(e,a?"":i):a&&(i="none"),i}function Zu(n,e,s){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const m in e){const g=e[m];if(ps.has(m)){u=!0;continue}else if(Du(m)){a[m]=g;continue}else{const y=Qg(g,Ku[m]);m.startsWith("origin")?(h=!0,l[m]=y):i[m]=y}}if(e.transform||(u||s?i.transform=L1(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${g} ${y}`}}const ed=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ly(n,e,s){for(const i in e)!at(e[i])&&!ay(i,s)&&(n[i]=e[i])}function D1({transformTemplate:n},e){return C.useMemo(()=>{const s=ed();return Zu(s,e,n),Object.assign({},s.vars,s.style)},[e])}function M1(n,e){const s=n.style||{},i={};return ly(i,s,n),Object.assign(i,D1(n,e)),i}function F1(n,e){const s={},i=M1(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const $1={offset:"stroke-dashoffset",array:"stroke-dasharray"},U1={offset:"strokeDashoffset",array:"strokeDasharray"};function V1(n,e,s=1,i=0,a=!0){n.pathLength=1;const l=a?$1:U1;n[l.offset]=le.transform(-i);const u=le.transform(e),h=le.transform(s);n[l.array]=`${u} ${h}`}function cy(n,{attrX:e,attrY:s,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,g,y){if(Zu(n,h,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),a!==void 0&&V1(v,a,l,u,!1)}const uy=()=>({...ed(),attrs:{}}),dy=n=>typeof n=="string"&&n.toLowerCase()==="svg";function W1(n,e,s,i){const a=C.useMemo(()=>{const l=uy();return cy(l,e,dy(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};ly(l,n.style,n),a.style={...l,...a.style}}return a}const B1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function td(n){return typeof n!="string"||n.includes("-")?!1:!!(B1.indexOf(n)>-1||/[A-Z]/u.test(n))}function z1(n,e,s,{latestValues:i},a,l=!1){const h=(td(n)?W1:F1)(e,i,a,n),m=C1(e,typeof n=="string",l),g=n!==C.Fragment?{...m,...h,ref:s}:{},{children:y}=e,v=C.useMemo(()=>at(y)?y.get():y,[y]);return C.createElement(n,{...g,children:v})}function Um(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function nd(n,e,s,i){if(typeof e=="function"){const[a,l]=Um(i);e=e(s!==void 0?s:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=Um(i);e=e(s!==void 0?s:n.custom,a,l)}return e}function ea(n){return at(n)?n.get():n}function q1({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,a){return{latestValues:H1(s,i,a,n),renderState:e()}}function H1(n,e,s,i){const a={},l=i(n,{});for(const w in l)a[w]=ea(l[w]);let{initial:u,animate:h}=n;const m=ga(n),g=oy(n);e&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=s?s.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!pa(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const E=nd(n,w[_]);if(E){const{transitionEnd:k,transition:N,...I}=E;for(const O in I){let A=I[O];if(Array.isArray(A)){const D=y?A.length-1:0;A=A[D]}A!==null&&(a[O]=A)}for(const O in k)a[O]=k[O]}}}return a}const hy=n=>(e,s)=>{const i=C.useContext(ma),a=C.useContext(fa),l=()=>q1(n,e,i,a);return s?l():Eu(l)};function rd(n,e,s){const{style:i}=n,a={};for(const l in i)(at(i[l])||e.style&&at(e.style[l])||ay(l,n)||s?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const K1=hy({scrapeMotionValuesFromProps:rd,createRenderState:ed});function fy(n,e,s){const i=rd(n,e,s);for(const a in n)if(at(n[a])||at(e[a])){const l=ms.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const G1=hy({scrapeMotionValuesFromProps:fy,createRenderState:uy}),J1=Symbol.for("motionComponentSymbol");function Zr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Y1(n,e,s){return C.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Zr(s)&&(s.current=i))},[e])}const sd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q1="framerAppearId",my="data-"+sd(Q1),py=C.createContext({});function X1(n,e,s,i,a){const{visualElement:l}=C.useContext(ma),u=C.useContext(sy),h=C.useContext(fa),m=C.useContext(Yu).reducedMotion,g=C.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,v=C.useContext(py);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Z1(g.current,s,a,v);const w=C.useRef(!1);C.useInsertionEffect(()=>{y&&w.current&&y.update(s,h)});const _=s[my],E=C.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return hg(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),E.current=!1),y.enteringChildren=void 0)}),y}function Z1(n,e,s,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:gy(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Zr(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:g})}function gy(n){if(n)return n.options.allowProjection!==!1?n.projection:gy(n.parent)}function Nc(n,{forwardMotionProps:e=!1}={},s,i){s&&N1(s);const a=td(n)?G1:K1;function l(h,m){let g;const y={...C.useContext(Yu),...h,layoutId:eb(h)},{isStatic:v}=y,w=A1(h),_=a(h,v);if(!v&&Tu){tb();const E=nb(y);g=E.MeasureLayout,w.visualElement=X1(n,_,y,i,E.ProjectionNode)}return d.jsxs(ma.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...y}):null,z1(n,h,Y1(_,w.visualElement,m),_,v,e)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=C.forwardRef(l);return u[J1]=n,u}function eb({layoutId:n}){const e=C.useContext(Nu).id;return e&&n!==void 0?e+"-"+n:n}function tb(n,e){C.useContext(sy).strict}function nb(n){const{drag:e,layout:s}=as;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function rb(n,e){if(typeof Proxy>"u")return Nc;const s=new Map,i=(l,u)=>Nc(l,u,n,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(s.has(u)||s.set(u,Nc(u,void 0,n,e)),s.get(u))})}function yy({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function sb({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ib(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Ec(n){return n===void 0||n===1}function su({scale:n,scaleX:e,scaleY:s}){return!Ec(n)||!Ec(e)||!Ec(s)}function nr(n){return su(n)||vy(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vy(n){return Vm(n.x)||Vm(n.y)}function Vm(n){return n&&n!=="0%"}function aa(n,e,s){const i=n-s,a=e*i;return s+a}function Wm(n,e,s,i,a){return a!==void 0&&(n=aa(n,a,i)),aa(n,s,i)+e}function iu(n,e=0,s=1,i,a){n.min=Wm(n.min,e,s,i,a),n.max=Wm(n.max,e,s,i,a)}function xy(n,{x:e,y:s}){iu(n.x,e.translate,e.scale,e.originPoint),iu(n.y,s.translate,s.scale,s.originPoint)}const Bm=.999999999999,zm=1.0000000000001;function ob(n,e,s,i=!1){const a=s.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=s[h],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ts(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,xy(n,u)),i&&nr(l.latestValues)&&ts(n,l.latestValues))}e.x<zm&&e.x>Bm&&(e.x=1),e.y<zm&&e.y>Bm&&(e.y=1)}function es(n,e){n.min=n.min+e,n.max=n.max+e}function qm(n,e,s,i,a=.5){const l=Oe(n.min,n.max,a);iu(n,e,s,l,i)}function ts(n,e){qm(n.x,e.x,e.scaleX,e.scale,e.originX),qm(n.y,e.y,e.scaleY,e.scale,e.originY)}function wy(n,e){return yy(ib(n.getBoundingClientRect(),e))}function ab(n,e,s){const i=wy(n,s),{scroll:a}=e;return a&&(es(i.x,a.offset.x),es(i.y,a.offset.y)),i}const Hm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ns=()=>({x:Hm(),y:Hm()}),Km=()=>({min:0,max:0}),Ue=()=>({x:Km(),y:Km()}),ou={current:null},by={current:!1};function lb(){if(by.current=!0,!!Tu)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ou.current=n.matches;n.addEventListener("change",e),e()}else ou.current=!1}const cb=new WeakMap;function ub(n,e,s){for(const i in e){const a=e[i],l=s[i];if(at(a))n.addValue(i,a);else if(at(l))n.addValue(i,os(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,os(u!==void 0?u:a,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Gm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class db{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=vt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Pe.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ga(s),this.isVariantNode=oy(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const _=v[w];m[w]!==void 0&&at(_)&&_.set(m[w])}}mount(e){this.current=e,cb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),by.current||lb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ou.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ps.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in as){const s=as[e];if(!s)continue;const{isEnabled:i,Feature:a}=s;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Gm.length;i++){const a=Gm[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=ub(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=os(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(fg(i)||pg(i))?i=parseFloat(i):!x1(i)&&Mn.test(s)&&(i=Yg(e,s)),this.setBaseTarget(e,at(i)?i.get():i)),at(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=nd(this.props,s,this.presenceContext?.custom);l&&(i=l[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!at(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ou),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Gu.render(this.render)}}class _y extends db{constructor(){super(...arguments),this.KeyframeResolver=a1}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;at(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function jy(n,{style:e,vars:s},i,a){const l=n.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in s)l.setProperty(u,s[u])}function hb(n){return window.getComputedStyle(n)}class fb extends _y{constructor(){super(...arguments),this.type="html",this.renderInstance=jy}readValueFromInstance(e,s){if(ps.has(s))return this.projection?.isProjecting?Qc(s):Nw(e,s);{const i=hb(e),a=(Du(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return wy(e,s)}build(e,s,i){Zu(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return rd(e,s,i)}}const ky=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mb(n,e,s,i){jy(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(ky.has(a)?a:sd(a),e.attrs[a])}class pb extends _y{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ps.has(s)){const i=Jg(s);return i&&i.default||0}return s=ky.has(s)?s:sd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return fy(e,s,i)}build(e,s,i){cy(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,a){mb(e,s,i,a)}mount(e){this.isSVGTag=dy(e.tagName),super.mount(e)}}const gb=(n,e)=>td(n)?new pb(e):new fb(e,{allowProjection:n!==C.Fragment});function rs(n,e,s){const i=n.getProps();return nd(i,e,s!==void 0?s:i.custom,n)}const au=n=>Array.isArray(n);function yb(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,os(s))}function vb(n){return au(n)?n[n.length-1]||0:n}function xb(n,e){const s=rs(n,e);let{transitionEnd:i={},transition:a={},...l}=s||{};l={...l,...i};for(const u in l){const h=vb(l[u]);yb(n,u,h)}}function wb(n){return!!(at(n)&&n.add)}function lu(n,e){const s=n.getValue("willChange");if(wb(s))return s.add(e);if(!s&&dn.WillChange){const i=new dn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Sy(n){return n.props[my]}const bb=n=>n!==null;function _b(n,{repeat:e,repeatType:s="loop"},i){const a=n.filter(bb),l=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[l]}const jb={type:"spring",stiffness:500,damping:25,restSpeed:10},kb=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Sb={type:"keyframes",duration:.8},Nb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Eb=(n,{keyframes:e})=>e.length>2?Sb:ps.has(n)?n.startsWith("scale")?kb(e[1]):jb:Nb;function Tb({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const id=(n,e,s,i={},a,l)=>u=>{const h=Hu(i,n)||{},m=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Xt(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:l?void 0:a};Tb(h)||Object.assign(y,Eb(n,y)),y.duration&&(y.duration=Xt(y.duration)),y.repeatDelay&&(y.repeatDelay=Xt(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(nu(y),y.delay===0&&(v=!0)),(dn.instantAnimations||dn.skipAnimations)&&(v=!0,nu(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=_b(y.keyframes,h);if(w!==void 0){Pe.update(()=>{y.onUpdate(w),y.onComplete()});return}}return h.isSync?new zu(y):new Jw(y)};function Cb({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function Ny(n,e,{delay:s=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in h){const v=n.getValue(y,n.latestValues[y]??null),w=h[y];if(w===void 0||g&&Cb(g,y))continue;const _={delay:s,...Hu(l||{},y)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===E&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const I=Sy(n);if(I){const O=window.MotionHandoffAnimation(I,y,Pe);O!==null&&(_.startTime=O,k=!0)}}lu(n,y),v.start(id(y,v,w,n.shouldReduceMotion&&Hg.has(y)?{type:!1}:_,n,k));const N=v.animation;N&&m.push(N)}return u&&Promise.all(m).then(()=>{Pe.update(()=>{u&&xb(n,u)})}),m}function Ey(n,e,s,i=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof s=="function"?s(l,u):a===1?l*i:h-l*i}function cu(n,e,s={}){const i=rs(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(Ny(n,i,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return Pb(n,e,m,g,y,v,s)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(s.delay)])}function Pb(n,e,s=0,i=0,a=0,l=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),h.push(cu(m,e,{...u,delay:s+(typeof i=="function"?0:i)+Ey(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function Ab(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>cu(n,l,s));i=Promise.all(a)}else if(typeof e=="string")i=cu(n,e,s);else{const a=typeof e=="function"?rs(n,e,s.custom):e;i=Promise.all(Ny(n,a,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function Ty(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const Rb=Xu.length;function Cy(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?Cy(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<Rb;s++){const i=Xu[s],a=n.props[i];(xi(a)||a===!1)&&(e[i]=a)}return e}const Ob=[...Qu].reverse(),Ib=Qu.length;function Lb(n){return e=>Promise.all(e.map(({animation:s,options:i})=>Ab(n,s,i)))}function Db(n){let e=Lb(n),s=Jm(),i=!0;const a=m=>(g,y)=>{const v=rs(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:_,...E}=v;g={...g,...E,..._}}return g};function l(m){e=m(n)}function u(m){const{props:g}=n,y=Cy(n.parent)||{},v=[],w=new Set;let _={},E=1/0;for(let N=0;N<Ib;N++){const I=Ob[N],O=s[I],A=g[I]!==void 0?g[I]:y[I],D=xi(A),$=I===m?O.isActive:null;$===!1&&(E=N);let M=A===y[I]&&A!==g[I]&&D;if(M&&i&&n.manuallyAnimateOnMount&&(M=!1),O.protectedKeys={..._},!O.isActive&&$===null||!A&&!O.prevProp||pa(A)||typeof A=="boolean")continue;const q=Mb(O.prevProp,A);let J=q||I===m&&O.isActive&&!M&&D||N>E&&D,se=!1;const pe=Array.isArray(A)?A:[A];let Me=pe.reduce(a(I),{});$===!1&&(Me={});const{prevResolvedValues:Je={}}=O,Ie={...Je,...Me},F=K=>{J=!0,w.has(K)&&(se=!0,w.delete(K)),O.needsAnimating[K]=!0;const V=n.getValue(K);V&&(V.liveStyle=!1)};for(const K in Ie){const V=Me[K],Y=Je[K];if(_.hasOwnProperty(K))continue;let G=!1;au(V)&&au(Y)?G=!Ty(V,Y):G=V!==Y,G?V!=null?F(K):w.add(K):V!==void 0&&w.has(K)?F(K):O.protectedKeys[K]=!0}O.prevProp=A,O.prevResolvedValues=Me,O.isActive&&(_={..._,...Me}),i&&n.blockInitialAnimation&&(J=!1);const ne=M&&q;J&&(!ne||se)&&v.push(...pe.map(K=>{const V={type:I};if(typeof K=="string"&&i&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,G=rs(Y,K);if(Y.enteringChildren&&G){const{delayChildren:T}=G.transition||{};V.delay=Ey(Y.enteringChildren,n,T)}}return{animation:K,options:V}}))}if(w.size){const N={};if(typeof g.initial!="boolean"){const I=rs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);I&&I.transition&&(N.transition=I.transition)}w.forEach(I=>{const O=n.getBaseTarget(I),A=n.getValue(I);A&&(A.liveStyle=!0),N[I]=O??null}),v.push({animation:N})}let k=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function h(m,g){if(s[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,g)),s[m].isActive=g;const y=u(m);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>s,reset:()=>{s=Jm()}}}function Mb(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Ty(e,n):!1}function Zn(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jm(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class Fn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fb extends Fn{constructor(e){super(e),e.animationState||(e.animationState=Db(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $b=0;class Ub extends Fn{constructor(){super(...arguments),this.id=$b++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Vb={animation:{Feature:Fb},exit:{Feature:Ub}};function bi(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function Ci(n){return{point:{x:n.pageX,y:n.pageY}}}const Wb=n=>e=>Ju(e)&&n(e,Ci(e));function ui(n,e,s,i){return bi(n,e,Wb(s),i)}const Py=1e-4,Bb=1-Py,zb=1+Py,Ay=.01,qb=0-Ay,Hb=0+Ay;function ut(n){return n.max-n.min}function Kb(n,e,s){return Math.abs(n-e)<=s}function Ym(n,e,s,i=.5){n.origin=i,n.originPoint=Oe(e.min,e.max,n.origin),n.scale=ut(s)/ut(e),n.translate=Oe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=Bb&&n.scale<=zb||isNaN(n.scale))&&(n.scale=1),(n.translate>=qb&&n.translate<=Hb||isNaN(n.translate))&&(n.translate=0)}function di(n,e,s,i){Ym(n.x,e.x,s.x,i?i.originX:void 0),Ym(n.y,e.y,s.y,i?i.originY:void 0)}function Qm(n,e,s){n.min=s.min+e.min,n.max=n.min+ut(e)}function Gb(n,e,s){Qm(n.x,e.x,s.x),Qm(n.y,e.y,s.y)}function Xm(n,e,s){n.min=e.min-s.min,n.max=n.min+ut(e)}function hi(n,e,s){Xm(n.x,e.x,s.x),Xm(n.y,e.y,s.y)}function Rt(n){return[n("x"),n("y")]}const Ry=({current:n})=>n?n.ownerDocument.defaultView:null,Zm=(n,e)=>Math.abs(n-e);function Jb(n,e){const s=Zm(n.x,e.x),i=Zm(n.y,e.y);return Math.sqrt(s**2+i**2)}class Oy{constructor(e,s,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Cc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=Jb(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:k}=w,{timestamp:N}=nt;this.history.push({...k,timestamp:N});const{onStart:I,onMove:O}=this.handlers;_||(I&&I(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Tc(_,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:k,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Cc(w.type==="pointercancel"?this.lastMoveEventInfo:Tc(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,I),k&&k(w,I)},!Ju(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=Ci(e),m=Tc(h,this.transformPagePoint),{point:g}=m,{timestamp:y}=nt;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(e,Cc(m,this.history)),this.removeListeners=Si(ui(this.contextWindow,"pointermove",this.handlePointerMove),ui(this.contextWindow,"pointerup",this.handlePointerUp),ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Tc(n,e){return e?{point:e(n.point)}:n}function ep(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cc({point:n},e){return{point:n,delta:ep(n,Iy(e)),offset:ep(n,Yb(e)),velocity:Qb(e,.1)}}function Yb(n){return n[0]}function Iy(n){return n[n.length-1]}function Qb(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const a=Iy(n);for(;s>=0&&(i=n[s],!(a.timestamp-i.timestamp>Xt(e)));)s--;if(!i)return{x:0,y:0};const l=It(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Xb(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Oe(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Oe(s,n,i.max):Math.min(n,s)),n}function tp(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function Zb(n,{top:e,left:s,bottom:i,right:a}){return{x:tp(n.x,s,a),y:tp(n.y,e,i)}}function np(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function e_(n,e){return{x:np(n.x,e.x),y:np(n.y,e.y)}}function t_(n,e){let s=.5;const i=ut(n),a=ut(e);return a>i?s=gi(e.min,e.max-i,n.min):i>a&&(s=gi(n.min,n.max-a,e.min)),un(0,1,s)}function n_(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const uu=.35;function r_(n=uu){return n===!1?n=0:n===!0&&(n=uu),{x:rp(n,"left","right"),y:rp(n,"top","bottom")}}function rp(n,e,s){return{min:sp(n,e),max:sp(n,s)}}function sp(n,e){return typeof n=="number"?n:n[e]||0}const s_=new WeakMap;class i_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ci(v).point)},u=(v,w)=>{const{drag:_,dragPropagation:E,onDragStart:k}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d1(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(I=>{let O=this.getAxisMotionValue(I).get()||0;if(Zt.test(O)){const{projection:A}=this.visualElement;if(A&&A.layout){const D=A.layout.layoutBox[I];D&&(O=ut(D)*(parseFloat(O)/100))}}this.originPoint[I]=O}),k&&Pe.postRender(()=>k(v,w)),lu(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:k,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=w;if(E&&this.currentDirection===null){this.currentDirection=o_(I),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,I),this.updateAxis("y",w.point,I),this.visualElement.render(),N&&N(v,w)},m=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Rt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Oy(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Ry(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,a=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Pe.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:a}=this.getProps();if(!i||!Ho(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Xb(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Zb(i.layoutBox,e):this.constraints=!1,this.elastic=r_(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=n_(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Zr(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ab(i,a.root,this.visualElement.getTransformPagePoint());let u=e_(a.layout.layoutBox,l);if(s){const h=s(sb(u));this.hasMutatedConstraints=!!h,h&&(u=yy(h))}return u}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=Rt(y=>{if(!Ho(y,s,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,_=a?40:1e7,E={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(g).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return lu(this.visualElement,e),i.start(id(e,i,0,s,this.visualElement,!1))}stopAnimation(){Rt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[s];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rt(s=>{const{drag:i}=this.getProps();if(!Ho(s,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(s);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[s];l.set(e[s]-Oe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Zr(s)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rt(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();a[u]=t_({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rt(u=>{if(!Ho(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];h.set(Oe(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;s_.set(this.visualElement,this);const e=this.visualElement.current,s=ui(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Zr(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pe.read(i);const u=bi(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rt(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),s(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=uu,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Ho(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function o_(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class a_ extends Fn{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new i_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ip=n=>(e,s)=>{n&&Pe.postRender(()=>n(e,s))};class l_ extends Fn{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new Oy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ry(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:ip(e),onStart:ip(s),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Pe.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ui(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ta={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function op(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const si={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(le.test(n))n=parseFloat(n);else return n;const s=op(n,e.target.x),i=op(n,e.target.y);return`${s}% ${i}%`}},c_={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,a=Mn.parse(n);if(a.length>5)return i;const l=Mn.createTransformer(n),u=typeof a[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;a[0+u]/=h,a[1+u]/=m;const g=Oe(h,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let Pc=!1;class u_ extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;R1(d_),l&&(s.group&&s.group.add(l),i&&i.register&&a&&i.register(l),Pc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ta.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Pc=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Pe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gu.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:a}=e;Pc=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ly(n){const[e,s]=ry(),i=C.useContext(Nu);return d.jsx(u_,{...n,layoutGroup:i,switchLayoutGroup:C.useContext(py),isPresent:e,safeToRemove:s})}const d_={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:c_};function h_(n,e,s){const i=at(n)?n:os(n);return i.start(id("",i,e,s)),i.animation}const f_=(n,e)=>n.depth-e.depth;class m_{constructor(){this.children=[],this.isDirty=!1}add(e){Cu(this.children,e),this.isDirty=!0}remove(e){Pu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f_),this.isDirty=!1,this.children.forEach(e)}}function p_(n,e){const s=vt.now(),i=({timestamp:a})=>{const l=a-s;l>=e&&(Dn(i),n(l-e))};return Pe.setup(i,!0),()=>Dn(i)}const Dy=["TopLeft","TopRight","BottomLeft","BottomRight"],g_=Dy.length,ap=n=>typeof n=="string"?parseFloat(n):n,lp=n=>typeof n=="number"||le.test(n);function y_(n,e,s,i,a,l){a?(n.opacity=Oe(0,s.opacity??1,v_(i)),n.opacityExit=Oe(e.opacity??1,0,x_(i))):l&&(n.opacity=Oe(e.opacity??1,s.opacity??1,i));for(let u=0;u<g_;u++){const h=`border${Dy[u]}Radius`;let m=cp(e,h),g=cp(s,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||lp(m)===lp(g)?(n[h]=Math.max(Oe(ap(m),ap(g),i),0),(Zt.test(g)||Zt.test(m))&&(n[h]+="%")):n[h]=g}(e.rotate||s.rotate)&&(n.rotate=Oe(e.rotate||0,s.rotate||0,i))}function cp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const v_=My(0,.5,jg),x_=My(.5,.95,Lt);function My(n,e,s){return i=>i<n?0:i>e?1:s(gi(n,e,i))}function up(n,e){n.min=e.min,n.max=e.max}function At(n,e){up(n.x,e.x),up(n.y,e.y)}function dp(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function hp(n,e,s,i,a){return n-=e,n=aa(n,1/s,i),a!==void 0&&(n=aa(n,1/a,i)),n}function w_(n,e=0,s=1,i=.5,a,l=n,u=n){if(Zt.test(e)&&(e=parseFloat(e),e=Oe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Oe(l.min,l.max,i);n===l&&(h-=e),n.min=hp(n.min,e,s,h,a),n.max=hp(n.max,e,s,h,a)}function fp(n,e,[s,i,a],l,u){w_(n,e[s],e[i],e[a],e.scale,l,u)}const b_=["x","scaleX","originX"],__=["y","scaleY","originY"];function mp(n,e,s,i){fp(n.x,e,b_,s?s.x:void 0,i?i.x:void 0),fp(n.y,e,__,s?s.y:void 0,i?i.y:void 0)}function pp(n){return n.translate===0&&n.scale===1}function Fy(n){return pp(n.x)&&pp(n.y)}function gp(n,e){return n.min===e.min&&n.max===e.max}function j_(n,e){return gp(n.x,e.x)&&gp(n.y,e.y)}function yp(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function $y(n,e){return yp(n.x,e.x)&&yp(n.y,e.y)}function vp(n){return ut(n.x)/ut(n.y)}function xp(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class k_{constructor(){this.members=[]}add(e){Cu(this.members,e),e.scheduleRender()}remove(e){if(Pu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let i;for(let a=s;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S_(n,e,s){let i="";const a=n.x.translate/e.x,l=n.y.translate/e.y,u=s?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:_,skewY:E}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const h=n.x.scale*e.x,m=n.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const Ac=["","X","Y","Z"],N_=1e3;let E_=0;function Rc(n,e,s,i){const{latestValues:a}=e;a[n]&&(s[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Uy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=Sy(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Pe,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Uy(i)}function Vy({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=E_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P_),this.nodes.forEach(I_),this.nodes.forEach(L_),this.nodes.forEach(A_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new m_)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ou),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ny(u)&&!y1(u),this.instance=u;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{v=window.innerWidth}),n(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,y&&y(),y=p_(w,250),ta.hasAnimatedSinceResize&&(ta.hasAnimatedSinceResize=!1,this.nodes.forEach(_p)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||g.getDefaultTransition()||U_,{onLayoutAnimationStart:k,onLayoutAnimationComplete:N}=g.getProps(),I=!this.targetLayout||!$y(this.targetLayout,_),O=!v&&w;if(this.options.layoutRoot||this.resumeFrom||O||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Hu(E,"layout"),onPlay:k,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,O)}else v||_p(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O_),this.nodes.forEach(T_),this.nodes.forEach(C_)):this.nodes.forEach(bp),this.clearAllSnapshots();const h=vt.now();nt.delta=un(0,1e3/60,h-nt.timestamp),nt.timestamp=h,nt.isProcessing=!0,wc.update.process(nt),wc.preRender.process(nt),wc.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R_),this.sharedNodes.forEach(M_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ut(this.snapshot.measuredBox.x)&&!ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fy(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||nr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),V_(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ue();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(W_))){const{scroll:g}=this.root;g&&(es(h.x,g.offset.x),es(h.y,g.offset.y))}return h}removeElementScroll(u){const h=Ue();if(At(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&At(h,u),es(h.x,y.offset.x),es(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const m=Ue();At(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ts(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),nr(y.latestValues)&&ts(m,y.latestValues)}return nr(this.latestValues)&&ts(m,this.latestValues),m}removeTransform(u){const h=Ue();At(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!nr(g.latestValues))continue;su(g.latestValues)&&g.updateSnapshot();const y=Ue(),v=g.measurePageBox();At(y,v),mp(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return nr(this.latestValues)&&mp(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),hi(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),xy(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),hi(this.relativeTargetOrigin,this.target,w.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||su(this.parent.latestValues)||vy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;At(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;ob(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ue());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dp(this.prevProjectionDelta.x,this.projectionDelta.x),dp(this.prevProjectionDelta.y,this.projectionDelta.y)),di(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!xp(this.projectionDelta.x,this.prevProjectionDelta.x)||!xp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ns(),this.projectionDelta=ns(),this.projectionDeltaWithTransform=ns()}setAnimationOrigin(u,h=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},v=ns();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ue(),_=m?m.source:void 0,E=this.layout?this.layout.source:void 0,k=_!==E,N=this.getStack(),I=!N||N.members.length<=1,O=!!(k&&!I&&this.options.crossfade===!0&&!this.path.some($_));this.animationProgress=0;let A;this.mixTargetDelta=D=>{const $=D/1e3;jp(v.x,u.x,$),jp(v.y,u.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hi(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F_(this.relativeTarget,this.relativeTargetOrigin,w,$),A&&j_(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ue()),At(A,this.relativeTarget)),k&&(this.animationValues=y,y_(y,g,this.latestValues,$,O,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{ta.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=os(0)),this.currentAnimation=h_(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:y}=u;if(!(!h||!m||!g)){if(this!==u&&this.layout&&g&&Wy(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ue();const v=ut(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const w=ut(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}At(h,m),ts(h,y),di(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new k_),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&Rc("z",u,g,this.animationValues);for(let y=0;y<Ac.length;y++)Rc(`rotate${Ac[y]}`,u,g,this.animationValues),Rc(`skew${Ac[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ea(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ea(h?.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=S_(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in wi){if(y[E]===void 0)continue;const{correct:k,applyTo:N,isCSSVariable:I}=wi[E],O=v==="none"?y[E]:k(y[E],g);if(N){const A=N.length;for(let D=0;D<A;D++)u[N[D]]=O}else I?this.options.visualElement.renderState.vars[E]=O:u[E]=O}this.options.layoutId&&(u.pointerEvents=g===this?ea(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(wp),this.root.sharedNodes.clear()}}}function T_(n){n.updateLayout()}function C_(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Rt(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=ut(v);v.min=s[y].min,v.max=v.min+w}):Wy(a,e.layoutBox,s)&&Rt(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=ut(s[y]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const u=ns();di(u,s,e.layoutBox);const h=ns();l?di(h,n.applyTransform(i,!0),e.measuredBox):di(h,s,e.layoutBox);const m=!Fy(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const _=Ue();hi(_,e.layoutBox,v.layoutBox);const E=Ue();hi(E,s,w.layoutBox),$y(_,E)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=_,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function P_(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function A_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function R_(n){n.clearSnapshot()}function wp(n){n.clearMeasurements()}function bp(n){n.isLayoutDirty=!1}function O_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function _p(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function I_(n){n.resolveTargetDelta()}function L_(n){n.calcProjection()}function D_(n){n.resetSkewAndRotation()}function M_(n){n.removeLeadSnapshot()}function jp(n,e,s){n.translate=Oe(e.translate,0,s),n.scale=Oe(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function kp(n,e,s,i){n.min=Oe(e.min,s.min,i),n.max=Oe(e.max,s.max,i)}function F_(n,e,s,i){kp(n.x,e.x,s.x,i),kp(n.y,e.y,s.y,i)}function $_(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const U_={duration:.45,ease:[.4,0,.1,1]},Sp=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Np=Sp("applewebkit/")&&!Sp("chrome/")?Math.round:Lt;function Ep(n){n.min=Np(n.min),n.max=Np(n.max)}function V_(n){Ep(n.x),Ep(n.y)}function Wy(n,e,s){return n==="position"||n==="preserve-aspect"&&!Kb(vp(e),vp(s),.2)}function W_(n){return n!==n.root&&n.scroll?.wasRoot}const B_=Vy({attachResizeListener:(n,e)=>bi(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oc={current:void 0},By=Vy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Oc.current){const n=new B_({});n.mount(window),n.setOptions({layoutScroll:!0}),Oc.current=n}return Oc.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),z_={pan:{Feature:l_},drag:{Feature:a_,ProjectionNode:By,MeasureLayout:Ly}};function Tp(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,l=i[a];l&&Pe.postRender(()=>l(e,Ci(e)))}class q_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=h1(e,(s,i)=>(Tp(this.node,i,"Start"),a=>Tp(this.node,a,"End"))))}unmount(){}}class H_ extends Fn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(bi(this.node.current,"focus",()=>this.onFocus()),bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cp(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),l=i[a];l&&Pe.postRender(()=>l(e,Ci(e)))}class K_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=g1(e,(s,i)=>(Cp(this.node,i,"Start"),(a,{success:l})=>Cp(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const du=new WeakMap,Ic=new WeakMap,G_=n=>{const e=du.get(n.target);e&&e(n)},J_=n=>{n.forEach(G_)};function Y_({root:n,...e}){const s=n||document;Ic.has(s)||Ic.set(s,{});const i=Ic.get(s),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(J_,{root:n,...e})),i[a]}function Q_(n,e,s){const i=Y_(e);return du.set(n,s),i.observe(n),()=>{du.delete(n),i.unobserve(n)}}const X_={some:0,all:1};class Z_ extends Fn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:a="some",once:l}=e,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:X_[a]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(m)};return Q_(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(ej(e,s))&&this.startObserver()}unmount(){}}function ej({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const tj={inView:{Feature:Z_},tap:{Feature:K_},focus:{Feature:H_},hover:{Feature:q_}},nj={layout:{ProjectionNode:By,MeasureLayout:Ly}},rj={...Vb,...tj,...z_,...nj},X=rb(rj,gb);function sj({currentView:n,onNavigate:e,canGoBack:s,onBack:i}){const a=[{label:"Modèles",view:"contracts"},{label:"Bond",view:"bond"},{label:"Conseiller",view:"conseiller"},{label:"Prix",view:"pricing"},{label:"Documentation",view:"docs"},{label:"Nous consulter",view:"contact"}];return d.jsx(X.header,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.2,ease:"linear"},className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[s&&d.jsxs("button",{onClick:i,className:"group flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200","aria-label":"Retour",children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M10 14L4 8L10 2",strokeWidth:"1.5",strokeLinecap:"square"})}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),d.jsx("button",{onClick:()=>e("home"),className:"hover:opacity-80 transition-opacity duration-200",children:d.jsx("span",{className:"text-[1.25rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1},children:"SYMIONE"})})]}),d.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:a.map(l=>{const u=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return d.jsx("button",{onClick:()=>e(l.view),className:`text-[0.75rem] uppercase tracking-[0.08em] transition-colors duration-200 ${u?"text-accent":"text-muted-foreground hover:text-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:u?500:400},children:l.label},l.view)})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>e("login"),className:"hidden sm:block px-10 py-3.5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Connexion"}),d.jsxs("button",{onClick:()=>e("contracts"),className:"px-10 py-3.5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center gap-2",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["Commencer",d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})]}),d.jsx("nav",{className:"lg:hidden pb-4 flex gap-4 overflow-x-auto",children:a.map(l=>{const u=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return d.jsx("button",{onClick:()=>e(l.view),className:`text-[0.625rem] uppercase tracking-[0.08em] whitespace-nowrap transition-colors duration-200 ${u?"text-accent":"text-muted-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:u?500:400},children:l.label},l.view)})})]})})}function ij(){return d.jsx("footer",{className:"border-t border-border mt-auto",children:d.jsx("div",{className:"max-w-[1920px] mx-auto px-8 lg:px-16 py-8",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"disclaimer-section border border-border p-4",children:[d.jsx("p",{className:"text-[0.8125rem] mb-2",style:{lineHeight:1.6},children:"Avertissement juridique: Symione est un outil d'aide à la décision. Nos contenus sont informatifs et ne constituent pas des conseils juridiques personnalisés. Nous recommandons de consulter un avocat pour toute situation complexe."}),d.jsxs("p",{className:"text-[0.8125rem] text-muted-foreground",children:["Vos données sont chiffrées et conformes au RGPD.",d.jsx("a",{href:"/confidentialite",className:"underline ml-2",children:"Politique de confidentialité"}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("a",{href:"/mentions-legales",className:"underline",children:"Mentions légales"})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"text-[0.75rem] text-muted-foreground uppercase tracking-wide",style:{fontWeight:500},children:"© 2025 SYMIONE"}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",children:"Intelligent legal systems for modern practices"})]}),d.jsxs("div",{className:"flex gap-8",children:[d.jsx("a",{href:"/confidentialite",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Confidentialité"}),d.jsx("a",{href:"/mentions-legales",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Mentions légales"}),d.jsx("a",{href:"#support",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Support"})]})]})]})})})}function oj(){const[n,e]=C.useState(0);C.useEffect(()=>{const a=()=>{e(window.scrollY)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]);const s=Math.max(1-n/400,0),i=n*.2;return d.jsx("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 w-full",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"linear"},style:{opacity:s,transform:`translateY(${i}px)`},className:"relative",children:[d.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"flex items-center gap-3 mb-12",children:[d.jsx("div",{className:"h-px w-12 bg-border"}),d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME D'INTELLIGENCE JURIDIQUE"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("h1",{className:"text-[3.5rem] md:text-[5rem] lg:text-[7rem] tracking-[-0.03em]",style:{fontWeight:700,lineHeight:.95},children:["Documents.",d.jsx("br",{}),"Intelligence.",d.jsx("br",{}),"Précision."]}),d.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.3},className:"flex flex-wrap gap-6 md:gap-8 pt-4",children:[{label:"PRÉCISION",value:"99.7%"},{label:"JURIDICTIONS",value:"12+"},{label:"LATENCE",value:"<200ms"}].map((a,l)=>d.jsxs("div",{className:"flex items-baseline gap-3",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:a.label}),d.jsx("span",{className:"text-[1rem] tracking-[-0.01em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:a.value})]},a.label))})]}),d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"mt-16 flex flex-col sm:flex-row gap-3",children:[d.jsxs("button",{className:"group relative px-12 py-5 bg-accent text-accent-foreground overflow-hidden transition-all duration-200 hover:shadow-[0_0_20px_var(--accent-glow)] flex items-center justify-center gap-3",children:[d.jsx("span",{className:"relative z-10 text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Commencer"}),d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),d.jsx("button",{className:"group px-12 py-5 border border-border hover:border-foreground transition-all duration-200 flex items-center justify-center gap-3",children:d.jsx("span",{className:"text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Documentation"})})]})]}),d.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.4},className:"absolute bottom-12 left-6 lg:left-12",style:{opacity:Math.max(1-n/200,0)},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-px h-16 bg-border relative overflow-hidden",children:d.jsx(X.div,{animate:{y:[-64,64]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-full h-4 bg-accent/50"})}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"SCROLL"})]})})]})})}const aj=[{id:"synthesis",code:"SYN",title:"Module de Synthèse",function:"Génération de contrats",description:"Création automatisée de documents depuis la bibliothèque",route:"contracts",status:"PRÊT"},{id:"compliance",code:"CMP",title:"Scanner de Conformité",function:"Révision et analyse",description:"Vérification juridique en temps réel",route:"editor",status:"PRÊT"},{id:"conseiller",code:"CNS",title:"Module Conseil",function:"Assistance juridique",description:"Conseil expert et réseau d'avocats",route:"conseiller",status:"PRÊT"}];function lj({onNavigate:n,onNavigateConseiller:e}){return d.jsx("section",{className:"py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsx(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"mb-12 pb-8 border-b border-border",children:d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTEM / MODULES"}),d.jsx("h2",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.1},children:"Surface de contrôle"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),d.jsx("p",{className:"text-[0.625rem] tracking-[0.05em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"3 MODULES PRÊTS"})]})]})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-px bg-border",children:aj.map((s,i)=>d.jsxs(X.button,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:i*.08,ease:"linear"},onClick:()=>{s.id==="conseiller"?e():s.route&&n(s.route)},disabled:!s.route,className:`group relative bg-card p-8 lg:p-10 text-left transition-all duration-200 ${s.route?"hover:bg-accent/5 cursor-pointer":"cursor-not-allowed opacity-60"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-8",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground px-2 py-1 border border-border",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.code}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="PRÊT"?"bg-accent":"bg-muted-foreground/40"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:s.status})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.3},children:s.title}),d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-accent",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.function})]}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:s.description})]}),s.route&&d.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:d.jsxs("div",{className:"flex items-center justify-between group-hover:opacity-100 transition-opacity duration-200",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Module disponible"}),d.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Ouvrir"}),d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current transform group-hover:translate-x-1 transition-transform duration-200",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})})]},s.id))})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),Pp=n=>{const e=uj(n);return e.charAt(0).toUpperCase()+e.slice(1)},zy=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},m)=>C.createElement("svg",{ref:m,...dj,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:zy("lucide",a),...h},[...u.map(([g,y])=>C.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(n,e)=>{const s=C.forwardRef(({className:i,...a},l)=>C.createElement(hj,{ref:l,iconNode:e,className:zy(`lucide-${cj(Pp(n))}`,`lucide-${n}`,i),...a}));return s.displayName=Pp(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ya=be("arrow-left",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],pj=be("book",mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ap=be("bot",gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vj=be("check",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ls=be("circle-alert",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cs=be("circle-check-big",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_j=be("circle-x",bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],kj=be("code",jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Nj=be("download",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qy=be("file-text",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Cj=be("house",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hy=be("info",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],us=be("loader-circle",Aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Oj=be("mail",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ky=be("message-square",Ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Dj=be("phone",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lc=be("plus",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$j=be("refresh-cw",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Vj=be("scale",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],od=be("search",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zj=be("send",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rp=be("shield",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Kj=be("sparkles",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],va=be("triangle-alert",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yj=be("user",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xj=be("wallet",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ad=be("x",Zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hu=be("zap",ek),tk="modulepreload",nk=function(n){return"/"+n},Op={},gs=function(e,s,i){let a=Promise.resolve();if(s&&s.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");a=u(s.map(g=>{if(g=nk(g),g in Op)return;Op[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":tk,y||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),y)return new Promise((_,E)=>{w.addEventListener("load",_),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},rk={},Ip=rk?.VITE_API_BASE_URL?String(void 0).replace(/\/$/,""):"";function xa(n){return Ip?`${Ip}${n}`:n}async function wa(n){try{return await n.json()}catch{return{error:!0,message:n.statusText}}}async function Ko(n){const e=await fetch(xa(n),{method:"GET"});if(!e.ok)throw await wa(e);return e.json()}async function Dc(n,e){const s={"Content-Type":"application/json"};try{const{supabase:a}=await gs(async()=>{const{supabase:h}=await Promise.resolve().then(()=>I2);return{supabase:h}},void 0),{data:l}=await a.auth.getSession(),u=l.session?.access_token;u&&(s.Authorization=`Bearer ${u}`)}catch{}const i=await fetch(xa(n),{method:"POST",headers:s,body:JSON.stringify(e)});if(i.status===429){const a=Number(i.headers.get("X-RateLimit-Reset")||0);throw{error:!0,message:"Rate limit exceeded",code:"RATE_LIMIT",retryInSec:Math.max(0,a-Math.floor(Date.now()/1e3))}}if(!i.ok)throw await wa(i);return i.json()}async function sk(n,e){const s=await fetch(xa(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await wa(s);return s.json()}async function ik(n,e,s){const i=await fetch(xa("/api/export"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:n,format:e,metadata:s})});if(!i.ok)throw await wa(i);const a=await i.blob(),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`contract.${e}`,document.body.appendChild(u),u.click(),u.remove(),URL.revokeObjectURL(l)}const ok={},ak=ok?.VITE_JURISDICTION||"FR",_i={health:()=>Ko("/api/health"),listContracts:n=>Ko(`/api/contracts?jurisdiction=${encodeURIComponent(n||ak)}`),getTemplate:(n,e)=>Ko(e?`/api/contracts/${n}?jurisdiction=${encodeURIComponent(e)}`:`/api/contracts/${n}`),getClauses:n=>Ko(`/api/contracts/${n}/clauses`),updateClause:(n,e,s)=>sk(`/api/contracts/${n}/clauses`,{id:n,clause_id:e,...s}),generate:n=>Dc("/api/generate",n),review:n=>Dc("/api/review",n),explain:n=>Dc("/api/explain",n),export:ik};let lk=0;const fu=new Set;function qe(n,e="info"){const s={id:`toast-${++lk}`,message:n,type:e};fu.forEach(i=>i(s))}function ck(){const[n,e]=C.useState([]);C.useEffect(()=>{const i=a=>{e(l=>[...l,a]),setTimeout(()=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast timeout cleanup"}),e(l=>(l||[]).filter(u=>u&&u.id!==a.id))},5e3)};return fu.add(i),()=>{fu.delete(i)}},[]);const s=i=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast removeToast"}),e(a=>(a||[]).filter(l=>l&&l.id!==i))};return d.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:d.jsx(Ti,{children:n.map(i=>d.jsxs(X.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"linear"},className:"bg-card border border-border p-4 pr-12 min-w-[320px] max-w-md shadow-lg pointer-events-auto relative",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[i.type==="success"&&d.jsx(cs,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="error"&&d.jsx(ls,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="info"&&d.jsx(Hy,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0",strokeWidth:1.5}),d.jsx("p",{className:"text-[0.8125rem] flex-1",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:i.message})]}),d.jsx("button",{onClick:()=>s(i.id),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:d.jsx(ad,{className:"w-3.5 h-3.5",strokeWidth:1.5})})]},i.id))})})}const uk={},dk={business:"Entreprise",employment:"Emploi",property:"Immobilier",freelance:"Freelance",personal:"Personnel",closure:"Clôture",custom:"Personnalisé"};function hk({onBack:n,onSelectTemplate:e,plan:s="free"}){const[i,a]=C.useState([]),[l,u]=C.useState(!0),[h,m]=C.useState(""),[g,y]=C.useState(uk?.VITE_JURISDICTION||"FR"),[v,w]=C.useState(null),[_,E]=C.useState(!1);C.useEffect(()=>{async function D(){try{const{index:$}=await _i.listContracts(g);!Array.isArray($)||$.length===0?a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}]):a($)}catch($){qe($.message||"Failed to load templates","error"),a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}])}finally{u(!1)}}u(!0),D()},[g]),console.log("🔍 Filter debug:",{array:i,arrayType:typeof i,isArray:Array.isArray(i),location:"ContractsListView filteredContracts"});const k=(i||[]).filter(D=>{const $=h.toLowerCase();return D.title.toLowerCase().includes($)||D.category.toLowerCase().includes($)||D.id.toLowerCase().includes($)});async function N(D){if(!D||D.length<16){w(null);return}E(!0);try{const $=await fetch("/api/templates/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:D})});if($.ok){const M=await $.json();w(M)}}finally{E(!1)}}const I=D=>!1,[O,A]=C.useState(!1);return d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(ya,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Control Surface"})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYNTHESIS MODULE / TEMPLATE LIBRARY"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Select template"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative lg:w-96",children:[d.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground",strokeWidth:1.5}),d.jsx("input",{type:"text",placeholder:"🔍 Rechercher un contrat (ex: bail, CDI, NDA...)",value:h,onChange:D=>{m(D.target.value),N(D.target.value)},className:"w-full pl-10 pr-4 py-3 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"px-3 py-2 bg-input-background border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx("option",{value:"FR",children:"FR"}),d.jsx("option",{value:"EN",children:"EN"})]})]})]}),d.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-system-standby animate-pulse":"bg-accent"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:l?"Loading templates...":`${k.length} templates available`})]}),h.length>15&&d.jsxs("div",{className:"mt-4 border border-border p-4",children:[_&&d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce"}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),v&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-[0.875rem] mb-3",children:[d.jsx("h4",{className:"text-[0.95rem] mb-1",style:{fontWeight:600},children:"💡 Analyse de votre besoin"}),d.jsx("p",{className:"text-muted-foreground",children:v.interpretation})]}),v.matchingTemplates.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-[0.95rem]",style:{fontWeight:600},children:"📄 Templates correspondants"}),v.matchingTemplates.map(D=>d.jsxs("button",{onClick:()=>e(D.id,g),className:"w-full text-left border border-border p-3 hover:border-foreground",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:D.name}),d.jsx("span",{className:`text-[0.75rem] ${D.available?"text-green-700":"text-amber-700"}`,children:D.available?"✓ Disponible":"🔒 Plan Pro"})]}),D.description&&d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",children:D.description})]},D.id))]}):d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",children:"Aucun template exact — ce cas peut nécessiter un avocat."}),d.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"mt-2 px-4 py-2 border border-border",children:"Consulter le Conseiller Juridique →"})]})]})]})]}),l?d.jsx("div",{className:"flex items-center justify-center py-24",children:d.jsx(us,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):k.length===0?d.jsxs("div",{className:"text-center py-24",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Aucun template ne correspond à votre recherche"}),d.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"px-6 py-3 border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"💬 Décrire mon besoin au Conseiller Juridique"})]}):d.jsx("div",{className:"space-y-px bg-border",children:k.map((D,$)=>(I(D.id),d.jsxs(X.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2,delay:$*.04,ease:"linear"},onClick:()=>{e(D.id,g)},className:"group bg-card p-6 lg:p-8 text-left transition-all duration-200 relative w-full border-l-2 hover:bg-accent/5 hover:border-l-accent border-transparent",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:D.id.toUpperCase()})}),d.jsx("div",{className:"lg:col-span-5",children:d.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:D.title})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Category"}),d.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:dk[D.category]||D.category})]})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Path"}),d.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:D.path})]})})]}),d.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-accent",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})})]},D.id)))}),O&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[d.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Template Premium"}),d.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Ce template est disponible dans le Plan Pro (149€/mois) qui inclut 50+ templates et 20 contrats/mois."}),d.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:()=>{window.location.href="/login"},className:"px-4 py-2 border border-border",children:"Créer un compte gratuit"}),d.jsx("button",{onClick:()=>{window.location.href="/prix"},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro"})]})]})})]})})}const fk=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>gs(async()=>{const{default:i}=await Promise.resolve().then(()=>ys);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class ld extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Lp extends ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dp extends ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mp extends ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(mu||(mu={}));var mk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};class pk{constructor(e,{headers:s={},customFetch:i,region:a=mu.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=fk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mk(this,arguments,void 0,function*(s,i={}){var a;try{const{headers:l,method:u,body:h,signal:m}=i;let g={},{region:y}=i;y||(y=this.region);const v=new URL(`${this.url}/${s}`);y&&y!=="any"&&(g["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)));const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:m}).catch(I=>{throw I.name==="AbortError"?I:new Lp(I)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new Dp(_);if(!_.ok)throw new Mp(_);let k=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return k==="application/json"?N=yield _.json():k==="application/octet-stream"?N=yield _.blob():k==="text/event-stream"?N=_:k==="multipart/form-data"?N=yield _.formData():N=yield _.text(),{data:N,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Lp(l)}:{data:null,error:l,response:l instanceof Mp||l instanceof Dp?l.context:void 0}}})}}var Ze={},$r={},Ur={},Vr={},Wr={},Br={},gk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=gk();const yk=ds.fetch,Gy=ds.fetch.bind(ds),Jy=ds.Headers,vk=ds.Request,xk=ds.Response,ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jy,Request:vk,Response:xk,default:Gy,fetch:yk},Symbol.toStringTag,{value:"Module"})),wk=mx(ys);var Go={},Fp;function Yy(){if(Fp)return Go;Fp=1,Object.defineProperty(Go,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Go.default=n,Go}var $p;function Qy(){if($p)return Br;$p=1;var n=Br&&Br.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Br,"__esModule",{value:!0});const e=n(wk),s=n(Yy());class i{constructor(l){var u,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,w,_;let E=null,k=null,N=null,I=g.status,O=g.statusText;if(g.ok){if(this.method!=="HEAD"){const M=await g.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=M:k=JSON.parse(M))}const D=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),$=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&$&&$.length>1&&(N=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(E={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,I=406,O="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const D=await g.text();try{E=JSON.parse(D),Array.isArray(E)&&g.status===404&&(k=[],E=null,I=200,O="OK")}catch{g.status===404&&D===""?(I=204,O="No Content"):E={message:D}}if(E&&this.isMaybeSingle&&(!((_=E?.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,I=200,O="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:k,count:N,status:I,statusText:O}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,v,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(l,u)}returns(){return this}overrideTypes(){return this}}return Br.default=i,Br}var Up;function Xy(){if(Up)return Wr;Up=1;var n=Wr&&Wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wr,"__esModule",{value:!0});const e=n(Qy());class s extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var y;const v=[a?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Wr.default=s,Wr}var Vp;function cd(){if(Vp)return Vr;Vp=1;var n=Vr&&Vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vr,"__esModule",{value:!0});const e=n(Xy());class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${m}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Vr.default=s,Vr}var Wp;function Zy(){if(Wp)return Ur;Wp=1;var n=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=n(cd());class s{constructor(a,{headers:l={},schema:u,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(a,l){const{head:u=!1,count:h}=l??{},m=u?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var h;const m="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ur.default=s,Ur}var Bp;function bk(){if(Bp)return $r;Bp=1;var n=$r&&$r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($r,"__esModule",{value:!0});const e=n(Zy()),s=n(cd());class i{constructor(l,{headers:u={},schema:h,fetch:m}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=m}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:m=!1,count:g}={}){var y;let v;const w=new URL(`${this.url}/rpc/${l}`);let _;h||m?(v=h?"HEAD":"GET",Object.entries(u).filter(([k,N])=>N!==void 0).map(([k,N])=>[k,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([k,N])=>{w.searchParams.append(k,N)})):(v="POST",_=u);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new s.default({method:v,url:w,headers:E,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return $r.default=i,$r}var zp;function _k(){if(zp)return Ze;zp=1;var n=Ze&&Ze.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const e=n(bk());Ze.PostgrestClient=e.default;const s=n(Zy());Ze.PostgrestQueryBuilder=s.default;const i=n(cd());Ze.PostgrestFilterBuilder=i.default;const a=n(Xy());Ze.PostgrestTransformBuilder=a.default;const l=n(Qy());Ze.PostgrestBuilder=l.default;const u=n(Yy());return Ze.PostgrestError=u.default,Ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ze}var jk=_k();const kk=dg(jk),{PostgrestClient:Sk,PostgrestQueryBuilder:gN,PostgrestFilterBuilder:yN,PostgrestTransformBuilder:vN,PostgrestBuilder:xN,PostgrestError:wN}=kk;class Nk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ek="2.75.1",Tk=`realtime-js/${Ek}`,Ck="1.0.0",pu=1e4,Pk=1e3,Ak=100;var fi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(fi||(fi={}));var Ge;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ge||(Ge={}));var qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(qt||(qt={}));var gu;(function(n){n.websocket="websocket"})(gu||(gu={}));var sr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(sr||(sr={}));class Rk{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const a=s.getUint8(1),l=s.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+a));u=u+a;const m=i.decode(e.slice(u,u+l));u=u+l;const g=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:m,payload:g}}}class e0{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ke||(ke={}));const qp=(n,e,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Ok(u,n,e,a),l),{}):{}},Ok=(n,e,s,i)=>{const a=e.find(h=>h.name===n),l=a?.type,u=s[n];return l&&!i.includes(l)?t0(l,u):yu(u)},t0=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Mk(e,s)}switch(n){case ke.bool:return Ik(e);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Lk(e);case ke.json:case ke.jsonb:return Dk(e);case ke.timestamp:return Fk(e);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return yu(e);default:return yu(e)}},yu=n=>n,Ik=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Lk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Dk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Mk=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const u=n.slice(1,s);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>t0(e,h))}return n},Fk=n=>typeof n=="string"?n.replace(" ","T"):n,n0=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Mc{constructor(e,s,i={},a=pu){this.channel=e,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Hp||(Hp={}));class mi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mi.syncState(this.state,a,l,u),this.pendingDiffs.forEach(m=>{this.state=mi.syncDiff(this.state,m,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=mi.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,a){const l=this.cloneDeep(e),u=this.transformState(s),h={},m={};return this.map(l,(g,y)=>{u[g]||(m[g]=y)}),this.map(u,(g,y)=>{const v=l[g];if(v){const w=y.map(N=>N.presence_ref),_=v.map(N=>N.presence_ref),E=y.filter(N=>_.indexOf(N.presence_ref)<0),k=v.filter(N=>w.indexOf(N.presence_ref)<0);E.length>0&&(h[g]=E),k.length>0&&(m[g]=k)}else h[g]=y}),this.syncDiff(l,{joins:h,leaves:m},i,a)}static syncDiff(e,s,i,a){const{joins:l,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,m)=>{var g;const y=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(m),y.length>0){const v=e[h].map(_=>_.presence_ref),w=y.filter(_=>v.indexOf(_.presence_ref)<0);e[h].unshift(...w)}i(h,y,m)}),this.map(u,(h,m)=>{let g=e[h];if(!g)return;const y=m.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),e[h]=g,a(h,g,m),g.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const a=e[i];return"metas"in a?s[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Kp||(Kp={}));var pi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(pi||(pi={}));var cn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));class ud{constructor(e,s={config:{}},i){var a,l;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Mc(this,qt.join,this.params,this.timeout),this.rejoinTimer=new e0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new mi(this),this.broadcastEndpointURL=n0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[pi.PRESENCE]&&this.bindings[pi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(cn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket.setAuth(),_===void 0){e?.(cn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(E=k?.length)!==null&&E!==void 0?E:0,I=[];for(let O=0;O<N;O++){const A=k[O],{filter:{event:D,schema:$,table:M,filter:q}}=A,J=_&&_[O];if(J&&J.event===D&&J.schema===$&&J.table===M&&J.filter===q)I.push(Object.assign(Object.assign({},A),{id:J.id}));else{this.unsubscribe(),this.state=Ge.errored,e?.(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(cn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ge.errored,e?.(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Ge.joined&&e===pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,m;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Mc(this,qt.leave,{},e),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),u}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mc(this,e,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ak){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=qt;if(i&&[h,m,g,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var E,k,N;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(k=_.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(_=>_.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var E,k,N,I,O,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const D=_.id,$=(E=_.filter)===null||E===void 0?void 0:E.event;return D&&((k=s.ids)===null||k===void 0?void 0:k.includes(D))&&($==="*"||$?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const D=(O=(I=_?.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:k,table:N,commit_timestamp:I,type:O,errors:A}=E;w=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:I,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(E))}_.callback(w,i)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const a=e.toLocaleLowerCase(),l={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ud.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=qp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=qp(e.columns,e.old_record)),s}}const Fc=()=>{},Jo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$k=[1e3,2e3,5e3,1e4],Uk=1e4,Vk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wk{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pu,this.transport=null,this.heartbeatIntervalMs=Jo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fc,this.ref=0,this.reconnectTimer=null,this.logger=Fc,this.conn=null,this.sendBuffer=[],this.serializer=new Rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>gs(async()=>{const{default:h}=await Promise.resolve().then(()=>ys);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${gu.websocket}`,this.httpEndpoint=n0(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ck}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return sr.Connecting;case fi.open:return sr.Open;case fi.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new ud(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Pk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Jo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=s,h=u?`(${u})`:"",m=l.status||"";this.log("receive",`${m} ${i} ${a} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${i}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([Vk],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:Tk};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new e0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,a,l,u,h,m,g,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:pu,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Jo.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Fc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(v=>$k[v-1]||Uk),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((v,w)=>w(JSON.stringify(v))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class dd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Bk extends dd{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vu extends dd{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var zk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};const r0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>gs(async()=>{const{default:i}=await Promise.resolve().then(()=>ys);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},qk=()=>zk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>ys),void 0)).Response:Response}),xu=n=>{if(Array.isArray(n))return n.map(s=>xu(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=xu(i)}),e},Hk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var hr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};const $c=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Kk=(n,e,s)=>hr(void 0,void 0,void 0,function*(){const i=yield qk();n instanceof i&&!s?.noResolveJson?n.json().then(a=>{const l=n.status||500,u=a?.statusCode||l+"";e(new Bk($c(a),l,u))}).catch(a=>{e(new vu($c(a),a))}):e(new vu($c(n),n))}),Gk=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||!i?a:(Hk(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function Pi(n,e,s,i,a,l){return hr(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,Gk(e,i,a,l)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>Kk(m,h,i))})})}function la(n,e,s,i){return hr(this,void 0,void 0,function*(){return Pi(n,"GET",e,s,i)})}function Qt(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Pi(n,"POST",e,i,a,s)})}function wu(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Pi(n,"PUT",e,i,a,s)})}function Jk(n,e,s,i){return hr(this,void 0,void 0,function*(){return Pi(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function s0(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Pi(n,"DELETE",e,i,a,s)})}var Yk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};class Qk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Yk(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}var Xk=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})},i0;class Zk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[i0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Xk(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}i0=Symbol.toStringTag;var yt=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};const eS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tS{constructor(e,s={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=r0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,a){return yt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Gp),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),m&&l.append("metadata",this.encodeMetadata(m))):(l=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),v=yield(e=="PUT"?wu:Qt)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}upload(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,a){return yt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",s);try{let m;const g=Object.assign({upsert:Gp.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield wu(this.fetch,h.toString(),m,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Be(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,s){return yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const l=yield Qt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new dd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}update(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}copy(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,i){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Qt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}download(e,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),m=()=>la(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Zk(m,this.shouldThrowOnError)}info(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield la(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:xu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}exists(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Jk(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i)&&i instanceof vu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),a=[],l=s?.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const h=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&a.push(m);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return yt(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}list(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},eS),s),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}listV2(e,s){return yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const nS="2.75.1",rS={"X-Client-Info":`storage-js/${nS}`};var zr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};class sS{constructor(e,s={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rS),s),this.fetch=r0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zr(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}getBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}createBucket(e){return zr(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}updateBucket(e,s){return zr(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}}class iS extends sS{constructor(e,s={},i,a){super(e,s,i,a)}from(e){return new tS(this.url,this.headers,e,this.fetch)}}const oS="2.75.1";let ai="";typeof Deno<"u"?ai="deno":typeof document<"u"?ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ai="react-native":ai="node";const aS={"X-Client-Info":`supabase-js-${ai}/${oS}`},lS={headers:aS},cS={schema:"public"},uS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dS={};var hS=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};const fS=n=>{let e;return n?e=n:typeof fetch>"u"?e=Gy:e=fetch,(...s)=>e(...s)},mS=()=>typeof Headers>"u"?Jy:Headers,pS=(n,e,s)=>{const i=fS(s),a=mS();return(l,u)=>hS(void 0,void 0,void 0,function*(){var h;const m=(h=yield e())!==null&&h!==void 0?h:n;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),i(l,Object.assign(Object.assign({},u),{headers:g}))})};var gS=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};function yS(n){return n.endsWith("/")?n:n+"/"}function vS(n,e){var s,i;const{db:a,auth:l,realtime:u,global:h}=n,{db:m,auth:g,realtime:y,global:v}=e,w={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(s=v?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>gS(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function xS(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o0="2.75.1",Yr=30*1e3,bu=3,Uc=bu*Yr,wS="http://localhost:9999",bS="supabase.auth.token",_S={"X-Client-Info":`gotrue-js/${o0}`},_u="X-Supabase-Api-Version",a0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=600*1e3;class ji extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ae(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class SS extends ji{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function NS(n){return ae(n)&&n.name==="AuthApiError"}class ir extends ji{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $n extends ji{constructor(e,s,i,a){super(e,i,a),this.name=s,this.status=i}}class On extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ES(n){return ae(n)&&n.name==="AuthSessionMissingError"}class qr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yo extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qo extends $n{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TS(n){return ae(n)&&n.name==="AuthImplicitGrantRedirectError"}class Jp extends $n{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ju extends $n{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Vc(n){return ae(n)&&n.name==="AuthRetryableFetchError"}class Yp extends $n{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class ku extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qp=` 	
\r=`.split(""),CS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Qp.length;e+=1)n[Qp[e].charCodeAt(0)]=-2;for(let e=0;e<ca.length;e+=1)n[ca[e].charCodeAt(0)]=e;return n})();function Xp(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(ca[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(ca[i]),e.queuedBits-=6}}function l0(n,e,s){const i=CS[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Zp(n){const e=[],s=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{RS(u,i,s)};for(let u=0;u<n.length;u+=1)l0(n.charCodeAt(u),a,l);return e.join("")}function PS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function AS(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}PS(i,e)}}function RS(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ss(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)l0(n.charCodeAt(a),s,i);return new Uint8Array(e)}function OS(n){const e=[];return AS(n,s=>e.push(s)),new Uint8Array(e)}function lr(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>Xp(a,s,i)),Xp(null,s,i),e.join("")}function IS(n){return Math.round(Date.now()/1e3)+n}function LS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},c0=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function DS(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return s.searchParams.forEach((i,a)=>{e[a]=i}),e}const u0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>gs(async()=>{const{default:i}=await Promise.resolve().then(()=>ys);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},MS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},tr=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},An=async(n,e)=>{await n.removeItem(e)};class ba{constructor(){this.promise=new ba.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}ba.promiseConstructor=Promise;function Wc(n){const e=n.split(".");if(e.length!==3)throw new ku("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!jS.test(e[i]))throw new ku("JWT not in base64url format");return{header:JSON.parse(Zp(e[0])),payload:JSON.parse(Zp(e[1])),signature:ss(e[2]),raw:{header:e[0],payload:e[1]}}}async function FS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function $S(n,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function US(n){return("0"+n.toString(16)).substr(-2)}function VS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,US).join("")}async function WS(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function BS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await WS(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(n,e,s=!1){const i=VS();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await Qr(n,`${e}-code-verifier`,a);const l=await BS(i);return[l,i===l?"plain":"s256"]}const zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qS(n){const e=n.headers.get(_u);if(!e||!e.match(zS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function HS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function KS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kr(n){if(!GS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bc(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eg(n){return JSON.parse(JSON.stringify(n))}var JS=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};const rr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),YS=[502,503,504];async function tg(n){var e;if(!MS(n))throw new ju(rr(n),0);if(YS.includes(n.status))throw new ju(rr(n),n.status);let s;try{s=await n.json()}catch(l){throw new ir(rr(l),l)}let i;const a=qS(n);if(a&&a.getTime()>=a0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Yp(rr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new On}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Yp(rr(s),n.status,s.weak_password.reasons);throw new SS(rr(s),n.status||500,i)}const QS=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function ue(n,e,s,i){var a;const l=Object.assign({},i?.headers);l[_u]||(l[_u]=a0["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await XS(n,e,s+h,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function XS(n,e,s,i,a,l){const u=QS(e,i,a,l);let h;try{h=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new ju(rr(m),0)}if(h.ok||await tg(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await tg(m)}}function Bt(n){var e;let s=null;t2(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=IS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function ng(n){const e=Bt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function In(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ZS(n){return{data:n,error:null}}function e2(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l}=n,u=JS(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function rg(n){return n}function t2(n){return n.access_token&&n.refresh_token&&n.expires_in}const zc=["global","local","others"];var n2=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class r2{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=u0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=zc[0]){if(zc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:In})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=n2(e,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:e2,redirectTo:s?.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,a,l,u,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:rg});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Kr(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Kr(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:In})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Kr(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:In})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Kr(e.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Kr(e.userId),Kr(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,a,l,u,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:rg});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=k}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function sg(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Gr={debug:!!(globalThis&&c0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class s2 extends d0{}async function i2(n,e,s){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new s2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Gr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function o2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function a2(n){return parseInt(n,16)}function l2(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function c2(n){var e;const{chainId:s,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:m,resources:g,scheme:y,uri:v,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=h0(n.address),E=y?`${y}://${i}`:i,k=n.statement?`${n.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${_}

${k}`;let I=`URI: ${v}
Version: ${w}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(I+=`
Expiration Time: ${a.toISOString()}`),h&&(I+=`
Not Before: ${h.toISOString()}`),m&&(I+=`
Request ID: ${m}`),g){let O=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}I+=O}return`${N}
${I}`}class We extends Error{constructor({message:e,code:s,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class ua extends We{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function u2({error:n,options:e}){var s,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(m0(u)){if(l.rp.id!==u)return new We({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function d2({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(m0(i)){if(s.rpId!==i)return new We({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var f0=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class h2{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const f2=new h2;function m2(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,a=f0(n,["challenge","user","excludeCredentials"]),l=ss(e).buffer,u=Object.assign(Object.assign({},s),{id:ss(s.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const g=i[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function p2(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=f0(n,["challenge","allowCredentials"]),a=ss(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const h=s[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ss(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function g2(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:lr(new Uint8Array(n.response.attestationObject)),clientDataJSON:lr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function y2(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:lr(new Uint8Array(a.authenticatorData)),clientDataJSON:lr(new Uint8Array(a.clientDataJSON)),signature:lr(new Uint8Array(a.signature)),userHandle:a.userHandle?lr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ig(){var n,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function v2(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ua("Browser returned unexpected credential type",e)}:{data:null,error:new ua("Empty credential response",e)}}catch(e){return{data:null,error:u2({error:e,options:n})}}}async function x2(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ua("Browser returned unexpected credential type",e)}:{data:null,error:new ua("Empty credential response",e)}}catch(e){return{data:null,error:d2({error:e,options:n})}}}const w2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},b2={userVerification:"preferred",hints:["security-key"]};function da(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(s(u))i[l]=u;else if(e(u)){const h=i[l];e(h)?i[l]=da(h,u):i[l]=da(u)}else i[l]=u}return i}function _2(n,e){return da(w2,n,e||{})}function j2(n,e){return da(b2,n,e||{})}class k2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:a},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!u)return{data:null,error:h};const m=a??f2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=_2(u.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await v2({publicKey:g,signal:m});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=j2(u.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await x2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!s)return{data:null,error:new ji("rpId is required for WebAuthn authentication")};try{if(!ig())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:h};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!s)return{data:null,error:new ji("rpId is required for WebAuthn registration")};try{if(!ig())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:l});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in register",u)}}}}o2();const S2={url:wS,storageKey:bS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_S,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function og(n,e,s){return await s()}const Jr={};class ki{get jwks(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{cachedAt:e})}constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ki.nextInstanceID,ki.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},S2),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new r2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=u0(a.fetch),this.lock=a.lock||og,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=i2:this.lock=og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k2(this)},this.persistSession?(a.storage?this.storage=a.storage:c0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=sg(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=DS(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),kt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),TS(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?{error:s}:{error:new ir("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,a;try{const l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Bt}),{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var s,i,a;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Hr(this.storage,this.storageKey)),l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:E},xform:Bt})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Bt})}else throw new Yo("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:u,options:h}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ng})}else if("phone"in e){const{phone:l,password:u,options:h}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ng})}else throw new Yo("You must provide either an email or phone number and a password");const{data:i,error:a}=s;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,a,l,u,h,m,g,y,v,w;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:k,wallet:N,statement:I,options:O}=e;let A;if(kt())if(typeof N=="object")A=N;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")A=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const D=new URL((s=O?.url)!==null&&s!==void 0?s:window.location.href),$=await A.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=h0($[0]);let q=(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const se=await A.request({method:"eth_chainId"});q=a2(se)}const J={domain:D.host,address:M,statement:I,uri:D.href,version:"1",chainId:q,nonce:(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=c2(J),E=await A.request({method:"personal_sign",params:[l2(_),M]})}try{const{data:k,error:N}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Bt});if(N)throw N;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new qr}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:N})}catch(k){if(ae(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(e){var s,i,a,l,u,h,m,g,y,v,w,_;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:N,wallet:I,statement:O,options:A}=e;let D;if(kt())if(typeof I=="object")D=I;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))D=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=I}const $=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const M=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),O?{statement:O}:null));let q;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")q=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)q=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)E=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),k=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${$.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((v=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...A.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const M=await D.signMessage(new TextEncoder().encode(E),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=M}}try{const{data:N,error:I}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:lr(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Bt});if(I)throw I;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new qr}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:I})}catch(N){if(ae(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{const{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Bt});if(await An(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new qr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:s,provider:i,token:a,access_token:l,nonce:u}=e,h=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Bt}),{data:m,error:g}=h;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new qr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,a,l,u;try{if("email"in e){const{email:h,options:m}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Hr(this.storage,this.storageKey));const{error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:m}=e,{data:g,error:y}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Yo("You must provide either an email or phone number.")}catch(h){if(ae(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var s,i;try{let a,l;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Bt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,g=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,i,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Hr(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:ZS})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new On;const{error:a}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:h}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new Yo("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await tr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Bc()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async s=>{var i,a,l;const{data:u,error:h}=s;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:In})})}catch(s){if(ae(s))return ES(s)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new On;const u=a.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Hr(this.storage,this.storageKey));const{data:g,error:y}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:In});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const s=Date.now()/1e3;let i=s,a=!0,l=null;const{payload:u}=Wc(e.access_token);if(u.exp&&(i=u.exp,a=i<=s),a){const{data:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(ae(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:u,error:h}=s;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new On;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!kt())throw new Qo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jp("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:m,token_type:g}=e;if(!l||!h||!u||!g)throw new Qo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let w=y+v;m&&(w=parseInt(m));const _=w-y;_*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const E=w-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:k,error:N}=await this._getUser(l);if(N)throw N;const I={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(i){if(ae(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{error:l};const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(NS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=LS(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,a;try{const{data:{session:l},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Hr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:a}=await this._useSession(async l=>{var u,h,m,g,y;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return kt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ae(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:u,provider:h,token:m,access_token:g,nonce:y}=e,v=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Bt}),{data:w,error:_}=v;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new qr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:u}=s;if(u)throw u;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await $S(async a=>(a>0&&await FS(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bt})),(a,l)=>{const u=200*Math.pow(2,a);return l&&Vc(l)&&Date.now()+u-i<Yr})}catch(i){if(this._debug(s,"error",i),ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),kt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await tr(this.storage,this.storageKey);if(a&&this.userStorage){let u=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Qr(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:Bc()}else if(a&&!a.user&&!a.user){const u=await tr(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await An(this.storage,this.storageKey+"-user"),await Qr(this.storage,this.storageKey,a)):a.user=Bc()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Uc;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Uc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Vc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ba;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new On;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),ae(l)){const u={data:null,error:l};return Vc(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(m){l.push(m)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Qr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=eg(a);await Qr(this.storage,this.storageKey,l)}else{const a=eg(s);await Qr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yr}ms, refresh threshold is ${bu} ticks`),a<=bu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof d0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Hr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;return l?{data:null,error:l}:await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&m.type==="totp"&&(!((a=m?.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?g2(e.webauthn.credential_response):y2(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(s){if(ae(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m2(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p2(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Wc(a.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+kS>a)return i;const{data:l,error:u}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};i=_.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:m}}=Wc(i);s?.allowExpired||HS(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:u},error:null}}const y=KS(a.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,OS(`${h}.${m}`)))throw new ku("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}}ki.nextInstanceID=0;const N2=ki;class E2 extends N2{constructor(e){super(e)}}var T2=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,m)}g((i=i.apply(n,e||[])).next())})};class C2{constructor(e,s,i){var a,l,u;this.supabaseUrl=e,this.supabaseKey=s;const h=xS(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:cS,realtime:dS,auth:Object.assign(Object.assign({},uS),{storageKey:m}),global:lS},y=vS(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=pS(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Sk(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new iS(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new pk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return T2(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:u,flowType:h,lock:m,debug:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E2({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,flowType:h,lock:m,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P2=(n,e,s)=>new C2(n,e,s);function A2(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}A2()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const is={},R2=is?.VITE_SUPABASE_URL||is?.VITE_PUBLIC_SUPABASE_URL||is?.NEXT_PUBLIC_SUPABASE_URL,O2=is?.VITE_SUPABASE_ANON_KEY||is?.VITE_PUBLIC_SUPABASE_ANON_KEY||is?.NEXT_PUBLIC_SUPABASE_ANON_KEY,Ln=P2(R2,O2),I2=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ln},Symbol.toStringTag,{value:"Module"})),L2={};async function D2(n){const{contractText:e,fileName:s="contract.pdf",htmlOverride:i,metadata:a={version:"1.0.0"}}=n,l=L2?.VITE_API_BASE_URL,u=l?`${l.replace(/\/$/,"")}/api/export`:"/api/export",h=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:e,format:"pdf",html:i,metadata:a})});if(!h.ok){let v="Export failed";try{v=(await h.json())?.message||v}catch{}throw new Error(v)}const m=await h.blob(),g=URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download=s,document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(g)}function M2(n){const[e,s]=C.useState(n);return C.useEffect(()=>{if(e<=0)return;const i=setInterval(()=>{s(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(i)},[e]),e}function F2({contractText:n,onClose:e}){const[s,i]=C.useState(!1),[a,l]=C.useState(null),u=async()=>{i(!0);try{const g=await _i.review({contract_text:n});l(g)}catch(g){qe(g.message||"Review failed","error")}finally{i(!1)}},h={low:"text-accent",medium:"text-yellow-600",high:"text-destructive"},m={low:cs,medium:va,high:_j};return d.jsx(Ti,{children:d.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:e,children:d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"linear"},onClick:g=>g.stopPropagation(),className:"bg-card border border-border max-w-3xl w-full max-h-[80vh] overflow-auto",children:[d.jsx("div",{className:"p-6 lg:p-8 border-b border-border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Compliance Scanner"}),d.jsx("h2",{className:"text-[1.5rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Contract Review"})]}),d.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M5 5L15 15M5 15L15 5",strokeWidth:"1.5",strokeLinecap:"square"})})})]})}),d.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&!s&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Analyze contract for compliance issues and risk factors"}),d.jsx("button",{onClick:u,className:"px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Start Review"})]}),s&&d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(us,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}),a&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"border-l-2 border-accent pl-4",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Overall Risk Level"}),d.jsx("p",{className:`text-[1.25rem] uppercase tracking-wider ${h[a.overall_risk]}`,style:{fontWeight:600},children:a.overall_risk})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Summary"}),d.jsx("p",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:a.summary})]}),a.red_flags.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["Issues Detected (",a.red_flags.length,")"]}),d.jsx("div",{className:"space-y-3",children:a.red_flags.map((g,y)=>{const v=m[g.severity];return d.jsx("div",{className:"border border-border p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(v,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${h[g.severity]}`,strokeWidth:1.5}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:g.clause}),d.jsx("p",{className:"text-[0.875rem] mb-2",style:{fontWeight:500},children:g.issue}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:g.suggestion})]})]})},y)})})]})]})]})]})})})}function $2({templateId:n,jurisdiction:e,onBack:s}){const[i,a]=C.useState(null),[l,u]=C.useState(!0),[h,m]=C.useState(!1),[g,y]=C.useState(!1),[v,w]=C.useState(!1),[_,E]=C.useState(!1),[k,N]=C.useState(!1),[I,O]=C.useState({}),[A,D]=C.useState(""),[$,M]=C.useState(0),[q,J]=C.useState(!1),se=M2($);C.useEffect(()=>{async function F(){try{const{template:ne}=await _i.getTemplate(n,e);a(ne);const Se={};ne.inputs.forEach(K=>{K.type==="date"?Se[K.key]=new Date().toISOString().split("T")[0]:Se[K.key]=""}),O(Se)}catch(ne){qe(ne.message||"Failed to load template","error"),s()}finally{u(!1)}}F()},[n,s]);const pe=(F,ne)=>{O(Se=>({...Se,[F]:ne}))},Me=async()=>{if(!i)return;console.log("🔍 Filter debug:",{array:i?.inputs,arrayType:typeof i?.inputs,isArray:Array.isArray(i?.inputs),location:"ContractEditorView handleGenerate"});const F=(i.inputs||[]).filter(ne=>ne&&ne.required&&!I[ne.key]).map(ne=>ne.label);if(F.length>0){qe(`Required fields missing: ${F.join(", ")}`,"error");return}try{const{data:ne}=await Ln.auth.getSession();if(!ne.session?.access_token){const K=new Date,V=`${K.getFullYear()}-${K.getMonth()+1}`,Y="symi_free_gen",G=localStorage.getItem(Y);let T={month:V,count:0};if(G)try{T=JSON.parse(G)}catch{}if(T.month!==V&&(T={month:V,count:0}),T.count>=10){N(!0);return}T.count+=1,localStorage.setItem(Y,JSON.stringify(T))}}catch{}m(!0);try{const ne=await _i.generate({contract_id:n,user_inputs:I,lawyer_mode:!1});D(ne.generated_text),qe("Contract generated successfully","success")}catch(ne){ne.code==="RATE_LIMIT"?(M(ne.retryInSec||60),qe(`Rate limit exceeded. Retry in ${ne.retryInSec}s`,"error")):ne.code==="LIMIT_REACHED"?(w(!1),E(!1),N(!0)):qe(ne.message||"Generation failed","error")}finally{m(!1)}},Je=async F=>{if(!A){qe("No contract to export","error");return}y(!0);try{if(F==="pdf"){w(!0),y(!1);return}qe(`Contract exported as ${F.toUpperCase()}`,"success")}catch(ne){qe(ne.message||"Export failed","error")}finally{}},Ie=async()=>{if(_){y(!0);try{await D2({contractText:A,fileName:"contrat.pdf",metadata:{version:i?.metadata.version,date:new Date().toISOString().split("T")[0]}}),qe("Contract exported as PDF","success"),w(!1),E(!1)}catch(F){qe(F.message||"Export failed","error")}finally{y(!1)}}};return l||!i?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsx(us,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:[d.jsxs("button",{onClick:s,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(ya,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Template Library"})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${h?"bg-accent animate-pulse":"bg-system-standby"}`}),d.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["SYNTHESIS MODULE / ",n.toUpperCase()]})]}),d.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:i.metadata.title}),d.jsxs("p",{className:"text-[0.75rem] text-muted-foreground mt-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[i.metadata.jurisdiction," • v",i.metadata.version]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:Me,disabled:h||se>0,className:"flex items-center gap-2 px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:h?d.jsxs(d.Fragment,{children:[d.jsx(us,{className:"w-3.5 h-3.5 animate-spin",strokeWidth:1.5}),"Génération"]}):se>0?d.jsxs(d.Fragment,{children:[d.jsx(va,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Réessayer ",se,"s"]}):d.jsxs(d.Fragment,{children:[d.jsx(Kj,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Générer"]})}),A&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[d.jsx(od,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Analyser"]}),d.jsxs("button",{onClick:()=>Je("pdf"),disabled:g,className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[d.jsx(Nj,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Télécharger PDF"]})]})]})]})]}),d.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.15,ease:"linear"},className:"grid grid-cols-1 lg:grid-cols-2 gap-px bg-border",children:[d.jsx("div",{className:"bg-card p-6 lg:p-8 space-y-8",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Input Parameters"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"ACTIVE"})]})]}),d.jsx("div",{className:"space-y-5",children:i.inputs.map(F=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[F.label,F.required&&d.jsx("span",{className:"text-accent ml-1",children:"*"})]}),F.type==="textarea"?d.jsx("textarea",{value:I[F.key]||"",onChange:ne=>pe(F.key,ne.target.value),rows:4,className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none",style:{fontFamily:"var(--font-mono)",fontWeight:400}}):F.type==="select"?d.jsx("select",{value:I[F.key]||"",onChange:ne=>pe(F.key,ne.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:d.jsx("option",{value:"",children:"Select..."})}):d.jsx("input",{type:F.type,value:I[F.key]||"",onChange:ne=>pe(F.key,ne.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400}})]},F.key))})]})}),d.jsxs("div",{className:"bg-card p-6 lg:p-8 overflow-auto max-h-[calc(100vh-200px)] sticky top-20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Output Preview"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`h-px w-8 ${A?"bg-accent":"bg-border"}`}),d.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:A?"READY":"STANDBY"})]})]}),A?d.jsx("div",{className:"prose prose-sm max-w-none",children:d.jsx("div",{className:"text-[0.875rem] whitespace-pre-wrap",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:A})}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Remplissez les paramètres et cliquez sur Générer"})})]})]})]}),q&&A&&d.jsx(F2,{contractText:A,onClose:()=>J(!1)}),v&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-lg",children:[d.jsx("h3",{className:"text-[1.125rem] mb-3",style:{fontWeight:600},children:"Conditions d'utilisation du document"}),d.jsxs("div",{className:"space-y-3 text-[0. NineTwoFiverem]",style:{lineHeight:1.6},children:[d.jsx("p",{children:"Ce document est généré automatiquement par intelligence artificielle et fourni à titre informatif uniquement."}),d.jsx("p",{children:"Il ne remplace pas l'avis personnalisé d'un avocat et n'a pas de valeur juridique sans validation par un professionnel du droit."}),d.jsx("p",{children:"Symione décline toute responsabilité en cas de litige découlant de l'utilisation de ce document sans consultation juridique préalable."}),d.jsx("p",{children:"Pour une situation à enjeu important, nous recommandons de faire valider ce document par un avocat."})]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("label",{className:"flex items-center gap-2 text-[0.875rem]",children:[d.jsx("input",{type:"checkbox",checked:_,onChange:F=>E(F.target.checked)}),"J'ai lu et j'accepte ces conditions d'utilisation"]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>{w(!1),E(!1)},className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:Ie,disabled:!_||g,className:"px-4 py-2 bg-accent text-accent-foreground disabled:opacity-50",children:"Télécharger le contrat PDF"})]})]})]})}),k&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[d.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Limite gratuite atteinte"}),d.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Vous avez généré 2 contrats ce mois. Passez au Plan Pro pour débloquer 20 contrats/mois."}),d.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:async()=>{try{const ne=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:"pro"})})).json();ne?.url?window.location.href=ne.url:window.location.href="/prix"}catch{window.location.href="/prix"}},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro (149€/mois)"})]})]})})]})}var U2={};class V2{baseURL;maxRetries=3;retryDelay=1e3;requestTimeout=3e4;constructor(e){this.baseURL=e}async sleep(e){return new Promise(s=>setTimeout(s,e))}createAbortController(){return new AbortController}async request(e,s={},i=this.maxRetries){const a=`${this.baseURL}${e}`,l=this.createAbortController(),u=setTimeout(()=>l.abort(),this.requestTimeout);try{const h=await fetch(a,{...s,signal:l.signal,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...s.headers},mode:"cors",credentials:"omit"});if(clearTimeout(u),!h.ok){let g={};try{h.headers.get("content-type")?.includes("application/json")?g=await h.json():g={message:await h.text()}}catch{g={message:`HTTP ${h.status}`}}if(h.status===429){const y=h.headers.get("Retry-After");throw new p0(g.message||"Rate limit exceeded",y?parseInt(y):60)}throw h.status>=500?new ag(g.message||"Server error",h.status,g.code):new hs(g.message||`HTTP ${h.status}`,h.status,g.code)}return h.headers.get("content-type")?.includes("application/json")?await h.json():await h.text()}catch(h){if(clearTimeout(u),h instanceof Error&&h.name==="AbortError")throw new lg("Request timeout");if(i>0&&this.isRetryableError(h))return await this.sleep(this.retryDelay*(this.maxRetries-i+1)),this.request(e,s,i-1);throw h}}isRetryableError(e){return e instanceof lg||e instanceof ag||!e.status||e.status>=500}async get(e,s){const i=s?`${e}?${new URLSearchParams(s).toString()}`:e;return this.request(i,{method:"GET"})}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async patch(e,s){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0})}}class hs extends Error{constructor(e,s,i){super(e),this.status=s,this.code=i,this.name="APIError"}}class p0 extends hs{constructor(e,s){super(e,429,"RATE_LIMIT_EXCEEDED"),this.retryAfter=s,this.name="RateLimitError"}}class ag extends hs{constructor(e,s,i){super(e,s,i),this.name="ServerError"}}class lg extends Error{constructor(e){super(e),this.name="TimeoutError"}}const Ot=new V2(U2.NEXT_PUBLIC_API_URL||"https://symilegalback.vercel.app/api");function cg(n,e=[],s={}){const{immediate:i=!0,retryOnError:a=!1,retryDelay:l=1e3,maxRetries:u=3}=s,[h,m]=C.useState(null),[g,y]=C.useState(i),[v,w]=C.useState(null),[_,E]=C.useState(0),k=C.useRef(null),N=C.useRef(null),I=C.useCallback(async(D=!1)=>{k.current&&k.current.abort(),k.current=new AbortController,D||(y(!0),w(null));try{const $=await n();if(k.current?.signal.aborted)return;m($),w(null),E(0)}catch($){if(k.current?.signal.aborted)return;const M=$ instanceof Error?$:new Error("Unknown error");if(w(M),a&&_<u){const q=_+1;E(q),N.current=setTimeout(()=>{I(!0)},l*q)}console.error("API Error:",M)}finally{D||y(!1)}},[n,_,a,l,u]),O=C.useCallback(async()=>{E(0),await I()},[I]),A=C.useCallback(()=>{k.current&&k.current.abort(),N.current&&clearTimeout(N.current),y(!1)},[]);return C.useEffect(()=>(i&&I(),()=>{k.current&&k.current.abort(),N.current&&clearTimeout(N.current)}),e),{data:h,loading:g,error:v,refetch:()=>I(),retry:O,cancel:A}}const ii={getTemplates:()=>Ot.get("/contracts/templates"),getQuestions:n=>Ot.get(n?`/contracts/questions?id=${encodeURIComponent(n)}`:"/contracts/questions"),suggest:n=>Ot.post("/contracts/suggest",n),create:n=>Ot.post("/contracts/create",n),getContracts:()=>Ot.get("/escrow/contracts"),getContract:n=>Ot.get(`/escrow/contracts/${n}`),createPaymentIntent:n=>Ot.post("/escrow/intent/create",n),intentCreate:n=>Ot.post("/escrow/intent/create",n),submitMilestone:n=>Ot.post("/escrow/milestone/submit",n),validateMilestone:n=>Ot.post("/escrow/milestone/validate",n)},W2={analyze:n=>Ot.post("/conseiller/analyze",n)},B2={chat:n=>Ot.post("/advisor",n)};function g0({size:n="md",className:e=""}){const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return d.jsx(us,{className:`animate-spin ${s[n]} ${e}`,strokeWidth:1.5})}function ug({message:n="Chargement...",className:e=""}){return d.jsx("div",{className:`bg-card border border-border rounded-lg p-8 ${e}`,children:d.jsxs("div",{className:"text-center",children:[d.jsx(g0,{size:"md",className:"mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:n})]})})}function na({loading:n,children:e,className:s="",disabled:i=!1,onClick:a,type:l="button"}){return d.jsxs("button",{type:l,onClick:a,disabled:i||n,className:`
        px-6 py-3 rounded-lg transition-all duration-200 flex items-center justify-center gap-2
        ${n||i?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${s}
      `,children:[n&&d.jsx(g0,{size:"sm"}),e]})}function ha(n=!1){const[e,s]=Fr.useState(n),[i,a]=Fr.useState(null),l=Fr.useCallback(()=>{s(!0),a(null)},[]),u=Fr.useCallback(()=>{s(!1)},[]),h=Fr.useCallback(g=>{a(g),s(!1)},[]),m=Fr.useCallback(()=>{s(!1),a(null)},[]);return{loading:e,error:i,startLoading:l,stopLoading:u,setErrorState:h,reset:m}}class hd extends C.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s}),this.props.onError?.(e,s)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto p-8 text-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx(va,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Une erreur s'est produite"}),d.jsx("p",{className:"text-muted-foreground",children:"Désolé, quelque chose s'est mal passé. Veuillez réessayer."})]}),!1,d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs("button",{onClick:this.handleRetry,className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center gap-2",children:[d.jsx($j,{className:"w-4 h-4"}),"Réessayer"]}),d.jsxs("button",{onClick:this.handleGoHome,className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors flex items-center gap-2",children:[d.jsx(Cj,{className:"w-4 h-4"}),"Accueil"]})]})]})}):this.props.children}}const z2=`Bonjour, je suis votre assistant juridique intelligent.

Je fournis des informations générales et des recommandations basées sur votre situation, mais je ne remplace pas un avocat.

Pour toute situation complexe, à fort enjeu, ou nécessitant une action en justice, je vous recommanderai de consulter un professionnel du droit.

Comment puis-je vous aider aujourd'hui?`;function q2({onBack:n}){const[e,s]=C.useState(""),[i,a]=C.useState(""),[l,u]=C.useState(""),[h,m]=C.useState(""),[g,y]=C.useState(""),[v,w]=C.useState(null),[_,E]=C.useState([]),[k,N]=C.useState(""),{loading:I,error:O,startLoading:A,stopLoading:D,setErrorState:$}=ha(),M=async()=>{if(!e||e.trim().length<50){qe("Veuillez décrire votre situation en détail (min 50 caractères)","error");return}try{A(),w(null);const F=await W2.analyze({problem:e,city:i,situationType:l,urgence:h,hasProofs:g});w(F),E(ne=>[...ne,{id:`u-${Date.now()}`,role:"user",content:e},{id:`a-${Date.now()}`,role:"assistant",content:`Analyse complétée pour ${i||"votre zone"}.`}]),qe("Analyse terminée avec succès","success")}catch(F){console.error("Analysis error:",F),F instanceof p0?qe(`Limite de taux atteinte. Réessayez dans ${F.retryAfter} secondes.`,"error"):F instanceof hs?qe(F.message,"error"):qe("Erreur lors de l'analyse. Veuillez réessayer.","error"),$(F instanceof Error?F.message:"Erreur inconnue")}finally{D()}},q=()=>{k.trim()&&(E(F=>[...F,{id:`u-${Date.now()}`,role:"user",content:k},{id:`a-${Date.now()}`,role:"assistant",content:"Réponse contextuelle (bientôt disponible)."}]),N(""))},[J,se]=C.useState(""),[pe,Me]=C.useState([]),[Je,Ie]=C.useState(!1);return d.jsx(hd,{children:d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(ya,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),d.jsxs("div",{className:"pb-6 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"MODULE CONSEIL / ASSISTANCE"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Conseiller juridique"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[d.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 p-4",style:{whiteSpace:"pre-wrap",lineHeight:1.6},children:z2}),d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"bg-card border border-border p-6 lg:p-8",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg font-bold mb-4 text-foreground",children:"Pour une recommandation précise:"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Type de situation juridique:"}),d.jsxs("select",{value:l,onChange:F=>u(F.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[d.jsx("option",{value:"",children:"Sélectionnez..."}),d.jsx("option",{value:"voisinage",children:"Litige avec voisin (bruit, empiètement, etc.)"}),d.jsx("option",{value:"travail",children:"Problème employeur/salarié (licenciement, harcèlement, etc.)"}),d.jsx("option",{value:"commercial",children:"Contrat commercial (prestation, vente, etc.)"}),d.jsx("option",{value:"immobilier",children:"Immobilier (achat, location, travaux)"}),d.jsx("option",{value:"famille",children:"Famille (divorce, garde d'enfants, succession)"}),d.jsx("option",{value:"consommation",children:"Litige consommation (achat défectueux, SAV)"}),d.jsx("option",{value:"autre",children:"Autre"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Niveau d'urgence:"}),d.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[d.jsx("option",{value:"",children:"Sélectionnez..."}),d.jsx("option",{value:"tres_urgent",children:"Très urgent (action dans les 48h)"}),d.jsx("option",{value:"urgent",children:"Urgent (action cette semaine)"}),d.jsx("option",{value:"moyen",children:"Moyen (action ce mois-ci)"}),d.jsx("option",{value:"pas_urgent",children:"Pas urgent (information préventive)"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Avez-vous des preuves/documents?"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"oui",checked:g==="oui",onChange:F=>y(F.target.value),className:"mr-2"}),d.jsx("span",{className:"text-sm text-foreground",children:"Oui, j'ai des preuves"})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"non",checked:g==="non",onChange:F=>y(F.target.value),className:"mr-2"}),d.jsx("span",{className:"text-sm text-foreground",children:"Non, pas de preuves"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Décrivez votre situation en détail"}),d.jsx("textarea",{value:e,onChange:F=>s(F.target.value),rows:8,placeholder:"Contexte, enjeux, dates clés, actions déjà réalisées",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ville (pour recommandation avocat)"}),d.jsx("input",{value:i,onChange:F=>a(F.target.value),placeholder:"Paris",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsx(na,{loading:I,onClick:M,disabled:!e.trim(),className:"w-full px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:I?"Analyse en cours...":"Analyser ma situation"}),d.jsx("p",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:"Réponse en moins de 30 secondes • Service confidentiel"}),O&&d.jsx("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ls,{className:"w-4 h-4 text-destructive"}),d.jsx("p",{className:"text-sm text-destructive",children:O})]})})]})}),v&&d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"space-y-6",children:[d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Analyse de votre situation"}),d.jsx("p",{className:"text-[0.875rem] mb-4",style:{lineHeight:1.6},children:v.audit.summary}),Array.isArray(v.audit.risks)&&v.audit.risks.length>0&&d.jsxs("div",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:[d.jsx("div",{className:"mb-1",style:{fontWeight:600},children:"Points d'attention:"}),d.jsx("ul",{className:"list-disc pl-5",children:v.audit.risks.map((F,ne)=>d.jsx("li",{children:F},ne))})]}),d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)"},children:[d.jsxs("span",{children:["Urgence: ",v.audit.urgency]})," • ",d.jsxs("span",{children:["Complexité: ",v.audit.complexity]})]})]}),v.recommendedTemplate&&d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Modèle recommandé"}),d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:v.recommendedTemplate.name}),v.recommendedTemplate.reason&&d.jsx("p",{className:"text-[0.875rem] mt-1 text-muted-foreground",children:v.recommendedTemplate.reason}),d.jsx("div",{className:"mt-2",children:v.recommendedTemplate.available?d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),v.recommendedTemplate.slug&&d.jsx("button",{className:"mt-4 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${v.recommendedTemplate.slug}`,children:"Utiliser ce modèle →"}),v.needsLawyer&&d.jsxs("div",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:["⚠️ ",d.jsx("strong",{children:"Attention:"})," Votre situation est complexe. Nous recommandons aussi de consulter un avocat."]})]}),v.needsLawyer&&Array.isArray(v.recommendedLawyers)&&v.recommendedLawyers.length>0&&d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-4",style:{fontWeight:600},children:"Avocats recommandés"}),!v.recommendedTemplate&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-3",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),d.jsx("div",{className:"space-y-3",children:v.recommendedLawyers.map((F,ne)=>d.jsxs("div",{className:"border border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:F.name}),typeof F.rating=="number"&&d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[F.rating,"/5"]})]}),d.jsx("div",{className:"text-[0.875rem] text-muted-foreground mt-1",children:[F.specialty,F.city,F.firm].filter(Boolean).join(" • ")}),F.phone&&d.jsx("a",{href:`tel:${F.phone}`,className:"text-[0.75rem] mt-2 inline-block underline",children:"Contacter"})]},ne))})]}),d.jsxs("div",{className:"border border-border p-4 text-[0.875rem] bg-accent/5",children:[d.jsx("span",{className:"mr-2",children:"💡"}),"Créez un compte gratuit pour sauvegarder vos consultations et générer des contrats personnalisés.",d.jsx("button",{onClick:()=>window.location.href="/login",className:"ml-3 underline",children:"Créer un compte"})]})]})]}),d.jsx("div",{className:"lg:col-span-7",children:d.jsxs("div",{className:"bg-card border border-border p-4 lg:p-6 min-h-[520px] flex flex-col gap-4",children:[!v&&!I&&d.jsx("div",{className:"text-center text-[0.875rem] text-muted-foreground py-16",children:"Décrivez votre situation à gauche pour recevoir une analyse juridique détaillée"}),I&&d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),v&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border border-border p-4",children:[d.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📋 Analyse de votre situation"}),d.jsxs("p",{className:"text-[0.875rem] mb-2",children:[d.jsx("strong",{children:"Résumé:"})," ",v.audit.summary]}),Array.isArray(v.audit.risks)&&v.audit.risks.length>0&&d.jsxs("div",{className:"text-[0.875rem] mb-2",children:[d.jsx("strong",{children:"Points d'attention:"}),d.jsx("ul",{className:"list-disc pl-5",children:v.audit.risks.map((F,ne)=>d.jsx("li",{children:F},ne))})]}),d.jsxs("div",{className:"flex items-center gap-3 text-[0.75rem] text-muted-foreground",children:[d.jsxs("span",{children:["Urgence: ",v.audit.urgency]}),d.jsx("span",{children:"•"}),d.jsxs("span",{children:["Complexité: ",v.audit.complexity]})]})]}),v.recommendedTemplate&&d.jsxs("div",{className:"border border-border p-4",children:[d.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📄 Template recommandé"}),d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:v.recommendedTemplate.name}),v.recommendedTemplate.reason&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-1",children:v.recommendedTemplate.reason}),d.jsx("div",{className:"mt-2",children:v.recommendedTemplate.available?d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),v.recommendedTemplate.slug&&d.jsx("button",{className:"mt-3 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${v.recommendedTemplate.slug}`,children:"Utiliser ce template →"}),v.needsLawyer&&d.jsx("p",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:"⚠️ Situation complexe: nous recommandons aussi de consulter un avocat"})]}),Array.isArray(v.recommendedLawyers)&&v.recommendedLawyers.length>0&&d.jsxs("div",{className:"border border-border p-4",children:[d.jsxs("h4",{className:"text-[0.95rem] mb-2",children:["⚖️ Avocats recommandés ",i?`à ${i}`:""]}),!v.recommendedTemplate&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-2",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),d.jsx("div",{className:"space-y-3",children:v.recommendedLawyers.map((F,ne)=>d.jsxs("div",{className:"border border-border p-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:F.name}),typeof F.rating=="number"&&d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[F.rating,"/5"]})]}),d.jsx("div",{className:"text-[0.875rem] text-muted-foreground",children:[F.specialty,F.city,F.firm].filter(Boolean).join(" • ")}),F.phone&&d.jsx("a",{href:`tel:${F.phone}`,className:"underline text-[0.8125rem] mt-1 inline-block",children:"Contacter"})]},ne))})]}),_.map(F=>d.jsx("div",{className:`p-3 border ${F.role==="assistant"?"bg-accent/5 border-accent/20":"bg-card border-border"}`,children:F.content},F.id)),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"Question complémentaire...",value:k,onChange:F=>N(F.target.value),onKeyPress:F=>F.key==="Enter"&&q(),className:"flex-1 px-3 py-2 bg-input-background border border-border",style:{fontFamily:"var(--font-mono)"}}),d.jsx("button",{onClick:q,className:"px-4 py-2 border border-border",children:"→"})]})]})]})})]})]})})})}const H2=[{id:"pro",name:"Pro",price:"149",period:"/ mois",description:"Pour freelances, PME et consultants qui veulent une équipe juridique à portée de main",features:["20 contrats par mois","Accès bibliothèque complète (50+ modèles)","Conseiller IA (chat + vocal)","Export PDF & DOCX","Révisions illimitées","Support prioritaire (< 24h)"],icon:Ky,iconText:"Assistant IA quotidien, simple et efficace",cta:"Commencer",variant:"outline",target:"Freelances, PME, Consultants"},{id:"cabinet",name:"Cabinet",price:"349",period:"/ mois",description:"Pour cabinets d'avocats et directions juridiques",features:["Contrats illimités","Rapport SYMI Intelligence hebdomadaire","Référencement prioritaire (Top 3 suggestions)","Assistant vocal IA personnalisé (votre branding)","Onboarding & formation inclus","Support prioritaire (< 2h, 7j/7)","Formation continue (1x/trimestre)"],icon:Vj,iconText:"Partenariat avancé et avantages exclusifs",cta:"Devenir partenaire",variant:"accent",highlighted:!0,target:"Cabinets & Directions juridiques"},{id:"enterprise",name:"Entreprise",price:"Sur consultation",period:"",description:"Pour grands cabinets (20+) et corporate",features:["White label complet (votre marque)","Accès API (ERP/CRM)","Rapports SYMI personnalisés","Multi-juridictions (FR, UE, UK, US)","SLA 99.9% garanti","Account manager dédié","Installation sur-mesure et développements custom"],icon:Dj,iconText:"Accompagnement dédié et intégrations avancées",cta:"Discuter de vos besoins",variant:"outline",target:"Grandes organisations"}];function K2({onNavigate:n}){const e=s=>{n(s==="cabinet"?"contact":"login")};return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-8 text-center",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"TARIFICATION / PLANS"}),d.jsxs("div",{className:"max-w-3xl mx-auto border border-border p-12 text-center",children:[d.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] mb-6 tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.2},children:"Choisissez votre liberté."}),d.jsxs("p",{className:"text-[1rem] text-muted-foreground",style:{lineHeight:1.7},children:["Pas d'engagement. Pas de surprise. Juste des",d.jsx("br",{}),"contrats professionnels accessibles à tous."]})]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:H2.map((s,i)=>{const a=s.icon;return d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.08,ease:"linear"},className:`border border-border bg-card p-8 lg:p-10 relative transition-all duration-200 ${s.highlighted?"ring-2 ring-accent ring-offset-2 ring-offset-background":"hover:border-accent/50"}`,children:[s.highlighted&&d.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-accent text-accent-foreground text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Recommandé"}),d.jsxs("div",{className:"mb-8 pb-8 border-b border-border",children:[d.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:s.name}),d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.target}),d.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.id!=="enterprise"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-[3.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:s.price}),d.jsxs("span",{className:"text-[1rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["€ ",s.period]})]}):d.jsx("span",{className:"text-[1.75rem] tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.2},children:s.price})}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:s.description})]}),d.jsxs("div",{className:"flex items-start gap-3 mb-6 p-3 bg-accent/5 border border-accent/10",children:[d.jsx(a,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5",strokeWidth:1.5}),d.jsx("p",{className:"text-[0.75rem]",style:{lineHeight:1.5,fontFamily:"var(--font-mono)",fontWeight:300},children:s.iconText})]}),d.jsx("ul",{className:"space-y-3 mb-10",children:s.features.map((l,u)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1 flex-shrink-0",children:d.jsx(vj,{className:"w-4 h-4 text-accent",strokeWidth:2})}),d.jsx("span",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:l})]},u))}),d.jsx("button",{onClick:async()=>{if(s.id==="pro"||s.id==="cabinet")try{const u=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:s.id})})).json();u?.url?window.location.href=u.url:e(s.id)}catch{e(s.id)}else e(s.id)},className:`w-full px-8 py-5 text-[0.75rem] uppercase tracking-[0.12em] transition-all duration-200 ${s.variant==="accent"?"bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)]":"border border-border hover:border-foreground hover:bg-accent/5"}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:s.cta})]},s.id)})}),d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.4},className:"mt-12 text-center",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{lineHeight:1.7},children:"Tous les plans incluent l'accès aux 3 juridictions (FR, UK, US) et la garantie de génération en moins de 5 minutes."}),d.jsx("button",{onClick:()=>n("contact"),className:"text-[0.75rem] uppercase tracking-[0.08em] text-accent hover:underline",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Besoin d'un plan sur mesure ? Contactez-nous →"})]})]})})}function G2({onNavigate:n}){const[e,s]=C.useState(!1),[i,a]=C.useState(""),[l,u]=C.useState(""),h=async m=>{m.preventDefault();try{if(e){const{error:g}=await Ln.auth.signUp({email:i,password:l});if(g)throw g;qe("Inscription réussie. Vérifiez votre email.","success"),n("contracts")}else{const{error:g}=await Ln.auth.signInWithPassword({email:i,password:l});if(g)throw g;qe("Connexion réussie","success"),n("contracts")}}catch(g){qe(g.message||"Erreur authentification","error")}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center py-20 px-6",children:d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"ACCÈS PLATEFORME"}),d.jsx("h1",{className:"text-[2.5rem] mb-4 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:e?"Créer un compte.":"Connexion."}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7},children:e?"Commencez à générer vos contrats professionnels":"Accédez à votre espace de travail juridique"})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsx("div",{className:"border border-border bg-card p-8",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Adresse email"}),d.jsx("input",{id:"email",type:"email",value:i,onChange:m=>a(m.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"votre@email.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Mot de passe"}),d.jsx("input",{id:"password",type:"password",value:l,onChange:m=>u(m.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"••••••••"})]}),!e&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",className:"w-4 h-4"}),d.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)"},children:"Se souvenir de moi"})]}),d.jsx("button",{type:"button",className:"text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"Mot de passe oublié ?"})]})]})}),d.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:e?"Créer mon compte":"Se connecter"}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:e?"Déjà un compte ? Se connecter →":"Pas encore de compte ? S'inscrire →"})})]}),d.jsxs("div",{className:"mt-8 pt-8 border-t border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground text-center mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ou continuer avec"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"google"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Google"}),d.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"azure"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Microsoft"})]})]})]})})}function J2(){const n=[{icon:hu,title:"Démarrage rapide",description:"Commencez en moins de 5 minutes",items:["Créer un compte","Choisir un template","Générer votre premier contrat","Exporter en PDF/DOCX"]},{icon:qy,title:"Bibliothèque de templates",description:"50+ modèles professionnels",items:["Contrats de travail (CDI, CDD, Stage)","Contrats commerciaux (Vente, Prestation)","Accords de confidentialité (NDA)","Baux et locations"]},{icon:kj,title:"API & Intégrations",description:"Pour les plans Cabinet",items:["REST API documentation","Webhooks & événements","White label & branding","SSO & authentification"]},{icon:pj,title:"Guide juridique",description:"Comprendre vos contrats",items:["Clauses essentielles","Mentions obligatoires","Juridictions supportées","Conformité RGPD"]}];return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME / DOCUMENTATION"}),d.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Documentation."}),d.jsx("p",{className:"text-[1rem] text-muted-foreground max-w-2xl",style:{lineHeight:1.7},children:"Guides complets, références API et ressources pour maîtriser la plateforme SYMIONE."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-border",children:n.map((e,s)=>{const i=e.icon;return d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:s*.08,ease:"linear"},className:"bg-card p-8 lg:p-10 hover:bg-accent/5 transition-colors duration-200 cursor-pointer",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[d.jsx("div",{className:"p-3 border border-border",children:d.jsx(i,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600},children:e.title}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:e.description})]})]}),d.jsx("ul",{className:"space-y-3 border-t border-border pt-6",children:e.items.map((a,l)=>d.jsxs("li",{className:"flex items-center gap-3 group",children:[d.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full group-hover:bg-accent transition-colors duration-200"}),d.jsx("span",{className:"text-[0.875rem] group-hover:text-accent transition-colors duration-200",style:{lineHeight:1.6},children:a})]},l))})]},e.title)})}),d.jsx(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.3},className:"mt-16 border border-border p-8 lg:p-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:"Besoin d'aide supplémentaire ?"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:"Notre équipe support est disponible pour vous accompagner."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{className:"px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Support"}),d.jsx("button",{className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"API Docs"})]})]})})]})})}function Y2(){const[n,e]=C.useState({name:"",email:"",company:"",subject:"general",message:""}),s=i=>{i.preventDefault(),console.log("Contact form submitted:",n),alert("Message envoyé ! Notre équipe vous répondra sous 24h.")};return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CONTACT / SUPPORT"}),d.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Nous consulter."}),d.jsx("p",{className:"text-[1rem] text-muted-foreground mb-12",style:{lineHeight:1.7},children:"Notre équipe est à votre disposition pour répondre à vos questions sur nos plans, fonctionnalités ou partenariats."}),d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"p-3 border border-border",children:d.jsx(Oj,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1rem] mb-1",style:{fontWeight:600},children:"Email"}),d.jsx("a",{href:"mailto:contact@symi.io",className:"text-[0.875rem] text-muted-foreground hover:text-accent transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})}),d.jsxs("div",{className:"mt-12 pt-8 border-t border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Liens rapides"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("a",{href:"mailto:sales@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Demande commerciale"}),d.jsx("a",{href:"mailto:support@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Support technique"}),d.jsx("a",{href:"mailto:partners@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Partenariats cabinets"})]})]})]}),d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear",delay:.1},children:d.jsx("form",{onSubmit:s,className:"border border-border bg-card p-8 lg:p-10",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Nom complet *"}),d.jsx("input",{id:"name",type:"text",value:n.name,onChange:i=>e({...n,name:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Email *"}),d.jsx("input",{id:"email",type:"email",value:n.email,onChange:i=>e({...n,email:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Entreprise / Cabinet"}),d.jsx("input",{id:"company",type:"text",value:n.company,onChange:i=>e({...n,company:i.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Sujet *"}),d.jsxs("select",{id:"subject",value:n.subject,onChange:i=>e({...n,subject:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},children:[d.jsx("option",{value:"general",children:"Question générale"}),d.jsx("option",{value:"sales",children:"Demande commerciale"}),d.jsx("option",{value:"support",children:"Support technique"}),d.jsx("option",{value:"partnership",children:"Partenariat cabinet"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Message *"}),d.jsx("textarea",{id:"message",value:n.message,onChange:i=>e({...n,message:i.target.value}),required:!0,rows:6,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem] resize-none",style:{fontFamily:"var(--font-mono)"}})]}),d.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Envoyer le message"}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center",style:{fontFamily:"var(--font-mono)"},children:"Réponse sous 24h ouvrées"})]})})})]})})})}function Q2({onNavigate:n}){const[e,s]=C.useState(null),[i,a]=C.useState([]),[l,u]=C.useState({}),[h,m]=C.useState(0),[g,y]=C.useState(null),[v,w]=C.useState(0),{loading:_,error:E,data:k}=cg(()=>ii.getTemplates(),[],{retryOnError:!0,maxRetries:3}),{loading:N,error:I,data:O}=cg(()=>e?ii.getQuestions(e):Promise.resolve({ok:!0,questions:[]}),[e],{immediate:!!e,retryOnError:!0}),{loading:A,startLoading:D,stopLoading:$}=ha(),{loading:M,startLoading:q,stopLoading:J}=ha();C.useEffect(()=>{O?.ok&&O.questions&&(Array.isArray(O.questions)?a(O.questions):e&&O.questions[e]&&a(O.questions[e]),m(0))},[O,e]);const se=(K,V)=>{u(Y=>{const G={...Y,[K]:V};return typeof V=="number"&&V>0&&w(V),G})},pe=()=>{h<i.length-1?m(K=>K+1):Ie()},Me=()=>{h>0&&m(K=>K-1)},Je=async()=>{if(e)try{D();const K=await ii.suggest({templateId:e,answers:l});K.success&&y(K.contract)}catch(K){console.error("Error suggesting contract:",K)}finally{$()}},Ie=async()=>{if(e)try{q();const K=await ii.create({templateId:e,answers:l});if(K.success){const V=119+v*.03,Y=await ii.createPaymentIntent({contractId:K.contractId,amount:Math.round(V*100),currency:"eur"});if(Y.success&&Y.clientSecret)n("bond-contract",K.contractId);else throw new Error("Failed to create payment intent")}}catch(K){console.error("Error creating contract or processing payment:",K)}finally{J()}},F=i[h],ne=i.length>0?(h+1)/i.length*100:0,Se=k?.templates||[];return _&&Se.length===0?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsx(ug,{message:"Chargement des templates..."})}):E?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx(ls,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Erreur"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:E instanceof hs?E.message:"Erreur lors du chargement des templates"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors",children:"Réessayer"})]})}):e?d.jsx(hd,{children:d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuration du Contrat"}),d.jsx("button",{onClick:()=>s(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:"✕ Annuler"})]}),d.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:d.jsx(X.div,{className:"bg-accent h-3 rounded-full transition-all duration-300",initial:{width:0},animate:{width:`${ne}%`}})}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Question ",h+1," sur ",i.length," (",Math.round(ne),"%)"]})]}),I&&d.jsx("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ls,{className:"w-5 h-5 text-destructive"}),d.jsx("p",{className:"text-destructive",children:I instanceof hs?I.message:"Erreur lors du chargement des questions"})]})}),N&&d.jsx(ug,{message:"Chargement des questions..."}),F&&!N&&d.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-card border border-border rounded-xl p-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:F.question}),F.help&&d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:F.help}),F.type==="select"&&d.jsxs("select",{value:l[F.id]||"",onChange:K=>se(F.id,K.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",children:[d.jsx("option",{value:"",children:"Sélectionnez une option..."}),F.options?.map(K=>d.jsx("option",{value:K,children:K},K))]}),F.type==="text"&&d.jsx("textarea",{value:l[F.id]||"",onChange:K=>se(F.id,K.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors resize-none",rows:4,placeholder:"Décrivez votre projet..."}),F.type==="number"&&d.jsx("input",{type:"number",value:l[F.id]||"",onChange:K=>se(F.id,parseFloat(K.target.value)),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",placeholder:"Montant en euros"}),F.type==="date"&&d.jsx("input",{type:"date",value:l[F.id]||"",onChange:K=>se(F.id,K.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors"}),F.legalImplication&&d.jsx("div",{className:"mt-4 p-3 bg-accent/10 border border-accent/20 rounded-lg",children:d.jsxs("p",{className:"text-sm text-accent",children:[d.jsx("strong",{children:"ℹ️ Implication légale:"})," ",F.legalImplication]})}),d.jsxs("div",{className:"flex justify-between mt-8",children:[d.jsx("button",{onClick:Me,disabled:h===0,className:"px-6 py-3 border border-border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:"Précédent"}),d.jsxs("div",{className:"flex gap-3",children:[h===i.length-1&&d.jsx(na,{loading:A,onClick:Je,className:"px-6 py-3 bg-secondary text-secondary-foreground hover:bg-secondary/90",children:"Prévisualiser"}),d.jsx(na,{loading:M,onClick:h===i.length-1?Ie:pe,disabled:!l[F.id],className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:h===i.length-1?"Créer le contrat":"Suivant"})]})]})]},h),g&&d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 bg-card border border-border rounded-xl p-8",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Aperçu du contrat"}),d.jsx("div",{className:"bg-muted/30 rounded-lg p-4 max-h-96 overflow-y-auto",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-foreground",children:g})}),d.jsxs("div",{className:"mt-6 p-4 border border-border rounded-lg bg-card",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 text-foreground",children:"Récapitulatif des frais:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-foreground",children:"Création contrat sur-mesure:"}),d.jsx("span",{className:"font-bold text-accent",children:"119€"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-foreground",children:["Commission escrow (3% sur ",v||0,"€):"]}),d.jsxs("span",{className:"font-bold text-accent",children:[((v||0)*.03).toFixed(2),"€"]})]}),d.jsxs("div",{className:"flex justify-between text-xl font-bold mt-4 pt-4 border-t border-border",children:[d.jsx("span",{className:"text-foreground",children:"Total:"}),d.jsxs("span",{className:"text-accent",children:[119+(v||0)*.03,"€"]})]})]}),d.jsx("div",{className:"mt-4 p-3 bg-accent/5 border border-accent/20 rounded-lg",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["💡 ",d.jsx("strong",{children:"Paiement sécurisé via Stripe."})," Fonds bloqués sur compte escrow jusqu'à validation des milestones."]})})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx("button",{onClick:()=>{const K=new Blob([g||""],{type:"text/plain"}),V=URL.createObjectURL(K),Y=document.createElement("a");Y.href=V,Y.download=`contrat-${e}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(V)},className:"px-6 py-3 bg-secondary text-secondary-foreground hover:bg-secondary/90 rounded-lg transition-colors",children:"📄 Télécharger le contrat (TXT)"}),d.jsx(na,{loading:M,onClick:Ie,className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:"Payer et activer l'escrow →"}),d.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:"Modifier"})]}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("h3",{className:"font-bold flex items-center text-yellow-800 mb-2",children:"⚠️ Étape importante: Signature électronique"}),d.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:["Pour que ce contrat soit ",d.jsx("strong",{children:"juridiquement valide"}),", il doit être signé électroniquement par toutes les parties."]}),d.jsx("button",{onClick:()=>window.open("https://yousign.com","_blank"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"Envoyer pour signature via Yousign →"}),d.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Yousign permet la signature électronique légale conforme au règlement eIDAS."})]}),d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h3",{className:"font-bold flex items-center text-blue-800 mb-2",children:"⚖️ Conseil recommandé"}),d.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["Ce contrat est généré automatiquement. Pour les situations complexes ou à fort enjeu financier, ",d.jsx("strong",{children:"nous vous recommandons vivement de consulter un avocat"})," avant signature."]}),d.jsx("button",{onClick:()=>n("conseiller"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Trouver un avocat spécialisé →"})]}),d.jsx("div",{className:"p-3 bg-muted/30 border border-border rounded-lg",children:d.jsxs("p",{className:"text-xs text-muted-foreground",children:["⚠️ ",d.jsx("strong",{children:"SYMIONE"})," fournit des outils de génération de contrats mais ne constitue pas un conseil juridique personnalisé. En cas de doute, consultez un professionnel du droit."]})})]})]})]})})}):d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Créer un Contrat Sécurisé"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Choisissez le type de contrat qui correspond à votre projet"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Se.map((K,V)=>d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:V*.1},onClick:()=>s(K.id),className:"bg-card border border-border rounded-xl p-6 cursor-pointer hover:border-accent hover:shadow-lg transition-all group",children:[d.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:K.title}),d.jsx("p",{className:"text-muted-foreground mb-4",children:K.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.jsx("strong",{children:"Rôles:"})," ",K.roles?.join(", ")||"Non spécifié"]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.jsx("strong",{children:"Jalons:"})," ",K.milestones?.length||0]}),K.popular&&d.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-accent/10 text-accent text-xs rounded-full",children:[d.jsx(cs,{className:"w-3 h-3 mr-1"}),"Populaire"]})]})]},K.id))})]})})}function X2({onNavigate:n}){const[e,s]=C.useState([]),[i,a]=C.useState(!0),[l,u]=C.useState(!1),h=y=>{const v={service:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}),freelance:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"}),partnership:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}),nda:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}),work:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"}),custom:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})};return v[y]||v.service};C.useEffect(()=>{(async()=>{try{const w=await(await fetch("https://symilegalback.vercel.app/api/escrow/contracts")).json();w.success&&w.contracts&&s(w.contracts)}catch(v){console.error("Error fetching contracts:",v)}finally{a(!1)}})()},[]);const m=y=>{switch(y){case"active":return"bg-accent/10 text-accent border-accent/20";case"pending":return"bg-muted text-muted-foreground";case"completed":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}},g=y=>{switch(y){case"active":return"EN COURS";case"pending":return"EN ATTENTE";case"completed":return"TERMINÉ";default:return"INCONNU"}};return d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYMI BOND / CONTRATS SÉCURISÉS"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Créer un contrat sécurisé"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Contrats de Confiance avec Coffre-Fort intégré"}),d.jsx("button",{onClick:()=>n("bond-guide"),className:"text-accent underline mt-2 flex items-center hover:text-accent/80 transition-colors",children:"Comment ça marche?"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>u(!l),className:"px-6 py-3 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Tarif"}),d.jsxs("button",{onClick:()=>n("bond-create"),className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx(Lc,{className:"w-4 h-4",strokeWidth:2}),d.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Créer un contrat"})]})]})]})}),l&&d.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white border-l-4 border-r-4 border-l-accent border-r-accent max-w-md w-full",children:[d.jsxs("div",{className:"px-8 py-8",children:[d.jsx("h2",{className:"text-[2rem] font-bold text-foreground mb-2",style:{fontWeight:600},children:"Bond"}),d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"CONTRATS DE CONFIANCE AVEC COFFRE-FORT"}),d.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[d.jsx("span",{className:"text-[3rem] font-bold text-foreground",style:{fontWeight:600},children:"119"}),d.jsx("span",{className:"text-[1rem] text-muted-foreground",children:"€ + 3%"})]}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",children:"Vos paiements par jalons protégés dans un coffre-fort digital"})]}),d.jsx("div",{className:"border-t border-border mx-8"}),d.jsx("div",{className:"px-8 py-4",children:d.jsxs("div",{className:"bg-muted/30 rounded p-4 flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-accent-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),d.jsx("span",{className:"text-[0.875rem] text-muted-foreground",children:"Système de coffre-fort sécurisé"})]})}),d.jsx("div",{className:"px-8 pb-6",children:d.jsx("div",{className:"space-y-3",children:["Contrat professionnel sur-mesure (30+ articles, validé par avocat)","Système de coffre-fort Stripe Connect sécurisé","Gestion automatisée des jalons (milestones)","Validation et libération automatique des fonds (72h)","Service d'arbitrage en cas de litige","Suivi en temps réel de l'avancement du projet","Notifications automatiques par email","Export PDF & DOCX du contrat"].map((y,v)=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 bg-accent rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx("svg",{className:"w-2 h-2 text-accent-foreground",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("span",{className:"text-[0.875rem] text-foreground",children:y})]},v))})}),d.jsx("div",{className:"px-8 py-4",children:d.jsx("div",{className:"bg-muted/30 rounded-lg p-4",children:d.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.jsx("strong",{className:"text-foreground",children:"Frais bancaires inclus:"})," Les frais bancaires Stripe (≈3%) sont inclus dans notre commission de sécurisation coffre-fort de 3%. Vous ne payez que ce qui est affiché, sans frais cachés."]})})}),d.jsx("div",{className:"px-8 pb-8",children:d.jsx("button",{onClick:()=>{u(!1),n("bond-create")},className:"w-full bg-accent text-accent-foreground py-4 rounded text-[0.75rem] uppercase tracking-[0.1em] font-semibold hover:bg-accent/90 transition-colors",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"CRÉER UN CONTRAT BOND"})}),d.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"mb-16",children:[d.jsx("h2",{className:"text-[1.25rem] mb-6",style:{fontWeight:600},children:"Choisissez votre type de contrat"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"service",title:"Contrat de Prestation",description:"Services professionnels avec jalons",category:"ENTREPRISE",popular:!0,type:"service"},{id:"freelance",title:"Freelance",description:"Travail indépendant sécurisé",category:"EMPLOI",popular:!1,type:"freelance"},{id:"partnership",title:"Partenariat",description:"Collaboration entre entreprises",category:"ENTREPRISE",popular:!1,type:"partnership"},{id:"nda",title:"Accord de Confidentialité",description:"Protection des informations",category:"ENTREPRISE",popular:!1,type:"nda"},{id:"work",title:"Contrat de Travail",description:"Emploi avec jalons de performance",category:"EMPLOI",popular:!1,type:"work"},{id:"custom",title:"Contrat Personnalisé",description:"Sur-mesure selon vos besoins",category:"CUSTOM",popular:!1,type:"custom"}].map((y,v)=>d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.1},onClick:()=>n("bond-create"),className:"template-card group relative bg-card border-2 border-border rounded-xl p-6 text-left hover:border-accent hover:shadow-xl transition-all duration-300 cursor-pointer",children:[d.jsx("div",{className:"icon-container mb-4",children:d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent/10 to-accent/5 rounded-xl flex items-center justify-center group-hover:from-accent group-hover:to-accent/80 transition-all duration-300",children:d.jsx("svg",{className:"w-8 h-8 text-accent group-hover:text-accent-foreground transition-colors duration-300",children:h(y.type)})})}),d.jsx("h3",{className:"text-xl font-bold mb-2 text-foreground group-hover:text-accent transition-colors",children:y.title}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed min-h-[60px]",children:y.description}),d.jsxs("div",{className:"metadata space-y-2 pt-4 border-t border-border",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),d.jsxs("span",{children:[d.jsx("strong",{className:"font-semibold",children:"Rôles:"})," Client, Prestataire"]})]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx("svg",{className:"w-4 h-4 mr-2 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),d.jsxs("span",{children:[d.jsx("strong",{className:"font-semibold",children:"Jalons:"})," 3-5 étapes"]})]}),y.popular&&d.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-accent/10 text-accent text-xs rounded-full",children:[d.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Populaire"]})]}),d.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300",children:d.jsx("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]},y.id))})]}),i&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-6 h-6 border-2 border-foreground border-t-transparent rounded-full animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Chargement des contrats…"})]}),!i&&e.length>0&&d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mt-16",children:[d.jsx("h2",{className:"text-[1.25rem] mb-6",style:{fontWeight:600},children:"Vos contrats existants"}),d.jsx("div",{className:"space-y-2",children:e.map((y,v)=>d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:v*.05,ease:"linear"},children:d.jsx("div",{className:"w-full border border-border hover:border-foreground transition-all duration-200 p-6",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-start gap-3 mb-3",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:y.title}),d.jsx("span",{className:`px-2 py-1 rounded text-[0.625rem] uppercase tracking-[0.1em] border ${m(y.status)}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:g(y.status)})]}),d.jsx("div",{className:"flex items-center gap-4 text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:d.jsxs("span",{children:["ID: ",y.id]})})]})})}),d.jsx("div",{className:"flex items-center gap-6 lg:flex-col lg:items-end lg:gap-4",children:d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"MONTANT"}),d.jsxs("div",{className:"text-[1.5rem] tracking-[-0.02em]",style:{fontWeight:600,fontFamily:"var(--font-mono)"},children:[y.amount.toLocaleString("fr-FR")," €"]})]})})]})})},y.id))})]}),!i&&e.length===0&&d.jsxs(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"text-center py-20",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:d.jsx(Lc,{className:"w-6 h-6 text-muted-foreground",strokeWidth:1.5})}),d.jsx("h3",{className:"text-[1.25rem] mb-3",style:{fontWeight:600},children:"Aucun contrat pour le moment"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-8",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Créez votre premier contrat sécurisé avec jalons"}),d.jsxs("button",{onClick:()=>n("bond-create"),className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx(Lc,{className:"w-4 h-4",strokeWidth:2}),d.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Créer un contrat"})]})]})]})})}function Z2({onBack:n}){const e=[{id:1,title:"Définissez vos jalons",description:"Découpez votre projet en étapes claires avec livrables et montants précis.",details:["Définition des étapes de livraison","Montants associés à chaque jalon","Critères de validation précis"]},{id:2,title:"Paiement sécurisé coffre-fort",description:"Le client paie le montant total. Les fonds sont bloqués sur un compte coffre-fort Stripe — personne n'y a accès direct.",details:["Paiement total via Stripe Connect","Fonds bloqués sur compte coffre-fort","Aucun accès direct possible"]},{id:3,title:"Livraison & validation",description:"Le prestataire livre chaque jalon avec preuves. Le client a 72h pour valider. Si validé (ou timeout), l'argent est libéré automatiquement.",details:["Livraison avec preuves tangibles","Validation sous 72h maximum","Libération automatique des fonds"]},{id:4,title:"Arbitrage si nécessaire",description:"En cas de litige, SYMIONE examine les preuves et décide dans un délai de 7 jours. Décision finale et équitable.",details:["Examen objectif des preuves","Décision sous 7 jours","Arbitrage équitable et définitif"]}],s=[{icon:Rp,title:"Client protégé",description:"Votre argent est bloqué jusqu'à livraison conforme. Pas de risque de perte.",color:"text-green-600"},{icon:Xj,title:"Prestataire protégé",description:"Paiement garanti dès que vous livrez correctement. Fini les impayés.",color:"text-blue-600"},{icon:cs,title:"0 conflit",description:"Validation objective via preuves tangibles. Pas de discussions sans fin.",color:"text-purple-600"},{icon:hu,title:"100% automatisé",description:"Libération auto après validation. Aucune action manuelle nécessaire.",color:"text-orange-600"}];return d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsx("header",{className:"py-12 border-b border-border",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs(X.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:n,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[d.jsx(ya,{className:"w-4 h-4"}),"Retour"]}),d.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Fermer",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYMI BOND / GUIDE"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Comment fonctionnent les Contrats Bond"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Contrats de Confiance avec Coffre-Fort intégré"})]})]})}),d.jsx("div",{className:"py-16 max-w-4xl mx-auto px-6",children:e.map((i,a)=>d.jsx(X.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:a*.1},className:"mb-16",children:d.jsxs("div",{className:"flex items-start gap-8",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-16 h-16 bg-accent text-accent-foreground rounded-full flex items-center justify-center text-2xl font-bold",children:i.id})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-[1.5rem] font-bold mb-3 text-foreground",style:{fontWeight:600},children:i.title}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-4",style:{lineHeight:1.6},children:i.description}),d.jsx("div",{className:"space-y-2",children:i.details.map((l,u)=>d.jsxs("div",{className:"flex items-center gap-3 text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[d.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full flex-shrink-0"}),d.jsx("span",{children:l})]},u))})]})]})},i.id))}),d.jsx("div",{className:"benefits-section bg-muted/30 py-16 border-t border-border",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[d.jsx(X.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-[1.5rem] font-bold text-center mb-12 text-foreground",style:{fontWeight:600},children:"Avantages pour tous"}),d.jsx("div",{className:"space-y-2",children:s.map((i,a)=>{const l=i.icon;return d.jsx(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"bg-card border-l-4 border-l-accent p-6 hover:border-l-accent/80 transition-all duration-200",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(l,{className:`w-6 h-6 ${i.color}`})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-[1.125rem] font-bold mb-2 text-foreground",style:{fontWeight:600},children:i.title}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:i.description})]})]})},i.title)})})]})}),d.jsx("div",{className:"trust-section py-12 bg-card border-t border-border",children:d.jsx("div",{className:"max-w-4xl mx-auto px-6",children:d.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SÉCURISÉ PAR"}),d.jsxs("div",{className:"flex items-center justify-center gap-8",children:[d.jsxs("div",{className:"trust-badge flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:d.jsx(Rp,{className:"w-3 h-3 text-green-600"})}),d.jsx("span",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Stripe Connect"})]}),d.jsxs("div",{className:"trust-badge flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(cs,{className:"w-3 h-3 text-blue-600"})}),d.jsx("span",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Validation automatique"})]}),d.jsxs("div",{className:"trust-badge flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:d.jsx(hu,{className:"w-3 h-3 text-purple-600"})}),d.jsx("span",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Processus automatisé"})]})]})]})})}),d.jsx("div",{className:"cta-section text-center py-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[d.jsx(X.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-[1.5rem] font-bold mb-4 text-foreground",style:{fontWeight:600},children:"Prêt à sécuriser votre projet?"}),d.jsx(X.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-[0.875rem] text-muted-foreground mb-8",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Créez votre premier contrat Bond en quelques minutes"}),d.jsx(X.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},onClick:n,className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:d.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Créer mon premier contrat Bond"})})]})})]})}function eN(){const[n,e]=C.useState("checking"),[s,i]=C.useState(null);return C.useEffect(()=>{async function a(){try{await _i.health(),e("online"),i(new Date)}catch{e("offline"),i(new Date)}}a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]),n==="checking"?null:d.jsx("div",{className:"fixed bottom-6 left-6 z-40 pointer-events-none",children:d.jsxs("div",{className:"flex items-center gap-2 bg-card/80 backdrop-blur-sm border border-border px-3 py-2",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n==="online"?"bg-accent animate-pulse":"bg-destructive"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:n==="online"?"System Online":"System Offline"})]})})}function tN(){const[n,e]=C.useState(!1),[s,i]=C.useState([]),[a,l]=C.useState(""),[u,h]=C.useState({}),[m,g]=C.useState(!1),y=C.useRef(null),{loading:v,error:w,startLoading:_,stopLoading:E,setErrorState:k}=ha();C.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[s]),C.useEffect(()=>{n&&s.length===0&&i([{id:"welcome",role:"assistant",content:`Bonjour ! Je suis votre assistant juridique intelligent SYMIONE. Je peux vous aider à :

• Analyser vos situations juridiques
• Recommander des contrats adaptés
• Expliquer des clauses légales
• Trouver des avocats spécialisés

Comment puis-je vous aider aujourd'hui ?`,timestamp:new Date,followupQuestion:"Je veux créer un contrat de travail"}])},[n,s.length]);const N=["Je veux créer un contrat de travail","J'ai un litige avec mon voisin","Expliquez-moi les clauses d'un NDA","Trouvez-moi un avocat spécialisé"],I=async()=>{if(!a.trim()||v)return;const M={id:`user-${Date.now()}`,role:"user",content:a.trim(),timestamp:new Date};i(q=>[...q,M]),l(""),g(!0),_();try{const q=await B2.chat({question:a.trim(),context:u}),J={id:`assistant-${Date.now()}`,role:"assistant",content:q.output.reply_text,timestamp:new Date,action:q.output.action,followupQuestion:q.output.followup_question||void 0};i(se=>[...se,J]),q.output.action?.args&&h(se=>({...se,...q.output.action.args}))}catch(q){console.error("Chat error:",q);const J={id:`error-${Date.now()}`,role:"assistant",content:"Désolé, je rencontre un problème technique. Veuillez réessayer dans quelques instants.",timestamp:new Date};i(se=>[...se,J]),k("Erreur de communication avec l'assistant")}finally{g(!1),E()}},O=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),I())},A=M=>{if(M)switch(M.type){case"generate_contract":window.location.href="/contracts";break;case"search_lawyers":window.location.href="/conseiller";break;case"explain":console.log("Explain action:",M.args);break;default:console.log("Action not implemented:",M.type)}},D=M=>{switch(M){case"generate_contract":return d.jsx(qy,{className:"w-4 h-4"});case"search_lawyers":return d.jsx(od,{className:"w-4 h-4"});case"explain":return d.jsx(ls,{className:"w-4 h-4"});default:return null}},$=M=>{switch(M){case"generate_contract":return"Créer un contrat";case"search_lawyers":return"Trouver un avocat";case"explain":return"Explication détaillée";default:return"Action"}};return d.jsxs(d.Fragment,{children:[d.jsx(X.button,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.2,ease:"linear"},onClick:()=>e(!n),className:"fixed bottom-6 right-6 z-50 p-4 bg-accent text-accent-foreground shadow-lg hover:shadow-[0_0_24px_var(--accent-glow)] transition-all duration-200 border border-accent","aria-label":"Assistant SYMIONE",children:n?d.jsx(ad,{className:"w-6 h-6",strokeWidth:1.5}):d.jsx(Ky,{className:"w-6 h-6",strokeWidth:1.5})}),d.jsx(Ti,{children:n&&d.jsxs(X.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2,ease:"linear"},className:"fixed bottom-24 right-6 z-50 w-[420px] max-h-[600px] bg-card border border-border shadow-2xl overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-border bg-accent/5",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),d.jsx("h3",{className:"text-[1rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Assistant SYMIONE"})]}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Assistant juridique intelligent"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(M=>d.jsxs("div",{className:`flex gap-3 ${M.role==="user"?"justify-end":"justify-start"}`,children:[M.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center flex-shrink-0",children:d.jsx(Ap,{className:"w-4 h-4 text-accent",strokeWidth:1.5})}),d.jsxs("div",{className:`max-w-[80%] ${M.role==="user"?"order-first":""}`,children:[d.jsx("div",{className:`p-3 rounded-lg ${M.role==="user"?"bg-accent text-accent-foreground":"bg-muted/30 text-foreground"}`,children:d.jsx("p",{className:"text-[0.875rem] whitespace-pre-wrap",style:{lineHeight:1.5},children:M.content})}),M.action&&d.jsx("div",{className:"mt-2",children:d.jsxs("button",{onClick:()=>A(M.action),className:"flex items-center gap-2 px-3 py-2 bg-accent/10 hover:bg-accent/20 text-accent rounded-lg transition-colors text-[0.75rem]",children:[D(M.action.type),$(M.action.type)]})}),M.followupQuestion&&d.jsx("div",{className:"mt-2",children:d.jsx("button",{onClick:()=>l(M.followupQuestion),className:"px-3 py-2 bg-muted/50 hover:bg-muted text-foreground rounded-lg transition-colors text-[0.75rem] border border-border",children:M.followupQuestion})})]}),M.role==="user"&&d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center flex-shrink-0",children:d.jsx(Yj,{className:"w-4 h-4 text-accent-foreground",strokeWidth:1.5})})]},M.id)),m&&d.jsxs("div",{className:"flex gap-3 justify-start",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center flex-shrink-0",children:d.jsx(Ap,{className:"w-4 h-4 text-accent",strokeWidth:1.5})}),d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(us,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-[0.75rem] text-muted-foreground",children:"Assistant réfléchit..."})]})})]}),d.jsx("div",{ref:y})]}),s.length<=1&&d.jsxs("div",{className:"p-4 border-t border-border bg-muted/20",children:[d.jsx("p",{className:"text-[0.75rem] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)"},children:"Suggestions rapides :"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((M,q)=>d.jsx("button",{onClick:()=>l(M),className:"px-3 py-1 bg-muted/50 hover:bg-muted text-foreground rounded-full transition-colors text-[0.75rem] border border-border hover:border-accent/50",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:M},q))})]}),d.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),onKeyPress:O,placeholder:"Posez votre question juridique...",disabled:v,className:"flex-1 px-3 py-2 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors text-[0.875rem] disabled:opacity-50",style:{fontFamily:"var(--font-mono)",fontWeight:300}}),d.jsx("button",{onClick:I,disabled:!a.trim()||v,className:"px-3 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(zj,{className:"w-4 h-4",strokeWidth:1.5})})]}),w&&d.jsx("div",{className:"mt-2 p-2 bg-destructive/10 border border-destructive/20 rounded text-[0.75rem] text-destructive",children:w})]})]})})]})}const nN={notifications:[],theme:"system",sidebarOpen:!1,loading:!1};function rN(n,e){switch(e.type){case"ADD_NOTIFICATION":return{...n,notifications:[...n.notifications,{...e.payload,id:Date.now().toString()}]};case"REMOVE_NOTIFICATION":return{...n,notifications:n.notifications.filter(s=>s.id!==e.payload)};case"SET_THEME":return{...n,theme:e.payload};case"SET_SIDEBAR_OPEN":return{...n,sidebarOpen:e.payload};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}const y0=C.createContext(void 0);function sN({children:n}){const[e,s]=C.useReducer(rN,nN),i=m=>{s({type:"ADD_NOTIFICATION",payload:m})},a=m=>{s({type:"REMOVE_NOTIFICATION",payload:m})},l=m=>{s({type:"SET_THEME",payload:m})},u=m=>{s({type:"SET_SIDEBAR_OPEN",payload:m})},h=m=>{s({type:"SET_LOADING",payload:m})};return d.jsx(y0.Provider,{value:{ui:e,addNotification:i,removeNotification:a,setTheme:l,setSidebarOpen:u,setLoading:h},children:n})}function iN(){const n=C.useContext(y0);if(n===void 0)throw new Error("useUI must be used within a UIProvider");return n}const oN=C.createContext(void 0);function aN({children:n}){const[e,s]=C.useState("light"),[i,a]=C.useState("light");return C.useEffect(()=>{const l=localStorage.getItem("symi-theme");l&&["light","dark","system"].includes(l)&&s(l)},[]),C.useEffect(()=>{localStorage.setItem("symi-theme",e)},[e]),C.useEffect(()=>{const l=()=>{if(e==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a(u)}else a(e)};if(l(),e==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)");return u.addEventListener("change",l),()=>u.removeEventListener("change",l)}},[e]),C.useEffect(()=>{const l=document.documentElement;i==="dark"?(l.classList.add("dark"),l.classList.remove("variant-night")):(l.classList.remove("dark"),l.classList.remove("variant-night"))},[i]),d.jsx(oN.Provider,{value:{theme:e,setTheme:s,resolvedTheme:i},children:n})}function lN({notification:n,onRemove:e}){const s={success:cs,error:ls,warning:va,info:Hy},i={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},a=s[n.type];return C.useEffect(()=>{if(n.duration!==0){const l=setTimeout(()=>{e(n.id)},n.duration||5e3);return()=>clearTimeout(l)}},[n.id,n.duration,e]),d.jsx(X.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden ${i[n.type]}`,children:d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(a,{className:"h-6 w-6","aria-hidden":"true"})}),d.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[d.jsx("p",{className:"text-sm font-medium",children:n.title}),d.jsx("p",{className:"mt-1 text-sm opacity-90",children:n.message}),n.actions&&n.actions.length>0&&d.jsx("div",{className:"mt-3 flex space-x-2",children:n.actions.map((l,u)=>d.jsx("button",{onClick:l.action,className:"text-sm font-medium underline hover:no-underline",children:l.label},u))})]}),d.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:d.jsxs("button",{className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>e(n.id),children:[d.jsx("span",{className:"sr-only",children:"Close"}),d.jsx(ad,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})}function cN(){const{ui:n,removeNotification:e}=iN();return d.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-50",children:d.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:d.jsx(Ti,{children:n.notifications.map(s=>d.jsx(lN,{notification:s,onRemove:e},s.id))})})})}class cr{static instance;metrics=new Map;observers=[];static getInstance(){return cr.instance||(cr.instance=new cr),cr.instance}startTiming(e){this.metrics.set(e,performance.now())}endTiming(e){const s=this.metrics.get(e);if(!s)return console.warn(`No start time found for ${e}`),0;const i=performance.now()-s;return this.metrics.delete(e),i>1e3&&console.warn(`Slow operation detected: ${e} took ${i.toFixed(2)}ms`),i}measureAsync(e,s){return this.startTiming(e),s().finally(()=>{this.endTiming(e)})}measureSync(e,s){this.startTiming(e);const i=s();return this.endTiming(e),i}startWebVitalsMonitoring(){if(!(typeof window>"u")){try{const e=new PerformanceObserver(s=>{const i=s.getEntries(),a=i[i.length-1];console.log("LCP:",a.startTime)});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e)}catch{console.warn("LCP monitoring not supported")}try{const e=new PerformanceObserver(s=>{s.getEntries().forEach(a=>{console.log("FID:",a.processingStart-a.startTime)})});e.observe({entryTypes:["first-input"]}),this.observers.push(e)}catch{console.warn("FID monitoring not supported")}try{const e=new PerformanceObserver(s=>{let i=0;s.getEntries().forEach(l=>{l.hadRecentInput||(i+=l.value)}),i>0&&console.log("CLS:",i)});e.observe({entryTypes:["layout-shift"]}),this.observers.push(e)}catch{console.warn("CLS monitoring not supported")}}}cleanup(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}}function uN(){const n=cr.getInstance(),e=C.useCallback(a=>({start:()=>n.startTiming(`${a}-render`),end:()=>n.endTiming(`${a}-render`)}),[n]),s=C.useCallback((a,l)=>n.measureAsync(a,l),[n]),i=C.useCallback((a,l)=>n.measureSync(a,l),[n]);return{measureRender:e,measureAsync:s,measureSync:i}}function dN(n){const{measureRender:e}=uN(),s=C.useRef(e(n));C.useEffect(()=>(s.current.start(),()=>{s.current.end()}))}function hN(){if(typeof window>"u")return;const n=cr.getInstance();return n.startWebVitalsMonitoring(),window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];console.log("Page load metrics:",{domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,totalTime:e.loadEventEnd-e.fetchStart})},0)}),n}function fN(){const[n,e]=C.useState("home");dN("App"),C.useEffect(()=>{hN()},[]);const[s,i]=C.useState(["home"]),[a,l]=C.useState(null),[u,h]=C.useState(null),[m,g]=C.useState(null),[y,v]=C.useState("free"),w=(k,N,I)=>{i(O=>[...O,k]),e(k),N&&l(N),I&&h(I),window.scrollTo({top:0,behavior:"smooth"})},_=()=>{if(s.length>1){const k=[...s];k.pop();const N=k[k.length-1];i(k),e(N),window.scrollTo({top:0,behavior:"smooth"})}},E=s.length>1;return Ln.auth.onAuthStateChange(async(k,N)=>{const I=N?.user?.id||null;if(g(N?.user?.email||null),I)try{const{data:O}=await Ln.from("users").select("plan").eq("id",I).maybeSingle();v(O?.plan||"free")}catch{v("free")}else v("free")}),d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(sj,{currentView:n,onNavigate:w,canGoBack:E,onBack:_}),d.jsx("main",{className:"flex-1",children:d.jsxs(Ti,{mode:"wait",children:[n==="home"&&d.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"linear"},children:[d.jsx(oj,{}),d.jsx(lj,{onNavigate:k=>{k==="contracts"&&w("contracts"),k==="editor"&&w("editor")},onNavigateConseiller:()=>w("conseiller")}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-10",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CAPACITÉS SYSTÈME"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[{code:"TPL",title:"50+ Templates",description:"Bibliothèque professionnelle de modèles juridiques"},{code:"JUR",title:"3 Juridictions",description:"France, Royaume-Uni, États-Unis"},{code:"VIT",title:"Génération Rapide",description:"Moins de 5 minutes par contrat"}].map((k,N)=>d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:N*.06,ease:"linear"},className:"border-l border-border pl-4",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-accent mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:k.code}),d.jsx("h3",{className:"text-[1.125rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:k.title}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.6,fontFamily:"var(--font-mono)",fontWeight:300},children:k.description})]},k.code))})]})})}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16",children:[{value:"50+",label:"Templates professionnels",unit:"DOCS"},{value:"3",label:"Juridictions",unit:"FR, UK, US"},{value:"<5",label:"Par contrat",unit:"MIN"}].map((k,N)=>d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:N*.08,ease:"linear"},className:"border-l-2 border-border pl-6",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-[3.5rem] md:text-[4.5rem] tracking-[-0.03em] mb-2",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:k.value}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground block",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:k.unit})]}),d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:k.label})]},k.label))})})}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs(X.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"max-w-4xl",children:[d.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-2"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-[2rem] md:text-[3rem] mb-3 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Système prêt."}),d.jsxs("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:["50+ templates professionnels • 3 juridictions • Génération ","<5"," min"]})]})]}),d.jsx("p",{className:"text-[0.9375rem] mb-10",style:{lineHeight:1.7},children:"Automatisation juridique de précision pour pratique professionnelle. Démarrez la synthèse documentaire ou consultez un expert."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("button",{onClick:()=>w("login"),className:"px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["S'inscrire pour accéder",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),d.jsx("button",{onClick:()=>w("conseiller"),className:"px-12 py-5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Conseiller juridique"})]})]})})})]},"home"),n==="contracts"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(hk,{onBack:_,onSelectTemplate:(k,N)=>w("editor",k,N),plan:y})},"contracts"),n==="editor"&&a&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx($2,{templateId:a,jurisdiction:u||void 0,onBack:_})},"editor"),n==="conseiller"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(q2,{onBack:_})},"conseiller"),n==="pricing"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(K2,{onNavigate:w})},"pricing"),n==="login"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(G2,{onNavigate:w})},"login"),n==="docs"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(J2,{})},"docs"),n==="bond-create"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(Q2,{onNavigate:w})},"bond-create"),n==="bond"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(X2,{onNavigate:w})},"bond"),n==="bond-guide"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(Z2,{onBack:()=>w("bond")})},"bond-guide"),n==="contact"&&d.jsx(X.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(Y2,{})},"contact")]})}),n==="home"&&d.jsx(ij,{}),d.jsx(ck,{}),d.jsx(eN,{}),d.jsx(tN,{}),d.jsx(cN,{})]})}function mN(){return d.jsx(hd,{children:d.jsx(aN,{children:d.jsx(sN,{children:d.jsx(fN,{})})})})}jx.createRoot(document.getElementById("root")).render(d.jsx(mN,{}));
