(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function lg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function dx(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),s}var fc={exports:{}},ei={},pc={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function hx(){if(ap)return he;ap=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function T(C,V,de){this.props=C,this.context=V,this.refs=j,this.updater=de||_}T.prototype.isReactComponent={},T.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function L(){}L.prototype=T.prototype;function O(C,V,de){this.props=C,this.context=V,this.refs=j,this.updater=de||_}var R=O.prototype=new L;R.constructor=O,E(R,T.prototype),R.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,B={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function J(C,V,de){var fe,ge={},ye=null,be=null;if(V!=null)for(fe in V.ref!==void 0&&(be=V.ref),V.key!==void 0&&(ye=""+V.key),V)F.call(V,fe)&&!K.hasOwnProperty(fe)&&(ge[fe]=V[fe]);var xe=arguments.length-2;if(xe===1)ge.children=de;else if(1<xe){for(var Ee=Array(xe),xt=0;xt<xe;xt++)Ee[xt]=arguments[xt+2];ge.children=Ee}if(C&&C.defaultProps)for(fe in xe=C.defaultProps,xe)ge[fe]===void 0&&(ge[fe]=xe[fe]);return{$$typeof:n,type:C,key:ye,ref:be,props:ge,_owner:B.current}}function le(C,V){return{$$typeof:n,type:C.type,key:V,ref:C.ref,props:C.props,_owner:C._owner}}function me(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Me(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return V[de]})}var Je=/\/+/g;function Ie(C,V){return typeof C=="object"&&C!==null&&C.key!=null?Me(""+C.key):V.toString(36)}function M(C,V,de,fe,ge){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ye){case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case n:case e:be=!0}}if(be)return be=C,ge=ge(be),C=fe===""?"."+Ie(be,0):fe,D(ge)?(de="",C!=null&&(de=C.replace(Je,"$&/")+"/"),M(ge,V,de,"",function(xt){return xt})):ge!=null&&(me(ge)&&(ge=le(ge,de+(!ge.key||be&&be.key===ge.key?"":(""+ge.key).replace(Je,"$&/")+"/")+C)),V.push(ge)),1;if(be=0,fe=fe===""?".":fe+":",D(C))for(var xe=0;xe<C.length;xe++){ye=C[xe];var Ee=fe+Ie(ye,xe);be+=M(ye,V,de,Ee,ge)}else if(Ee=w(C),typeof Ee=="function")for(C=Ee.call(C),xe=0;!(ye=C.next()).done;)ye=ye.value,Ee=fe+Ie(ye,xe++),be+=M(ye,V,de,Ee,ge);else if(ye==="object")throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return be}function te(C,V,de){if(C==null)return C;var fe=[],ge=0;return M(C,fe,"","",function(ye){return V.call(de,ye,ge++)}),fe}function je(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var H={current:null},U={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:U,ReactCurrentOwner:B};function G(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:te,forEach:function(C,V,de){te(C,function(){V.apply(this,arguments)},de)},count:function(C){var V=0;return te(C,function(){V++}),V},toArray:function(C){return te(C,function(V){return V})||[]},only:function(C){if(!me(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},he.Component=T,he.Fragment=s,he.Profiler=a,he.PureComponent=O,he.StrictMode=i,he.Suspense=p,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,he.act=G,he.cloneElement=function(C,V,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var fe=E({},C.props),ge=C.key,ye=C.ref,be=C._owner;if(V!=null){if(V.ref!==void 0&&(ye=V.ref,be=B.current),V.key!==void 0&&(ge=""+V.key),C.type&&C.type.defaultProps)var xe=C.type.defaultProps;for(Ee in V)F.call(V,Ee)&&!K.hasOwnProperty(Ee)&&(fe[Ee]=V[Ee]===void 0&&xe!==void 0?xe[Ee]:V[Ee])}var Ee=arguments.length-2;if(Ee===1)fe.children=de;else if(1<Ee){xe=Array(Ee);for(var xt=0;xt<Ee;xt++)xe[xt]=arguments[xt+2];fe.children=xe}return{$$typeof:n,type:C.type,key:ge,ref:ye,props:fe,_owner:be}},he.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},he.createElement=J,he.createFactory=function(C){var V=J.bind(null,C);return V.type=C,V},he.createRef=function(){return{current:null}},he.forwardRef=function(C){return{$$typeof:h,render:C}},he.isValidElement=me,he.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:je}},he.memo=function(C,V){return{$$typeof:g,type:C,compare:V===void 0?null:V}},he.startTransition=function(C){var V=U.transition;U.transition={};try{C()}finally{U.transition=V}},he.unstable_act=G,he.useCallback=function(C,V){return H.current.useCallback(C,V)},he.useContext=function(C){return H.current.useContext(C)},he.useDebugValue=function(){},he.useDeferredValue=function(C){return H.current.useDeferredValue(C)},he.useEffect=function(C,V){return H.current.useEffect(C,V)},he.useId=function(){return H.current.useId()},he.useImperativeHandle=function(C,V,de){return H.current.useImperativeHandle(C,V,de)},he.useInsertionEffect=function(C,V){return H.current.useInsertionEffect(C,V)},he.useLayoutEffect=function(C,V){return H.current.useLayoutEffect(C,V)},he.useMemo=function(C,V){return H.current.useMemo(C,V)},he.useReducer=function(C,V,de){return H.current.useReducer(C,V,de)},he.useRef=function(C){return H.current.useRef(C)},he.useState=function(C){return H.current.useState(C)},he.useSyncExternalStore=function(C,V,de){return H.current.useSyncExternalStore(C,V,de)},he.useTransition=function(){return H.current.useTransition()},he.version="18.3.1",he}var lp;function ju(){return lp||(lp=1,pc.exports=hx()),pc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function fx(){if(cp)return ei;cp=1;var n=ju(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var y,v={},w=null,_=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)i.call(p,y)&&!l.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:h,key:w,ref:_,props:v,_owner:a.current}}return ei.Fragment=s,ei.jsx=u,ei.jsxs=u,ei}var up;function px(){return up||(up=1,fc.exports=fx()),fc.exports}var d=px(),Vo={},mc={exports:{}},gt={},gc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function mx(){return dp||(dp=1,(function(n){function e(U,Y){var G=U.length;U.push(Y);e:for(;0<G;){var C=G-1>>>1,V=U[C];if(0<a(V,Y))U[C]=Y,U[G]=V,G=C;else break e}}function s(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Y=U[0],G=U.pop();if(G!==Y){U[0]=G;e:for(var C=0,V=U.length,de=V>>>1;C<de;){var fe=2*(C+1)-1,ge=U[fe],ye=fe+1,be=U[ye];if(0>a(ge,G))ye<V&&0>a(be,ge)?(U[C]=be,U[ye]=G,C=ye):(U[C]=ge,U[fe]=G,C=fe);else if(ye<V&&0>a(be,G))U[C]=be,U[ye]=G,C=ye;else break e}}return Y}function a(U,Y){var G=U.sortIndex-Y.sortIndex;return G!==0?G:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],g=[],y=1,v=null,w=3,_=!1,E=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(U){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=U)i(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=s(g)}}function D(U){if(j=!1,R(U),!E)if(s(p)!==null)E=!0,je(F);else{var Y=s(g);Y!==null&&H(D,Y.startTime-U)}}function F(U,Y){E=!1,j&&(j=!1,L(J),J=-1),_=!0;var G=w;try{for(R(Y),v=s(p);v!==null&&(!(v.expirationTime>Y)||U&&!Me());){var C=v.callback;if(typeof C=="function"){v.callback=null,w=v.priorityLevel;var V=C(v.expirationTime<=Y);Y=n.unstable_now(),typeof V=="function"?v.callback=V:v===s(p)&&i(p),R(Y)}else i(p);v=s(p)}if(v!==null)var de=!0;else{var fe=s(g);fe!==null&&H(D,fe.startTime-Y),de=!1}return de}finally{v=null,w=G,_=!1}}var B=!1,K=null,J=-1,le=5,me=-1;function Me(){return!(n.unstable_now()-me<le)}function Je(){if(K!==null){var U=n.unstable_now();me=U;var Y=!0;try{Y=K(!0,U)}finally{Y?Ie():(B=!1,K=null)}}else B=!1}var Ie;if(typeof O=="function")Ie=function(){O(Je)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,te=M.port2;M.port1.onmessage=Je,Ie=function(){te.postMessage(null)}}else Ie=function(){T(Je,0)};function je(U){K=U,B||(B=!0,Ie())}function H(U,Y){J=T(function(){U(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){E||_||(E=!0,je(F))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(U){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var G=w;w=Y;try{return U()}finally{w=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=w;w=U;try{return Y()}finally{w=G}},n.unstable_scheduleCallback=function(U,Y,G){var C=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?C+G:C):G=C,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,U={id:y++,callback:Y,priorityLevel:U,startTime:G,expirationTime:V,sortIndex:-1},G>C?(U.sortIndex=G,e(g,U),s(p)===null&&U===s(g)&&(j?(L(J),J=-1):j=!0,H(D,G-C))):(U.sortIndex=V,e(p,U),E||_||(E=!0,je(F))),U},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function(U){var Y=w;return function(){var G=w;w=Y;try{return U.apply(this,arguments)}finally{w=G}}}})(yc)),yc}var hp;function gx(){return hp||(hp=1,gc.exports=mx()),gc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function yx(){if(fp)return gt;fp=1;var n=ju(),e=gx();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(t){return p.call(v,t)?!0:p.call(y,t)?!1:g.test(t)?v[t]=!0:(y[t]=!0,!1)}function _(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,o,c){if(r===null||typeof r>"u"||_(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(t,r,o,c,f,m,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=x}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){T[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];T[r]=new j(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){T[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){T[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){T[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){T[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){T[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){T[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){T[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function O(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(L,O);T[r]=new j(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(L,O);T[r]=new j(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(L,O);T[r]=new j(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){T[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),T.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){T[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,r,o,c){var f=T.hasOwnProperty(r)?T[r]:null;(f!==null?f.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,o,f,c)&&(o=null),c||f===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),U=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,C;function V(t){if(C===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+t}var de=!1;function fe(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var c=I}Reflect.construct(t,[],r)}else{try{r.call()}catch(I){c=I}t.call(r.prototype)}else{try{throw Error()}catch(I){c=I}t()}}catch(I){if(I&&c&&typeof I.stack=="string"){for(var f=I.stack.split(`
`),m=c.stack.split(`
`),x=f.length-1,b=m.length-1;1<=x&&0<=b&&f[x]!==m[b];)b--;for(;1<=x&&0<=b;x--,b--)if(f[x]!==m[b]){if(x!==1||b!==1)do if(x--,b--,0>b||f[x]!==m[b]){var S=`
`+f[x].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=x&&0<=b);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?V(t):""}function ge(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case B:return"Portal";case le:return"Profiler";case J:return"StrictMode";case Ie:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Me:return(t.displayName||"Context")+".Consumer";case me:return(t._context.displayName||"Context")+".Provider";case Je:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case je:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ee(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function xt(t){var r=Ee(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Pi(t){t._valueTracker||(t._valueTracker=xt(t))}function hd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Ee(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wa(t,r){var o=r.checked;return G({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function fd(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function pd(t,r){r=r.checked,r!=null&&R(t,"checked",r,!1)}function ba(t,r){pd(t,r);var o=xe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?_a(t,r.type,o):r.hasOwnProperty("defaultValue")&&_a(t,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function md(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function _a(t,r,o){(r!=="number"||Ai(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ms=Array.isArray;function fr(t,r,o,c){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+xe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Sa(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(s(92));if(ms(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:xe(o)}}function yd(t,r){var o=xe(r.value),c=xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function vd(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ri,wd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gs(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(t){mv.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ys[r]=ys[t]})});function bd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ys.hasOwnProperty(t)&&ys[t]?(""+r).trim():r+"px"}function _d(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=bd(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var gv=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(t,r){if(r){if(gv[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function Ta(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,pr=null,mr=null;function Sd(t){if(t=$s(t)){if(typeof Na!="function")throw Error(s(280));var r=t.stateNode;r&&(r=to(r),Na(t.stateNode,t.type,r))}}function jd(t){pr?mr?mr.push(t):mr=[t]:pr=t}function kd(){if(pr){var t=pr,r=mr;if(mr=pr=null,Sd(t),r)for(t=0;t<r.length;t++)Sd(r[t])}}function Td(t,r){return t(r)}function Ed(){}var Pa=!1;function Cd(t,r,o){if(Pa)return t(r,o);Pa=!0;try{return Td(t,r,o)}finally{Pa=!1,(pr!==null||mr!==null)&&(Ed(),kd())}}function vs(t,r){var o=t.stateNode;if(o===null)return null;var c=to(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Aa=!1;if(h)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Aa=!1}function yv(t,r,o,c,f,m,x,b,S){var I=Array.prototype.slice.call(arguments,3);try{r.apply(o,I)}catch(W){this.onError(W)}}var ws=!1,Oi=null,Ii=!1,Ra=null,vv={onError:function(t){ws=!0,Oi=t}};function xv(t,r,o,c,f,m,x,b,S){ws=!1,Oi=null,yv.apply(vv,arguments)}function wv(t,r,o,c,f,m,x,b,S){if(xv.apply(this,arguments),ws){if(ws){var I=Oi;ws=!1,Oi=null}else throw Error(s(198));Ii||(Ii=!0,Ra=I)}}function Un(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Nd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Pd(t){if(Un(t)!==t)throw Error(s(188))}function bv(t){var r=t.alternate;if(!r){if(r=Un(t),r===null)throw Error(s(188));return r!==t?null:t}for(var o=t,c=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Pd(f),t;if(m===c)return Pd(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=m;else{for(var x=!1,b=f.child;b;){if(b===o){x=!0,o=f,c=m;break}if(b===c){x=!0,c=f,o=m;break}b=b.sibling}if(!x){for(b=m.child;b;){if(b===o){x=!0,o=m,c=f;break}if(b===c){x=!0,c=m,o=f;break}b=b.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:r}function Ad(t){return t=bv(t),t!==null?Rd(t):null}function Rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Rd(t);if(r!==null)return r;t=t.sibling}return null}var Od=e.unstable_scheduleCallback,Id=e.unstable_cancelCallback,_v=e.unstable_shouldYield,Sv=e.unstable_requestPaint,Fe=e.unstable_now,jv=e.unstable_getCurrentPriorityLevel,Oa=e.unstable_ImmediatePriority,Ld=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,kv=e.unstable_LowPriority,Dd=e.unstable_IdlePriority,Di=null,Ht=null;function Tv(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Nv,Ev=Math.log,Cv=Math.LN2;function Nv(t){return t>>>=0,t===0?32:31-(Ev(t)/Cv|0)|0}var Mi=64,Fi=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $i(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,x=o&268435455;if(x!==0){var b=x&~f;b!==0?c=bs(b):(m&=x,m!==0&&(c=bs(m)))}else x=o&~f,x!==0?c=bs(x):m!==0&&(c=bs(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&f)===0&&(f=c&-c,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-Lt(r),f=1<<o,c|=t[o],r&=~f;return c}function Pv(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Av(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var x=31-Lt(m),b=1<<x,S=f[x];S===-1?((b&o)===0||(b&c)!==0)&&(f[x]=Pv(b,r)):S<=r&&(t.expiredLanes|=b),m&=~b}}function Ia(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Md(){var t=Mi;return Mi<<=1,(Mi&4194240)===0&&(Mi=64),t}function La(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function _s(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Lt(r),t[r]=o}function Rv(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Lt(o),m=1<<f;r[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function Da(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-Lt(o),f=1<<c;f&r|t[c]&r&&(t[c]|=r),o&=~f}}var we=0;function Fd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var $d,Ma,Ud,Vd,Wd,Fa=!1,Ui=[],hn=null,fn=null,pn=null,Ss=new Map,js=new Map,mn=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bd(t,r){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ss.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(r.pointerId)}}function ks(t,r,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=$s(r),r!==null&&Ma(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Iv(t,r,o,c,f){switch(r){case"focusin":return hn=ks(hn,t,r,o,c,f),!0;case"dragenter":return fn=ks(fn,t,r,o,c,f),!0;case"mouseover":return pn=ks(pn,t,r,o,c,f),!0;case"pointerover":var m=f.pointerId;return Ss.set(m,ks(Ss.get(m)||null,t,r,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,js.set(m,ks(js.get(m)||null,t,r,o,c,f)),!0}return!1}function zd(t){var r=Vn(t.target);if(r!==null){var o=Un(r);if(o!==null){if(r=o.tag,r===13){if(r=Nd(o),r!==null){t.blockedOn=r,Wd(t.priority,function(){Ud(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vi(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ua(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Ea=c,o.target.dispatchEvent(c),Ea=null}else return r=$s(o),r!==null&&Ma(r),t.blockedOn=o,!1;r.shift()}return!0}function qd(t,r,o){Vi(t)&&o.delete(r)}function Lv(){Fa=!1,hn!==null&&Vi(hn)&&(hn=null),fn!==null&&Vi(fn)&&(fn=null),pn!==null&&Vi(pn)&&(pn=null),Ss.forEach(qd),js.forEach(qd)}function Ts(t,r){t.blockedOn===r&&(t.blockedOn=null,Fa||(Fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lv)))}function Es(t){function r(f){return Ts(f,t)}if(0<Ui.length){Ts(Ui[0],t);for(var o=1;o<Ui.length;o++){var c=Ui[o];c.blockedOn===t&&(c.blockedOn=null)}}for(hn!==null&&Ts(hn,t),fn!==null&&Ts(fn,t),pn!==null&&Ts(pn,t),Ss.forEach(r),js.forEach(r),o=0;o<mn.length;o++)c=mn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<mn.length&&(o=mn[0],o.blockedOn===null);)zd(o),o.blockedOn===null&&mn.shift()}var gr=D.ReactCurrentBatchConfig,Wi=!0;function Dv(t,r,o,c){var f=we,m=gr.transition;gr.transition=null;try{we=1,$a(t,r,o,c)}finally{we=f,gr.transition=m}}function Mv(t,r,o,c){var f=we,m=gr.transition;gr.transition=null;try{we=4,$a(t,r,o,c)}finally{we=f,gr.transition=m}}function $a(t,r,o,c){if(Wi){var f=Ua(t,r,o,c);if(f===null)rl(t,r,c,Bi,o),Bd(t,c);else if(Iv(f,t,r,o,c))c.stopPropagation();else if(Bd(t,c),r&4&&-1<Ov.indexOf(t)){for(;f!==null;){var m=$s(f);if(m!==null&&$d(m),m=Ua(t,r,o,c),m===null&&rl(t,r,c,Bi,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else rl(t,r,c,null,o)}}var Bi=null;function Ua(t,r,o,c){if(Bi=null,t=Ca(c),t=Vn(t),t!==null)if(r=Un(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Nd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Bi=t,null}function Hd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jv()){case Oa:return 1;case Ld:return 4;case Li:case kv:return 16;case Dd:return 536870912;default:return 16}default:return 16}}var gn=null,Va=null,zi=null;function Kd(){if(zi)return zi;var t,r=Va,o=r.length,c,f="value"in gn?gn.value:gn.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var x=o-t;for(c=1;c<=x&&r[o-c]===f[m-c];c++);return zi=f.slice(t,1<c?1-c:void 0)}function qi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Gd(){return!1}function wt(t){function r(o,c,f,m,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(o=t[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hi:Gd,this.isPropagationStopped=Gd,this}return G(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=wt(yr),Cs=G({},yr,{view:0,detail:0}),Fv=wt(Cs),Ba,za,Ns,Ki=G({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(Ba=t.screenX-Ns.screenX,za=t.screenY-Ns.screenY):za=Ba=0,Ns=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:za}}),Jd=wt(Ki),$v=G({},Ki,{dataTransfer:0}),Uv=wt($v),Vv=G({},Cs,{relatedTarget:0}),qa=wt(Vv),Wv=G({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=wt(Wv),zv=G({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qv=wt(zv),Hv=G({},yr,{data:0}),Yd=wt(Hv),Kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Jv[t])?!!r[t]:!1}function Ha(){return Yv}var Qv=G({},Cs,{key:function(t){if(t.key){var r=Kv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(t){return t.type==="keypress"?qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xv=wt(Qv),Zv=G({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=wt(Zv),e0=G({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),t0=wt(e0),n0=G({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=wt(n0),s0=G({},Ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=wt(s0),o0=[9,13,27,32],Ka=h&&"CompositionEvent"in window,Ps=null;h&&"documentMode"in document&&(Ps=document.documentMode);var a0=h&&"TextEvent"in window&&!Ps,Xd=h&&(!Ka||Ps&&8<Ps&&11>=Ps),Zd=" ",eh=!1;function th(t,r){switch(t){case"keyup":return o0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function l0(t,r){switch(t){case"compositionend":return nh(r);case"keypress":return r.which!==32?null:(eh=!0,Zd);case"textInput":return t=r.data,t===Zd&&eh?null:t;default:return null}}function c0(t,r){if(vr)return t==="compositionend"||!Ka&&th(t,r)?(t=Kd(),zi=Va=gn=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xd&&r.locale!=="ko"?null:r.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!u0[t.type]:r==="textarea"}function sh(t,r,o,c){jd(c),r=Xi(r,"onChange"),0<r.length&&(o=new Wa("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var As=null,Rs=null;function d0(t){_h(t,0)}function Gi(t){var r=Sr(t);if(hd(r))return t}function h0(t,r){if(t==="change")return r}var ih=!1;if(h){var Ga;if(h){var Ja="oninput"in document;if(!Ja){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Ja=typeof oh.oninput=="function"}Ga=Ja}else Ga=!1;ih=Ga&&(!document.documentMode||9<document.documentMode)}function ah(){As&&(As.detachEvent("onpropertychange",lh),Rs=As=null)}function lh(t){if(t.propertyName==="value"&&Gi(Rs)){var r=[];sh(r,Rs,t,Ca(t)),Cd(d0,r)}}function f0(t,r,o){t==="focusin"?(ah(),As=r,Rs=o,As.attachEvent("onpropertychange",lh)):t==="focusout"&&ah()}function p0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gi(Rs)}function m0(t,r){if(t==="click")return Gi(r)}function g0(t,r){if(t==="input"||t==="change")return Gi(r)}function y0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dt=typeof Object.is=="function"?Object.is:y0;function Os(t,r){if(Dt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!p.call(r,f)||!Dt(t[f],r[f]))return!1}return!0}function ch(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uh(t,r){var o=ch(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ch(o)}}function dh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?dh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hh(){for(var t=window,r=Ai();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ai(t.document)}return r}function Ya(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function v0(t){var r=hh(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&dh(o.ownerDocument.documentElement,o)){if(c!==null&&Ya(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=uh(o,m);var x=uh(o,c);f&&x&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x0=h&&"documentMode"in document&&11>=document.documentMode,xr=null,Qa=null,Is=null,Xa=!1;function fh(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xa||xr==null||xr!==Ai(c)||(c=xr,"selectionStart"in c&&Ya(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Is&&Os(Is,c)||(Is=c,c=Xi(Qa,"onSelect"),0<c.length&&(r=new Wa("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=xr)))}function Ji(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var wr={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Za={},ph={};h&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Yi(t){if(Za[t])return Za[t];if(!wr[t])return t;var r=wr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ph)return Za[t]=r[o];return t}var mh=Yi("animationend"),gh=Yi("animationiteration"),yh=Yi("animationstart"),vh=Yi("transitionend"),xh=new Map,wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(t,r){xh.set(t,r),l(r,[t])}for(var el=0;el<wh.length;el++){var tl=wh[el],w0=tl.toLowerCase(),b0=tl[0].toUpperCase()+tl.slice(1);yn(w0,"on"+b0)}yn(mh,"onAnimationEnd"),yn(gh,"onAnimationIteration"),yn(yh,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(vh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function bh(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,wv(c,r,void 0,t),t.currentTarget=null}function _h(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var x=c.length-1;0<=x;x--){var b=c[x],S=b.instance,I=b.currentTarget;if(b=b.listener,S!==m&&f.isPropagationStopped())break e;bh(f,b,I),m=S}else for(x=0;x<c.length;x++){if(b=c[x],S=b.instance,I=b.currentTarget,b=b.listener,S!==m&&f.isPropagationStopped())break e;bh(f,b,I),m=S}}}if(Ii)throw t=Ra,Ii=!1,Ra=null,t}function ke(t,r){var o=r[cl];o===void 0&&(o=r[cl]=new Set);var c=t+"__bubble";o.has(c)||(Sh(r,t,2,!1),o.add(c))}function nl(t,r,o){var c=0;r&&(c|=4),Sh(o,t,c,r)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function Ds(t){if(!t[Qi]){t[Qi]=!0,i.forEach(function(o){o!=="selectionchange"&&(_0.has(o)||nl(o,!1,t),nl(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qi]||(r[Qi]=!0,nl("selectionchange",!1,r))}}function Sh(t,r,o,c){switch(Hd(r)){case 1:var f=Dv;break;case 4:f=Mv;break;default:f=$a}o=f.bind(null,r,o,t),f=void 0,!Aa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function rl(t,r,o,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var b=c.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var S=x.tag;if((S===3||S===4)&&(S=x.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;x=x.return}for(;b!==null;){if(x=Vn(b),x===null)return;if(S=x.tag,S===5||S===6){c=m=x;continue e}b=b.parentNode}}c=c.return}Cd(function(){var I=m,W=Ca(o),z=[];e:{var $=xh.get(t);if($!==void 0){var Q=Wa,Z=t;switch(t){case"keypress":if(qi(o)===0)break e;case"keydown":case"keyup":Q=Xv;break;case"focusin":Z="focus",Q=qa;break;case"focusout":Z="blur",Q=qa;break;case"beforeblur":case"afterblur":Q=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=t0;break;case mh:case gh:case yh:Q=Bv;break;case vh:Q=r0;break;case"scroll":Q=Fv;break;case"wheel":Q=i0;break;case"copy":case"cut":case"paste":Q=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qd}var ee=(r&4)!==0,$e=!ee&&t==="scroll",N=ee?$!==null?$+"Capture":null:$;ee=[];for(var k=I,A;k!==null;){A=k;var q=A.stateNode;if(A.tag===5&&q!==null&&(A=q,N!==null&&(q=vs(k,N),q!=null&&ee.push(Ms(k,q,A)))),$e)break;k=k.return}0<ee.length&&($=new Q($,Z,null,o,W),z.push({event:$,listeners:ee}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&o!==Ea&&(Z=o.relatedTarget||o.fromElement)&&(Vn(Z)||Z[en]))break e;if((Q||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Z=o.relatedTarget||o.toElement,Q=I,Z=Z?Vn(Z):null,Z!==null&&($e=Un(Z),Z!==$e||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=I),Q!==Z)){if(ee=Jd,q="onMouseLeave",N="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ee=Qd,q="onPointerLeave",N="onPointerEnter",k="pointer"),$e=Q==null?$:Sr(Q),A=Z==null?$:Sr(Z),$=new ee(q,k+"leave",Q,o,W),$.target=$e,$.relatedTarget=A,q=null,Vn(W)===I&&(ee=new ee(N,k+"enter",Z,o,W),ee.target=A,ee.relatedTarget=$e,q=ee),$e=q,Q&&Z)t:{for(ee=Q,N=Z,k=0,A=ee;A;A=br(A))k++;for(A=0,q=N;q;q=br(q))A++;for(;0<k-A;)ee=br(ee),k--;for(;0<A-k;)N=br(N),A--;for(;k--;){if(ee===N||N!==null&&ee===N.alternate)break t;ee=br(ee),N=br(N)}ee=null}else ee=null;Q!==null&&jh(z,$,Q,ee,!1),Z!==null&&$e!==null&&jh(z,$e,Z,ee,!0)}}e:{if($=I?Sr(I):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var ne=h0;else if(rh($))if(ih)ne=g0;else{ne=p0;var se=f0}else(Q=$.nodeName)&&Q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ne=m0);if(ne&&(ne=ne(t,I))){sh(z,ne,o,W);break e}se&&se(t,$,I),t==="focusout"&&(se=$._wrapperState)&&se.controlled&&$.type==="number"&&_a($,"number",$.value)}switch(se=I?Sr(I):window,t){case"focusin":(rh(se)||se.contentEditable==="true")&&(xr=se,Qa=I,Is=null);break;case"focusout":Is=Qa=xr=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,fh(z,o,W);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":fh(z,o,W)}var ie;if(Ka)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else vr?th(t,o)&&(ce="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ce="onCompositionStart");ce&&(Xd&&o.locale!=="ko"&&(vr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&vr&&(ie=Kd()):(gn=W,Va="value"in gn?gn.value:gn.textContent,vr=!0)),se=Xi(I,ce),0<se.length&&(ce=new Yd(ce,t,null,o,W),z.push({event:ce,listeners:se}),ie?ce.data=ie:(ie=nh(o),ie!==null&&(ce.data=ie)))),(ie=a0?l0(t,o):c0(t,o))&&(I=Xi(I,"onBeforeInput"),0<I.length&&(W=new Yd("onBeforeInput","beforeinput",null,o,W),z.push({event:W,listeners:I}),W.data=ie))}_h(z,r)})}function Ms(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Xi(t,r){for(var o=r+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=vs(t,o),m!=null&&c.unshift(Ms(t,m,f)),m=vs(t,r),m!=null&&c.push(Ms(t,m,f))),t=t.return}return c}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jh(t,r,o,c,f){for(var m=r._reactName,x=[];o!==null&&o!==c;){var b=o,S=b.alternate,I=b.stateNode;if(S!==null&&S===c)break;b.tag===5&&I!==null&&(b=I,f?(S=vs(o,m),S!=null&&x.unshift(Ms(o,S,b))):f||(S=vs(o,m),S!=null&&x.push(Ms(o,S,b)))),o=o.return}x.length!==0&&t.push({event:r,listeners:x})}var S0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function kh(t){return(typeof t=="string"?t:""+t).replace(S0,`
`).replace(j0,"")}function Zi(t,r,o){if(r=kh(r),kh(t)!==r&&o)throw Error(s(425))}function eo(){}var sl=null,il=null;function ol(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(t){return Th.resolve(null).then(t).catch(E0)}:al;function E0(t){setTimeout(function(){throw t})}function ll(t,r){var o=r,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),Es(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Es(r)}function vn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Eh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Kt="__reactFiber$"+_r,Fs="__reactProps$"+_r,en="__reactContainer$"+_r,cl="__reactEvents$"+_r,C0="__reactListeners$"+_r,N0="__reactHandles$"+_r;function Vn(t){var r=t[Kt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[en]||o[Kt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Eh(t);t!==null;){if(o=t[Kt])return o;t=Eh(t)}return r}t=o,o=t.parentNode}return null}function $s(t){return t=t[Kt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function to(t){return t[Fs]||null}var ul=[],jr=-1;function xn(t){return{current:t}}function Te(t){0>jr||(t.current=ul[jr],ul[jr]=null,jr--)}function _e(t,r){jr++,ul[jr]=t.current,t.current=r}var wn={},rt=xn(wn),dt=xn(!1),Wn=wn;function kr(t,r){var o=t.type.contextTypes;if(!o)return wn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function ht(t){return t=t.childContextTypes,t!=null}function no(){Te(dt),Te(rt)}function Ch(t,r,o){if(rt.current!==wn)throw Error(s(168));_e(rt,r),_e(dt,o)}function Nh(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in r))throw Error(s(108,be(t)||"Unknown",f));return G({},o,c)}function ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Wn=rt.current,_e(rt,t),_e(dt,dt.current),!0}function Ph(t,r,o){var c=t.stateNode;if(!c)throw Error(s(169));o?(t=Nh(t,r,Wn),c.__reactInternalMemoizedMergedChildContext=t,Te(dt),Te(rt),_e(rt,t)):Te(dt),_e(dt,o)}var tn=null,so=!1,dl=!1;function Ah(t){tn===null?tn=[t]:tn.push(t)}function P0(t){so=!0,Ah(t)}function bn(){if(!dl&&tn!==null){dl=!0;var t=0,r=we;try{var o=tn;for(we=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}tn=null,so=!1}catch(f){throw tn!==null&&(tn=tn.slice(t+1)),Od(Oa,bn),f}finally{we=r,dl=!1}}return null}var Tr=[],Er=0,io=null,oo=0,kt=[],Tt=0,Bn=null,nn=1,rn="";function zn(t,r){Tr[Er++]=oo,Tr[Er++]=io,io=t,oo=r}function Rh(t,r,o){kt[Tt++]=nn,kt[Tt++]=rn,kt[Tt++]=Bn,Bn=t;var c=nn;t=rn;var f=32-Lt(c)-1;c&=~(1<<f),o+=1;var m=32-Lt(r)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,nn=1<<32-Lt(r)+f|o<<f|c,rn=m+t}else nn=1<<m|o<<f|c,rn=t}function hl(t){t.return!==null&&(zn(t,1),Rh(t,1,0))}function fl(t){for(;t===io;)io=Tr[--Er],Tr[Er]=null,oo=Tr[--Er],Tr[Er]=null;for(;t===Bn;)Bn=kt[--Tt],kt[Tt]=null,rn=kt[--Tt],kt[Tt]=null,nn=kt[--Tt],kt[Tt]=null}var bt=null,_t=null,Ce=!1,Mt=null;function Oh(t,r){var o=Pt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Ih(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,bt=t,_t=vn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,bt=t,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Bn!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Pt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,bt=t,_t=null,!0):!1;default:return!1}}function pl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ml(t){if(Ce){var r=_t;if(r){var o=r;if(!Ih(t,r)){if(pl(t))throw Error(s(418));r=vn(o.nextSibling);var c=bt;r&&Ih(t,r)?Oh(c,o):(t.flags=t.flags&-4097|2,Ce=!1,bt=t)}}else{if(pl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ce=!1,bt=t}}}function Lh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function ao(t){if(t!==bt)return!1;if(!Ce)return Lh(t),Ce=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ol(t.type,t.memoizedProps)),r&&(r=_t)){if(pl(t))throw Dh(),Error(s(418));for(;r;)Oh(t,r),r=vn(r.nextSibling)}if(Lh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){_t=vn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}_t=null}}else _t=bt?vn(t.stateNode.nextSibling):null;return!0}function Dh(){for(var t=_t;t;)t=vn(t.nextSibling)}function Cr(){_t=bt=null,Ce=!1}function gl(t){Mt===null?Mt=[t]:Mt.push(t)}var A0=D.ReactCurrentBatchConfig;function Us(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var c=o.stateNode}if(!c)throw Error(s(147,t));var f=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(x){var b=f.refs;x===null?delete b[m]:b[m]=x},r._stringRef=m,r)}if(typeof t!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,t))}return t}function lo(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mh(t){var r=t._init;return r(t._payload)}function Fh(t){function r(N,k){if(t){var A=N.deletions;A===null?(N.deletions=[k],N.flags|=16):A.push(k)}}function o(N,k){if(!t)return null;for(;k!==null;)r(N,k),k=k.sibling;return null}function c(N,k){for(N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(N,k){return N=Nn(N,k),N.index=0,N.sibling=null,N}function m(N,k,A){return N.index=A,t?(A=N.alternate,A!==null?(A=A.index,A<k?(N.flags|=2,k):A):(N.flags|=2,k)):(N.flags|=1048576,k)}function x(N){return t&&N.alternate===null&&(N.flags|=2),N}function b(N,k,A,q){return k===null||k.tag!==6?(k=ac(A,N.mode,q),k.return=N,k):(k=f(k,A),k.return=N,k)}function S(N,k,A,q){var ne=A.type;return ne===K?W(N,k,A.props.children,q,A.key):k!==null&&(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===je&&Mh(ne)===k.type)?(q=f(k,A.props),q.ref=Us(N,k,A),q.return=N,q):(q=Oo(A.type,A.key,A.props,null,N.mode,q),q.ref=Us(N,k,A),q.return=N,q)}function I(N,k,A,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==A.containerInfo||k.stateNode.implementation!==A.implementation?(k=lc(A,N.mode,q),k.return=N,k):(k=f(k,A.children||[]),k.return=N,k)}function W(N,k,A,q,ne){return k===null||k.tag!==7?(k=Xn(A,N.mode,q,ne),k.return=N,k):(k=f(k,A),k.return=N,k)}function z(N,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return k=ac(""+k,N.mode,A),k.return=N,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return A=Oo(k.type,k.key,k.props,null,N.mode,A),A.ref=Us(N,null,k),A.return=N,A;case B:return k=lc(k,N.mode,A),k.return=N,k;case je:var q=k._init;return z(N,q(k._payload),A)}if(ms(k)||Y(k))return k=Xn(k,N.mode,A,null),k.return=N,k;lo(N,k)}return null}function $(N,k,A,q){var ne=k!==null?k.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:b(N,k,""+A,q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===ne?S(N,k,A,q):null;case B:return A.key===ne?I(N,k,A,q):null;case je:return ne=A._init,$(N,k,ne(A._payload),q)}if(ms(A)||Y(A))return ne!==null?null:W(N,k,A,q,null);lo(N,A)}return null}function Q(N,k,A,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(A)||null,b(k,N,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case F:return N=N.get(q.key===null?A:q.key)||null,S(k,N,q,ne);case B:return N=N.get(q.key===null?A:q.key)||null,I(k,N,q,ne);case je:var se=q._init;return Q(N,k,A,se(q._payload),ne)}if(ms(q)||Y(q))return N=N.get(A)||null,W(k,N,q,ne,null);lo(k,q)}return null}function Z(N,k,A,q){for(var ne=null,se=null,ie=k,ce=k=0,Xe=null;ie!==null&&ce<A.length;ce++){ie.index>ce?(Xe=ie,ie=null):Xe=ie.sibling;var ve=$(N,ie,A[ce],q);if(ve===null){ie===null&&(ie=Xe);break}t&&ie&&ve.alternate===null&&r(N,ie),k=m(ve,k,ce),se===null?ne=ve:se.sibling=ve,se=ve,ie=Xe}if(ce===A.length)return o(N,ie),Ce&&zn(N,ce),ne;if(ie===null){for(;ce<A.length;ce++)ie=z(N,A[ce],q),ie!==null&&(k=m(ie,k,ce),se===null?ne=ie:se.sibling=ie,se=ie);return Ce&&zn(N,ce),ne}for(ie=c(N,ie);ce<A.length;ce++)Xe=Q(ie,N,ce,A[ce],q),Xe!==null&&(t&&Xe.alternate!==null&&ie.delete(Xe.key===null?ce:Xe.key),k=m(Xe,k,ce),se===null?ne=Xe:se.sibling=Xe,se=Xe);return t&&ie.forEach(function(Pn){return r(N,Pn)}),Ce&&zn(N,ce),ne}function ee(N,k,A,q){var ne=Y(A);if(typeof ne!="function")throw Error(s(150));if(A=ne.call(A),A==null)throw Error(s(151));for(var se=ne=null,ie=k,ce=k=0,Xe=null,ve=A.next();ie!==null&&!ve.done;ce++,ve=A.next()){ie.index>ce?(Xe=ie,ie=null):Xe=ie.sibling;var Pn=$(N,ie,ve.value,q);if(Pn===null){ie===null&&(ie=Xe);break}t&&ie&&Pn.alternate===null&&r(N,ie),k=m(Pn,k,ce),se===null?ne=Pn:se.sibling=Pn,se=Pn,ie=Xe}if(ve.done)return o(N,ie),Ce&&zn(N,ce),ne;if(ie===null){for(;!ve.done;ce++,ve=A.next())ve=z(N,ve.value,q),ve!==null&&(k=m(ve,k,ce),se===null?ne=ve:se.sibling=ve,se=ve);return Ce&&zn(N,ce),ne}for(ie=c(N,ie);!ve.done;ce++,ve=A.next())ve=Q(ie,N,ce,ve.value,q),ve!==null&&(t&&ve.alternate!==null&&ie.delete(ve.key===null?ce:ve.key),k=m(ve,k,ce),se===null?ne=ve:se.sibling=ve,se=ve);return t&&ie.forEach(function(ux){return r(N,ux)}),Ce&&zn(N,ce),ne}function $e(N,k,A,q){if(typeof A=="object"&&A!==null&&A.type===K&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var ne=A.key,se=k;se!==null;){if(se.key===ne){if(ne=A.type,ne===K){if(se.tag===7){o(N,se.sibling),k=f(se,A.props.children),k.return=N,N=k;break e}}else if(se.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===je&&Mh(ne)===se.type){o(N,se.sibling),k=f(se,A.props),k.ref=Us(N,se,A),k.return=N,N=k;break e}o(N,se);break}else r(N,se);se=se.sibling}A.type===K?(k=Xn(A.props.children,N.mode,q,A.key),k.return=N,N=k):(q=Oo(A.type,A.key,A.props,null,N.mode,q),q.ref=Us(N,k,A),q.return=N,N=q)}return x(N);case B:e:{for(se=A.key;k!==null;){if(k.key===se)if(k.tag===4&&k.stateNode.containerInfo===A.containerInfo&&k.stateNode.implementation===A.implementation){o(N,k.sibling),k=f(k,A.children||[]),k.return=N,N=k;break e}else{o(N,k);break}else r(N,k);k=k.sibling}k=lc(A,N.mode,q),k.return=N,N=k}return x(N);case je:return se=A._init,$e(N,k,se(A._payload),q)}if(ms(A))return Z(N,k,A,q);if(Y(A))return ee(N,k,A,q);lo(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,k!==null&&k.tag===6?(o(N,k.sibling),k=f(k,A),k.return=N,N=k):(o(N,k),k=ac(A,N.mode,q),k.return=N,N=k),x(N)):o(N,k)}return $e}var Nr=Fh(!0),$h=Fh(!1),co=xn(null),uo=null,Pr=null,yl=null;function vl(){yl=Pr=uo=null}function xl(t){var r=co.current;Te(co),t._currentValue=r}function wl(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ar(t,r){uo=t,yl=Pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(ft=!0),t.firstContext=null)}function Et(t){var r=t._currentValue;if(yl!==t)if(t={context:t,memoizedValue:r,next:null},Pr===null){if(uo===null)throw Error(s(308));Pr=t,uo.dependencies={lanes:0,firstContext:t}}else Pr=Pr.next=t;return r}var qn=null;function bl(t){qn===null?qn=[t]:qn.push(t)}function Uh(t,r,o,c){var f=r.interleaved;return f===null?(o.next=o,bl(r)):(o.next=f.next,f.next=o),r.interleaved=o,sn(t,c)}function sn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var _n=!1;function _l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Sn(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(pe&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,sn(t,o)}return f=c.interleaved,f===null?(r.next=r,bl(c)):(r.next=f.next,f.next=r),c.interleaved=r,sn(t,o)}function ho(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Da(t,o)}}function Wh(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function fo(t,r,o,c){var f=t.updateQueue;_n=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var S=b,I=S.next;S.next=null,x===null?m=I:x.next=I,x=S;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==x&&(b===null?W.firstBaseUpdate=I:b.next=I,W.lastBaseUpdate=S))}if(m!==null){var z=f.baseState;x=0,W=I=S=null,b=m;do{var $=b.lane,Q=b.eventTime;if((c&$)===$){W!==null&&(W=W.next={eventTime:Q,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Z=t,ee=b;switch($=r,Q=o,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){z=Z.call(Q,z,$);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,$=typeof Z=="function"?Z.call(Q,z,$):Z,$==null)break e;z=G({},z,$);break e;case 2:_n=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,$=f.effects,$===null?f.effects=[b]:$.push(b))}else Q={eventTime:Q,lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(I=W=Q,S=z):W=W.next=Q,x|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);if(W===null&&(S=z),f.baseState=S,f.firstBaseUpdate=I,f.lastBaseUpdate=W,r=f.shared.interleaved,r!==null){f=r;do x|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);Gn|=x,t.lanes=x,t.memoizedState=z}}function Bh(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(s(191,f));f.call(c)}}}var Vs={},Gt=xn(Vs),Ws=xn(Vs),Bs=xn(Vs);function Hn(t){if(t===Vs)throw Error(s(174));return t}function Sl(t,r){switch(_e(Bs,r),_e(Ws,t),_e(Gt,Vs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ja(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ja(r,t)}Te(Gt),_e(Gt,r)}function Rr(){Te(Gt),Te(Ws),Te(Bs)}function zh(t){Hn(Bs.current);var r=Hn(Gt.current),o=ja(r,t.type);r!==o&&(_e(Ws,t),_e(Gt,o))}function jl(t){Ws.current===t&&(Te(Gt),Te(Ws))}var Ae=xn(0);function po(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kl=[];function Tl(){for(var t=0;t<kl.length;t++)kl[t]._workInProgressVersionPrimary=null;kl.length=0}var mo=D.ReactCurrentDispatcher,El=D.ReactCurrentBatchConfig,Kn=0,Re=null,He=null,Ye=null,go=!1,zs=!1,qs=0,R0=0;function st(){throw Error(s(321))}function Cl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Dt(t[o],r[o]))return!1;return!0}function Nl(t,r,o,c,f,m){if(Kn=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,mo.current=t===null||t.memoizedState===null?D0:M0,t=o(c,f),zs){m=0;do{if(zs=!1,qs=0,25<=m)throw Error(s(301));m+=1,Ye=He=null,r.updateQueue=null,mo.current=F0,t=o(c,f)}while(zs)}if(mo.current=xo,r=He!==null&&He.next!==null,Kn=0,Ye=He=Re=null,go=!1,r)throw Error(s(300));return t}function Pl(){var t=qs!==0;return qs=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ct(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var r=Ye===null?Re.memoizedState:Ye.next;if(r!==null)Ye=r,He=t;else{if(t===null)throw Error(s(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Hs(t,r){return typeof r=="function"?r(t):r}function Al(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var c=He,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var b=x=null,S=null,I=m;do{var W=I.lane;if((Kn&W)===W)S!==null&&(S=S.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),c=I.hasEagerState?I.eagerState:t(c,I.action);else{var z={lane:W,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};S===null?(b=S=z,x=c):S=S.next=z,Re.lanes|=W,Gn|=W}I=I.next}while(I!==null&&I!==m);S===null?x=c:S.next=b,Dt(c,r.memoizedState)||(ft=!0),r.memoizedState=c,r.baseState=x,r.baseQueue=S,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,Re.lanes|=m,Gn|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Rl(t){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);Dt(m,r.memoizedState)||(ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function qh(){}function Hh(t,r){var o=Re,c=Ct(),f=r(),m=!Dt(c.memoizedState,f);if(m&&(c.memoizedState=f,ft=!0),c=c.queue,Ol(Jh.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Ks(9,Gh.bind(null,o,c,f,r),void 0,null),Qe===null)throw Error(s(349));(Kn&30)!==0||Kh(o,r,f)}return f}function Kh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Gh(t,r,o,c){r.value=o,r.getSnapshot=c,Yh(r)&&Qh(t)}function Jh(t,r,o){return o(function(){Yh(r)&&Qh(t)})}function Yh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Dt(t,o)}catch{return!0}}function Qh(t){var r=sn(t,1);r!==null&&Vt(r,t,1,-1)}function Xh(t){var r=Jt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},r.queue=t,t=t.dispatch=L0.bind(null,Re,t),[r.memoizedState,t]}function Ks(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Re.updateQueue,r===null?(r={lastEffect:null,stores:null},Re.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Zh(){return Ct().memoizedState}function yo(t,r,o,c){var f=Jt();Re.flags|=t,f.memoizedState=Ks(1|r,o,void 0,c===void 0?null:c)}function vo(t,r,o,c){var f=Ct();c=c===void 0?null:c;var m=void 0;if(He!==null){var x=He.memoizedState;if(m=x.destroy,c!==null&&Cl(c,x.deps)){f.memoizedState=Ks(r,o,m,c);return}}Re.flags|=t,f.memoizedState=Ks(1|r,o,m,c)}function ef(t,r){return yo(8390656,8,t,r)}function Ol(t,r){return vo(2048,8,t,r)}function tf(t,r){return vo(4,2,t,r)}function nf(t,r){return vo(4,4,t,r)}function rf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function sf(t,r,o){return o=o!=null?o.concat([t]):null,vo(4,4,rf.bind(null,r,t),o)}function Il(){}function of(t,r){var o=Ct();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Cl(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function af(t,r){var o=Ct();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Cl(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function lf(t,r,o){return(Kn&21)===0?(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=o):(Dt(o,r)||(o=Md(),Re.lanes|=o,Gn|=o,t.baseState=!0),r)}function O0(t,r){var o=we;we=o!==0&&4>o?o:4,t(!0);var c=El.transition;El.transition={};try{t(!1),r()}finally{we=o,El.transition=c}}function cf(){return Ct().memoizedState}function I0(t,r,o){var c=En(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},uf(t))df(r,o);else if(o=Uh(t,r,o,c),o!==null){var f=ct();Vt(o,t,c,f),hf(o,r,c)}}function L0(t,r,o){var c=En(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(uf(t))df(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,b=m(x,o);if(f.hasEagerState=!0,f.eagerState=b,Dt(b,x)){var S=r.interleaved;S===null?(f.next=f,bl(r)):(f.next=S.next,S.next=f),r.interleaved=f;return}}catch{}finally{}o=Uh(t,r,f,c),o!==null&&(f=ct(),Vt(o,t,c,f),hf(o,r,c))}}function uf(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function df(t,r){zs=go=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function hf(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,Da(t,o)}}var xo={readContext:Et,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},D0={readContext:Et,useCallback:function(t,r){return Jt().memoizedState=[t,r===void 0?null:r],t},useContext:Et,useEffect:ef,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,yo(4194308,4,rf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return yo(4194308,4,t,r)},useInsertionEffect:function(t,r){return yo(4,2,t,r)},useMemo:function(t,r){var o=Jt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Jt();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=I0.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var r=Jt();return t={current:t},r.memoizedState=t},useState:Xh,useDebugValue:Il,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Xh(!1),r=t[0];return t=O0.bind(null,t[1]),Jt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Re,f=Jt();if(Ce){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Qe===null)throw Error(s(349));(Kn&30)!==0||Kh(c,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,ef(Jh.bind(null,c,m,t),[t]),c.flags|=2048,Ks(9,Gh.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Jt(),r=Qe.identifierPrefix;if(Ce){var o=rn,c=nn;o=(c&~(1<<32-Lt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=qs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=R0++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},M0={readContext:Et,useCallback:of,useContext:Et,useEffect:Ol,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:Al,useRef:Zh,useState:function(){return Al(Hs)},useDebugValue:Il,useDeferredValue:function(t){var r=Ct();return lf(r,He.memoizedState,t)},useTransition:function(){var t=Al(Hs)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:qh,useSyncExternalStore:Hh,useId:cf,unstable_isNewReconciler:!1},F0={readContext:Et,useCallback:of,useContext:Et,useEffect:Ol,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:Rl,useRef:Zh,useState:function(){return Rl(Hs)},useDebugValue:Il,useDeferredValue:function(t){var r=Ct();return He===null?r.memoizedState=t:lf(r,He.memoizedState,t)},useTransition:function(){var t=Rl(Hs)[0],r=Ct().memoizedState;return[t,r]},useMutableSource:qh,useSyncExternalStore:Hh,useId:cf,unstable_isNewReconciler:!1};function Ft(t,r){if(t&&t.defaultProps){r=G({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ll(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:G({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var wo={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=ct(),f=En(t),m=on(c,f);m.payload=r,o!=null&&(m.callback=o),r=Sn(t,m,f),r!==null&&(Vt(r,t,f,c),ho(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=ct(),f=En(t),m=on(c,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Sn(t,m,f),r!==null&&(Vt(r,t,f,c),ho(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ct(),c=En(t),f=on(o,c);f.tag=2,r!=null&&(f.callback=r),r=Sn(t,f,c),r!==null&&(Vt(r,t,c,o),ho(r,t,c))}};function ff(t,r,o,c,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,x):r.prototype&&r.prototype.isPureReactComponent?!Os(o,c)||!Os(f,m):!0}function pf(t,r,o){var c=!1,f=wn,m=r.contextType;return typeof m=="object"&&m!==null?m=Et(m):(f=ht(r)?Wn:rt.current,c=r.contextTypes,m=(c=c!=null)?kr(t,f):wn),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wo,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function mf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&wo.enqueueReplaceState(r,r.state,null)}function Dl(t,r,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},_l(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=Et(m):(m=ht(r)?Wn:rt.current,f.context=kr(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Ll(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&wo.enqueueReplaceState(f,f.state,null),fo(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Or(t,r){try{var o="",c=r;do o+=ge(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function Ml(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Fl(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function gf(t,r,o){o=on(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Eo||(Eo=!0,Zl=c),Fl(t,r)},o}function yf(t,r,o){o=on(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;o.payload=function(){return c(f)},o.callback=function(){Fl(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Fl(t,r),typeof c!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),o}function vf(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new $0;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(f.add(o),t=Z0.bind(null,t,r,o),r.then(t,t))}function xf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function wf(t,r,o,c,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=on(-1,1),r.tag=2,Sn(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var U0=D.ReactCurrentOwner,ft=!1;function lt(t,r,o,c){r.child=t===null?$h(r,null,o,c):Nr(r,t.child,o,c)}function bf(t,r,o,c,f){o=o.render;var m=r.ref;return Ar(r,f),c=Nl(t,r,o,c,m,f),o=Pl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ce&&o&&hl(r),r.flags|=1,lt(t,r,c,f),r.child)}function _f(t,r,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!oc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Sf(t,r,m,c,f)):(t=Oo(o.type,null,c,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&f)===0){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:Os,o(x,c)&&t.ref===r.ref)return an(t,r,f)}return r.flags|=1,t=Nn(m,c),t.ref=r.ref,t.return=r,r.child=t}function Sf(t,r,o,c,f){if(t!==null){var m=t.memoizedProps;if(Os(m,c)&&t.ref===r.ref)if(ft=!1,r.pendingProps=c=m,(t.lanes&f)!==0)(t.flags&131072)!==0&&(ft=!0);else return r.lanes=t.lanes,an(t,r,f)}return $l(t,r,o,c,f)}function jf(t,r,o){var c=r.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Lr,St),St|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,_e(Lr,St),St|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,_e(Lr,St),St|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,_e(Lr,St),St|=c;return lt(t,r,f,o),r.child}function kf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function $l(t,r,o,c,f){var m=ht(o)?Wn:rt.current;return m=kr(r,m),Ar(r,f),o=Nl(t,r,o,c,m,f),c=Pl(),t!==null&&!ft?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,an(t,r,f)):(Ce&&c&&hl(r),r.flags|=1,lt(t,r,o,f),r.child)}function Tf(t,r,o,c,f){if(ht(o)){var m=!0;ro(r)}else m=!1;if(Ar(r,f),r.stateNode===null)_o(t,r),pf(r,o,c),Dl(r,o,c,f),c=!0;else if(t===null){var x=r.stateNode,b=r.memoizedProps;x.props=b;var S=x.context,I=o.contextType;typeof I=="object"&&I!==null?I=Et(I):(I=ht(o)?Wn:rt.current,I=kr(r,I));var W=o.getDerivedStateFromProps,z=typeof W=="function"||typeof x.getSnapshotBeforeUpdate=="function";z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==c||S!==I)&&mf(r,x,c,I),_n=!1;var $=r.memoizedState;x.state=$,fo(r,c,x,f),S=r.memoizedState,b!==c||$!==S||dt.current||_n?(typeof W=="function"&&(Ll(r,o,W,c),S=r.memoizedState),(b=_n||ff(r,o,b,c,$,S,I))?(z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=S),x.props=c,x.state=S,x.context=I,c=b):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{x=r.stateNode,Vh(t,r),b=r.memoizedProps,I=r.type===r.elementType?b:Ft(r.type,b),x.props=I,z=r.pendingProps,$=x.context,S=o.contextType,typeof S=="object"&&S!==null?S=Et(S):(S=ht(o)?Wn:rt.current,S=kr(r,S));var Q=o.getDerivedStateFromProps;(W=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==z||$!==S)&&mf(r,x,c,S),_n=!1,$=r.memoizedState,x.state=$,fo(r,c,x,f);var Z=r.memoizedState;b!==z||$!==Z||dt.current||_n?(typeof Q=="function"&&(Ll(r,o,Q,c),Z=r.memoizedState),(I=_n||ff(r,o,I,c,$,Z,S)||!1)?(W||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,Z,S),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,Z,S)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),x.props=c,x.state=Z,x.context=S,c=I):(typeof x.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),c=!1)}return Ul(t,r,o,c,m,f)}function Ul(t,r,o,c,f,m){kf(t,r);var x=(r.flags&128)!==0;if(!c&&!x)return f&&Ph(r,o,!1),an(t,r,m);c=r.stateNode,U0.current=r;var b=x&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&x?(r.child=Nr(r,t.child,null,m),r.child=Nr(r,null,b,m)):lt(t,r,b,m),r.memoizedState=c.state,f&&Ph(r,o,!0),r.child}function Ef(t){var r=t.stateNode;r.pendingContext?Ch(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Ch(t,r.context,!1),Sl(t,r.containerInfo)}function Cf(t,r,o,c,f){return Cr(),gl(f),r.flags|=256,lt(t,r,o,c),r.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Wl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nf(t,r,o){var c=r.pendingProps,f=Ae.current,m=!1,x=(r.flags&128)!==0,b;if((b=x)||(b=t!==null&&t.memoizedState===null?!1:(f&2)!==0),b?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),_e(Ae,f&1),t===null)return ml(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=c.children,t=c.fallback,m?(c=r.mode,m=r.child,x={mode:"hidden",children:x},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Io(x,c,0,null),t=Xn(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Wl(o),r.memoizedState=Vl,t):Bl(r,x));if(f=t.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return V0(t,r,x,c,b,f,o);if(m){m=c.fallback,x=r.mode,f=t.child,b=f.sibling;var S={mode:"hidden",children:c.children};return(x&1)===0&&r.child!==f?(c=r.child,c.childLanes=0,c.pendingProps=S,r.deletions=null):(c=Nn(f,S),c.subtreeFlags=f.subtreeFlags&14680064),b!==null?m=Nn(b,m):(m=Xn(m,x,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,x=t.child.memoizedState,x=x===null?Wl(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=t.childLanes&~o,r.memoizedState=Vl,c}return m=t.child,t=m.sibling,c=Nn(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Bl(t,r){return r=Io({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function bo(t,r,o,c){return c!==null&&gl(c),Nr(r,t.child,null,o),t=Bl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function V0(t,r,o,c,f,m,x){if(o)return r.flags&256?(r.flags&=-257,c=Ml(Error(s(422))),bo(t,r,x,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,f=r.mode,c=Io({mode:"visible",children:c.children},f,0,null),m=Xn(m,f,x,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&Nr(r,t.child,null,x),r.child.memoizedState=Wl(x),r.memoizedState=Vl,m);if((r.mode&1)===0)return bo(t,r,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var b=c.dgst;return c=b,m=Error(s(419)),c=Ml(m,c,void 0),bo(t,r,x,c)}if(b=(x&t.childLanes)!==0,ft||b){if(c=Qe,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,sn(t,f),Vt(c,t,f,-1))}return ic(),c=Ml(Error(s(421))),bo(t,r,x,c)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=ex.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,_t=vn(f.nextSibling),bt=r,Ce=!0,Mt=null,t!==null&&(kt[Tt++]=nn,kt[Tt++]=rn,kt[Tt++]=Bn,nn=t.id,rn=t.overflow,Bn=r),r=Bl(r,c.children),r.flags|=4096,r)}function Pf(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),wl(t.return,r,o)}function zl(t,r,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function Af(t,r,o){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(lt(t,r,c.children,o),c=Ae.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pf(t,o,r);else if(t.tag===19)Pf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(_e(Ae,c),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&po(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zl(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&po(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}zl(r,!0,o,null,m);break;case"together":zl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _o(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function an(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Gn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,o=Nn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Nn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function W0(t,r,o){switch(r.tag){case 3:Ef(r),Cr();break;case 5:zh(r);break;case 1:ht(r.type)&&ro(r);break;case 4:Sl(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,f=r.memoizedProps.value;_e(co,c._currentValue),c._currentValue=f;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(_e(Ae,Ae.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Nf(t,r,o):(_e(Ae,Ae.current&1),t=an(t,r,o),t!==null?t.sibling:null);_e(Ae,Ae.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Af(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_e(Ae,Ae.current),c)break;return null;case 22:case 23:return r.lanes=0,jf(t,r,o)}return an(t,r,o)}var Rf,ql,Of,If;Rf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ql=function(){},Of=function(t,r,o,c){var f=t.memoizedProps;if(f!==c){t=r.stateNode,Hn(Gt.current);var m=null;switch(o){case"input":f=wa(t,f),c=wa(t,c),m=[];break;case"select":f=G({},f,{value:void 0}),c=G({},c,{value:void 0}),m=[];break;case"textarea":f=Sa(t,f),c=Sa(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=eo)}ka(o,c);var x;o=null;for(I in f)if(!c.hasOwnProperty(I)&&f.hasOwnProperty(I)&&f[I]!=null)if(I==="style"){var b=f[I];for(x in b)b.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in c){var S=c[I];if(b=f?.[I],c.hasOwnProperty(I)&&S!==b&&(S!=null||b!=null))if(I==="style")if(b){for(x in b)!b.hasOwnProperty(x)||S&&S.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in S)S.hasOwnProperty(x)&&b[x]!==S[x]&&(o||(o={}),o[x]=S[x])}else o||(m||(m=[]),m.push(I,o)),o=S;else I==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,b=b?b.__html:void 0,S!=null&&b!==S&&(m=m||[]).push(I,S)):I==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(I,""+S):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(S!=null&&I==="onScroll"&&ke("scroll",t),m||b===S||(m=[])):(m=m||[]).push(I,S))}o&&(m=m||[]).push("style",o);var I=m;(r.updateQueue=I)&&(r.flags|=4)}},If=function(t,r,o,c){o!==c&&(r.flags|=4)};function Gs(t,r){if(!Ce)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function B0(t,r,o){var c=r.pendingProps;switch(fl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return ht(r.type)&&no(),it(r),null;case 3:return c=r.stateNode,Rr(),Te(dt),Te(rt),Tl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ao(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mt!==null&&(nc(Mt),Mt=null))),ql(t,r),it(r),null;case 5:jl(r);var f=Hn(Bs.current);if(o=r.type,t!==null&&r.stateNode!=null)Of(t,r,o,c,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=Hn(Gt.current),ao(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Kt]=r,c[Fs]=m,t=(r.mode&1)!==0,o){case"dialog":ke("cancel",c),ke("close",c);break;case"iframe":case"object":case"embed":ke("load",c);break;case"video":case"audio":for(f=0;f<Ls.length;f++)ke(Ls[f],c);break;case"source":ke("error",c);break;case"img":case"image":case"link":ke("error",c),ke("load",c);break;case"details":ke("toggle",c);break;case"input":fd(c,m),ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ke("invalid",c);break;case"textarea":gd(c,m),ke("invalid",c)}ka(o,m),f=null;for(var x in m)if(m.hasOwnProperty(x)){var b=m[x];x==="children"?typeof b=="string"?c.textContent!==b&&(m.suppressHydrationWarning!==!0&&Zi(c.textContent,b,t),f=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(m.suppressHydrationWarning!==!0&&Zi(c.textContent,b,t),f=["children",""+b]):a.hasOwnProperty(x)&&b!=null&&x==="onScroll"&&ke("scroll",c)}switch(o){case"input":Pi(c),md(c,m,!0);break;case"textarea":Pi(c),vd(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=eo)}c=f,r.updateQueue=c,c!==null&&(r.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=x.createElement(o,{is:c.is}):(t=x.createElement(o),o==="select"&&(x=t,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):t=x.createElementNS(t,o),t[Kt]=r,t[Fs]=c,Rf(t,r,!1,!1),r.stateNode=t;e:{switch(x=Ta(o,c),o){case"dialog":ke("cancel",t),ke("close",t),f=c;break;case"iframe":case"object":case"embed":ke("load",t),f=c;break;case"video":case"audio":for(f=0;f<Ls.length;f++)ke(Ls[f],t);f=c;break;case"source":ke("error",t),f=c;break;case"img":case"image":case"link":ke("error",t),ke("load",t),f=c;break;case"details":ke("toggle",t),f=c;break;case"input":fd(t,c),f=wa(t,c),ke("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=G({},c,{value:void 0}),ke("invalid",t);break;case"textarea":gd(t,c),f=Sa(t,c),ke("invalid",t);break;default:f=c}ka(o,f),b=f;for(m in b)if(b.hasOwnProperty(m)){var S=b[m];m==="style"?_d(t,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&wd(t,S)):m==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&gs(t,S):typeof S=="number"&&gs(t,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?S!=null&&m==="onScroll"&&ke("scroll",t):S!=null&&R(t,m,S,x))}switch(o){case"input":Pi(t),md(t,c,!1);break;case"textarea":Pi(t),vd(t);break;case"option":c.value!=null&&t.setAttribute("value",""+xe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?fr(t,!!c.multiple,m,!1):c.defaultValue!=null&&fr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=eo)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(t&&r.stateNode!=null)If(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(o=Hn(Bs.current),Hn(Gt.current),ao(r)){if(c=r.stateNode,o=r.memoizedProps,c[Kt]=r,(m=c.nodeValue!==o)&&(t=bt,t!==null))switch(t.tag){case 3:Zi(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zi(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Kt]=r,r.stateNode=c}return it(r),null;case 13:if(Te(Ae),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Dh(),Cr(),r.flags|=98560,m=!1;else if(m=ao(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Kt]=r}else Cr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),m=!1}else Mt!==null&&(nc(Mt),Mt=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ae.current&1)!==0?Ke===0&&(Ke=3):ic())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return Rr(),ql(t,r),t===null&&Ds(r.stateNode.containerInfo),it(r),null;case 10:return xl(r.type._context),it(r),null;case 17:return ht(r.type)&&no(),it(r),null;case 19:if(Te(Ae),m=r.memoizedState,m===null)return it(r),null;if(c=(r.flags&128)!==0,x=m.rendering,x===null)if(c)Gs(m,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=po(t),x!==null){for(r.flags|=128,Gs(m,!1),c=x.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,t=x.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return _e(Ae,Ae.current&1|2),r.child}t=t.sibling}m.tail!==null&&Fe()>Dr&&(r.flags|=128,c=!0,Gs(m,!1),r.lanes=4194304)}else{if(!c)if(t=po(x),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Gs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ce)return it(r),null}else 2*Fe()-m.renderingStartTime>Dr&&o!==1073741824&&(r.flags|=128,c=!0,Gs(m,!1),r.lanes=4194304);m.isBackwards?(x.sibling=r.child,r.child=x):(o=m.last,o!==null?o.sibling=x:r.child=x,m.last=x)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Fe(),r.sibling=null,o=Ae.current,_e(Ae,c?o&1|2:o&1),r):(it(r),null);case 22:case 23:return sc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(St&1073741824)!==0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function z0(t,r){switch(fl(r),r.tag){case 1:return ht(r.type)&&no(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Rr(),Te(dt),Te(rt),Tl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return jl(r),null;case 13:if(Te(Ae),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Cr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Te(Ae),null;case 4:return Rr(),null;case 10:return xl(r.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var So=!1,ot=!1,q0=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ir(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Le(t,r,c)}else o.current=null}function Hl(t,r,o){try{o()}catch(c){Le(t,r,c)}}var Lf=!1;function H0(t,r){if(sl=Wi,t=hh(),Ya(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var x=0,b=-1,S=-1,I=0,W=0,z=t,$=null;t:for(;;){for(var Q;z!==o||f!==0&&z.nodeType!==3||(b=x+f),z!==m||c!==0&&z.nodeType!==3||(S=x+c),z.nodeType===3&&(x+=z.nodeValue.length),(Q=z.firstChild)!==null;)$=z,z=Q;for(;;){if(z===t)break t;if($===o&&++I===f&&(b=x),$===m&&++W===c&&(S=x),(Q=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=Q}o=b===-1||S===-1?null:{start:b,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(il={focusedElem:t,selectionRange:o},Wi=!1,X=r;X!==null;)if(r=X,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,X=t;else for(;X!==null;){r=X;try{var Z=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,$e=Z.memoizedState,N=r.stateNode,k=N.getSnapshotBeforeUpdate(r.elementType===r.type?ee:Ft(r.type,ee),$e);N.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var A=r.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){Le(r,r.return,q)}if(t=r.sibling,t!==null){t.return=r.return,X=t;break}X=r.return}return Z=Lf,Lf=!1,Z}function Js(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Hl(r,o,m)}f=f.next}while(f!==c)}}function jo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Kl(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Df(t){var r=t.alternate;r!==null&&(t.alternate=null,Df(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Kt],delete r[Fs],delete r[cl],delete r[C0],delete r[N0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mf(t){return t.tag===5||t.tag===3||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gl(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=eo));else if(c!==4&&(t=t.child,t!==null))for(Gl(t,r,o),t=t.sibling;t!==null;)Gl(t,r,o),t=t.sibling}function Jl(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Jl(t,r,o),t=t.sibling;t!==null;)Jl(t,r,o),t=t.sibling}var et=null,$t=!1;function jn(t,r,o){for(o=o.child;o!==null;)$f(t,r,o),o=o.sibling}function $f(t,r,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Di,o)}catch{}switch(o.tag){case 5:ot||Ir(o,r);case 6:var c=et,f=$t;et=null,jn(t,r,o),et=c,$t=f,et!==null&&($t?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&($t?(t=et,o=o.stateNode,t.nodeType===8?ll(t.parentNode,o):t.nodeType===1&&ll(t,o),Es(t)):ll(et,o.stateNode));break;case 4:c=et,f=$t,et=o.stateNode.containerInfo,$t=!0,jn(t,r,o),et=c,$t=f;break;case 0:case 11:case 14:case 15:if(!ot&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Hl(o,r,x),f=f.next}while(f!==c)}jn(t,r,o);break;case 1:if(!ot&&(Ir(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(b){Le(o,r,b)}jn(t,r,o);break;case 21:jn(t,r,o);break;case 22:o.mode&1?(ot=(c=ot)||o.memoizedState!==null,jn(t,r,o),ot=c):jn(t,r,o);break;default:jn(t,r,o)}}function Uf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new q0),r.forEach(function(c){var f=tx.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Ut(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,x=r,b=x;e:for(;b!==null;){switch(b.tag){case 5:et=b.stateNode,$t=!1;break e;case 3:et=b.stateNode.containerInfo,$t=!0;break e;case 4:et=b.stateNode.containerInfo,$t=!0;break e}b=b.return}if(et===null)throw Error(s(160));$f(m,x,f),et=null,$t=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(I){Le(f,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Vf(r,t),r=r.sibling}function Vf(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ut(r,t),Yt(t),c&4){try{Js(3,t,t.return),jo(3,t)}catch(ee){Le(t,t.return,ee)}try{Js(5,t,t.return)}catch(ee){Le(t,t.return,ee)}}break;case 1:Ut(r,t),Yt(t),c&512&&o!==null&&Ir(o,o.return);break;case 5:if(Ut(r,t),Yt(t),c&512&&o!==null&&Ir(o,o.return),t.flags&32){var f=t.stateNode;try{gs(f,"")}catch(ee){Le(t,t.return,ee)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,x=o!==null?o.memoizedProps:m,b=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{b==="input"&&m.type==="radio"&&m.name!=null&&pd(f,m),Ta(b,x);var I=Ta(b,m);for(x=0;x<S.length;x+=2){var W=S[x],z=S[x+1];W==="style"?_d(f,z):W==="dangerouslySetInnerHTML"?wd(f,z):W==="children"?gs(f,z):R(f,W,z,I)}switch(b){case"input":ba(f,m);break;case"textarea":yd(f,m);break;case"select":var $=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?fr(f,!!m.multiple,Q,!1):$!==!!m.multiple&&(m.defaultValue!=null?fr(f,!!m.multiple,m.defaultValue,!0):fr(f,!!m.multiple,m.multiple?[]:"",!1))}f[Fs]=m}catch(ee){Le(t,t.return,ee)}}break;case 6:if(Ut(r,t),Yt(t),c&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(ee){Le(t,t.return,ee)}}break;case 3:if(Ut(r,t),Yt(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Es(r.containerInfo)}catch(ee){Le(t,t.return,ee)}break;case 4:Ut(r,t),Yt(t);break;case 13:Ut(r,t),Yt(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Xl=Fe())),c&4&&Uf(t);break;case 22:if(W=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(I=ot)||W,Ut(r,t),ot=I):Ut(r,t),Yt(t),c&8192){if(I=t.memoizedState!==null,(t.stateNode.isHidden=I)&&!W&&(t.mode&1)!==0)for(X=t,W=t.child;W!==null;){for(z=X=W;X!==null;){switch($=X,Q=$.child,$.tag){case 0:case 11:case 14:case 15:Js(4,$,$.return);break;case 1:Ir($,$.return);var Z=$.stateNode;if(typeof Z.componentWillUnmount=="function"){c=$,o=$.return;try{r=c,Z.props=r.memoizedProps,Z.state=r.memoizedState,Z.componentWillUnmount()}catch(ee){Le(c,o,ee)}}break;case 5:Ir($,$.return);break;case 22:if($.memoizedState!==null){zf(z);continue}}Q!==null?(Q.return=$,X=Q):zf(z)}W=W.sibling}e:for(W=null,z=t;;){if(z.tag===5){if(W===null){W=z;try{f=z.stateNode,I?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(b=z.stateNode,S=z.memoizedProps.style,x=S!=null&&S.hasOwnProperty("display")?S.display:null,b.style.display=bd("display",x))}catch(ee){Le(t,t.return,ee)}}}else if(z.tag===6){if(W===null)try{z.stateNode.nodeValue=I?"":z.memoizedProps}catch(ee){Le(t,t.return,ee)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===t)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===t)break e;for(;z.sibling===null;){if(z.return===null||z.return===t)break e;W===z&&(W=null),z=z.return}W===z&&(W=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Ut(r,t),Yt(t),c&4&&Uf(t);break;case 21:break;default:Ut(r,t),Yt(t)}}function Yt(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Mf(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(gs(f,""),c.flags&=-33);var m=Ff(t);Jl(t,m,f);break;case 3:case 4:var x=c.stateNode.containerInfo,b=Ff(t);Gl(t,b,x);break;default:throw Error(s(161))}}catch(S){Le(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function K0(t,r,o){X=t,Wf(t)}function Wf(t,r,o){for(var c=(t.mode&1)!==0;X!==null;){var f=X,m=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||So;if(!x){var b=f.alternate,S=b!==null&&b.memoizedState!==null||ot;b=So;var I=ot;if(So=x,(ot=S)&&!I)for(X=f;X!==null;)x=X,S=x.child,x.tag===22&&x.memoizedState!==null?qf(f):S!==null?(S.return=x,X=S):qf(f);for(;m!==null;)X=m,Wf(m),m=m.sibling;X=f,So=b,ot=I}Bf(t)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,X=m):Bf(t)}}function Bf(t){for(;X!==null;){var r=X;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ot||jo(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!ot)if(o===null)c.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Ft(r.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Bh(r,m,c);break;case 3:var x=r.updateQueue;if(x!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Bh(r,x,o)}break;case 5:var b=r.stateNode;if(o===null&&r.flags&4){o=b;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var W=I.memoizedState;if(W!==null){var z=W.dehydrated;z!==null&&Es(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ot||r.flags&512&&Kl(r)}catch($){Le(r,r.return,$)}}if(r===t){X=null;break}if(o=r.sibling,o!==null){o.return=r.return,X=o;break}X=r.return}}function zf(t){for(;X!==null;){var r=X;if(r===t){X=null;break}var o=r.sibling;if(o!==null){o.return=r.return,X=o;break}X=r.return}}function qf(t){for(;X!==null;){var r=X;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{jo(4,r)}catch(S){Le(r,o,S)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var f=r.return;try{c.componentDidMount()}catch(S){Le(r,f,S)}}var m=r.return;try{Kl(r)}catch(S){Le(r,m,S)}break;case 5:var x=r.return;try{Kl(r)}catch(S){Le(r,x,S)}}}catch(S){Le(r,r.return,S)}if(r===t){X=null;break}var b=r.sibling;if(b!==null){b.return=r.return,X=b;break}X=r.return}}var G0=Math.ceil,ko=D.ReactCurrentDispatcher,Yl=D.ReactCurrentOwner,Nt=D.ReactCurrentBatchConfig,pe=0,Qe=null,Ve=null,tt=0,St=0,Lr=xn(0),Ke=0,Ys=null,Gn=0,To=0,Ql=0,Qs=null,pt=null,Xl=0,Dr=1/0,ln=null,Eo=!1,Zl=null,kn=null,Co=!1,Tn=null,No=0,Xs=0,ec=null,Po=-1,Ao=0;function ct(){return(pe&6)!==0?Fe():Po!==-1?Po:Po=Fe()}function En(t){return(t.mode&1)===0?1:(pe&2)!==0&&tt!==0?tt&-tt:A0.transition!==null?(Ao===0&&(Ao=Md()),Ao):(t=we,t!==0||(t=window.event,t=t===void 0?16:Hd(t.type)),t)}function Vt(t,r,o,c){if(50<Xs)throw Xs=0,ec=null,Error(s(185));_s(t,o,c),((pe&2)===0||t!==Qe)&&(t===Qe&&((pe&2)===0&&(To|=o),Ke===4&&Cn(t,tt)),mt(t,c),o===1&&pe===0&&(r.mode&1)===0&&(Dr=Fe()+500,so&&bn()))}function mt(t,r){var o=t.callbackNode;Av(t,r);var c=$i(t,t===Qe?tt:0);if(c===0)o!==null&&Id(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Id(o),r===1)t.tag===0?P0(Kf.bind(null,t)):Ah(Kf.bind(null,t)),T0(function(){(pe&6)===0&&bn()}),o=null;else{switch(Fd(c)){case 1:o=Oa;break;case 4:o=Ld;break;case 16:o=Li;break;case 536870912:o=Dd;break;default:o=Li}o=tp(o,Hf.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Hf(t,r){if(Po=-1,Ao=0,(pe&6)!==0)throw Error(s(327));var o=t.callbackNode;if(Mr()&&t.callbackNode!==o)return null;var c=$i(t,t===Qe?tt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Ro(t,c);else{r=c;var f=pe;pe|=2;var m=Jf();(Qe!==t||tt!==r)&&(ln=null,Dr=Fe()+500,Yn(t,r));do try{Q0();break}catch(b){Gf(t,b)}while(!0);vl(),ko.current=m,pe=f,Ve!==null?r=0:(Qe=null,tt=0,r=Ke)}if(r!==0){if(r===2&&(f=Ia(t),f!==0&&(c=f,r=tc(t,f))),r===1)throw o=Ys,Yn(t,0),Cn(t,c),mt(t,Fe()),o;if(r===6)Cn(t,c);else{if(f=t.current.alternate,(c&30)===0&&!J0(f)&&(r=Ro(t,c),r===2&&(m=Ia(t),m!==0&&(c=m,r=tc(t,m))),r===1))throw o=Ys,Yn(t,0),Cn(t,c),mt(t,Fe()),o;switch(t.finishedWork=f,t.finishedLanes=c,r){case 0:case 1:throw Error(s(345));case 2:Qn(t,pt,ln);break;case 3:if(Cn(t,c),(c&130023424)===c&&(r=Xl+500-Fe(),10<r)){if($i(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){ct(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=al(Qn.bind(null,t,pt,ln),r);break}Qn(t,pt,ln);break;case 4:if(Cn(t,c),(c&4194240)===c)break;for(r=t.eventTimes,f=-1;0<c;){var x=31-Lt(c);m=1<<x,x=r[x],x>f&&(f=x),c&=~m}if(c=f,c=Fe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*G0(c/1960))-c,10<c){t.timeoutHandle=al(Qn.bind(null,t,pt,ln),c);break}Qn(t,pt,ln);break;case 5:Qn(t,pt,ln);break;default:throw Error(s(329))}}}return mt(t,Fe()),t.callbackNode===o?Hf.bind(null,t):null}function tc(t,r){var o=Qs;return t.current.memoizedState.isDehydrated&&(Yn(t,r).flags|=256),t=Ro(t,r),t!==2&&(r=pt,pt=o,r!==null&&nc(r)),t}function nc(t){pt===null?pt=t:pt.push.apply(pt,t)}function J0(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!Dt(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cn(t,r){for(r&=~Ql,r&=~To,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Lt(r),c=1<<o;t[o]=-1,r&=~c}}function Kf(t){if((pe&6)!==0)throw Error(s(327));Mr();var r=$i(t,0);if((r&1)===0)return mt(t,Fe()),null;var o=Ro(t,r);if(t.tag!==0&&o===2){var c=Ia(t);c!==0&&(r=c,o=tc(t,c))}if(o===1)throw o=Ys,Yn(t,0),Cn(t,r),mt(t,Fe()),o;if(o===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Qn(t,pt,ln),mt(t,Fe()),null}function rc(t,r){var o=pe;pe|=1;try{return t(r)}finally{pe=o,pe===0&&(Dr=Fe()+500,so&&bn())}}function Jn(t){Tn!==null&&Tn.tag===0&&(pe&6)===0&&Mr();var r=pe;pe|=1;var o=Nt.transition,c=we;try{if(Nt.transition=null,we=1,t)return t()}finally{we=c,Nt.transition=o,pe=r,(pe&6)===0&&bn()}}function sc(){St=Lr.current,Te(Lr)}function Yn(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,k0(o)),Ve!==null)for(o=Ve.return;o!==null;){var c=o;switch(fl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&no();break;case 3:Rr(),Te(dt),Te(rt),Tl();break;case 5:jl(c);break;case 4:Rr();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:xl(c.type._context);break;case 22:case 23:sc()}o=o.return}if(Qe=t,Ve=t=Nn(t.current,null),tt=St=r,Ke=0,Ys=null,Ql=To=Gn=0,pt=Qs=null,qn!==null){for(r=0;r<qn.length;r++)if(o=qn[r],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var x=m.next;m.next=f,c.next=x}o.pending=c}qn=null}return t}function Gf(t,r){do{var o=Ve;try{if(vl(),mo.current=xo,go){for(var c=Re.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}go=!1}if(Kn=0,Ye=He=Re=null,zs=!1,qs=0,Yl.current=null,o===null||o.return===null){Ke=1,Ys=r,Ve=null;break}e:{var m=t,x=o.return,b=o,S=r;if(r=tt,b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=S,W=b,z=W.tag;if((W.mode&1)===0&&(z===0||z===11||z===15)){var $=W.alternate;$?(W.updateQueue=$.updateQueue,W.memoizedState=$.memoizedState,W.lanes=$.lanes):(W.updateQueue=null,W.memoizedState=null)}var Q=xf(x);if(Q!==null){Q.flags&=-257,wf(Q,x,b,m,r),Q.mode&1&&vf(m,I,r),r=Q,S=I;var Z=r.updateQueue;if(Z===null){var ee=new Set;ee.add(S),r.updateQueue=ee}else Z.add(S);break e}else{if((r&1)===0){vf(m,I,r),ic();break e}S=Error(s(426))}}else if(Ce&&b.mode&1){var $e=xf(x);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),wf($e,x,b,m,r),gl(Or(S,b));break e}}m=S=Or(S,b),Ke!==4&&(Ke=2),Qs===null?Qs=[m]:Qs.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var N=gf(m,S,r);Wh(m,N);break e;case 1:b=S;var k=m.type,A=m.stateNode;if((m.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(kn===null||!kn.has(A)))){m.flags|=65536,r&=-r,m.lanes|=r;var q=yf(m,b,r);Wh(m,q);break e}}m=m.return}while(m!==null)}Qf(o)}catch(ne){r=ne,Ve===o&&o!==null&&(Ve=o=o.return);continue}break}while(!0)}function Jf(){var t=ko.current;return ko.current=xo,t===null?xo:t}function ic(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||(Gn&268435455)===0&&(To&268435455)===0||Cn(Qe,tt)}function Ro(t,r){var o=pe;pe|=2;var c=Jf();(Qe!==t||tt!==r)&&(ln=null,Yn(t,r));do try{Y0();break}catch(f){Gf(t,f)}while(!0);if(vl(),pe=o,ko.current=c,Ve!==null)throw Error(s(261));return Qe=null,tt=0,Ke}function Y0(){for(;Ve!==null;)Yf(Ve)}function Q0(){for(;Ve!==null&&!_v();)Yf(Ve)}function Yf(t){var r=ep(t.alternate,t,St);t.memoizedProps=t.pendingProps,r===null?Qf(t):Ve=r,Yl.current=null}function Qf(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=B0(o,r,St),o!==null){Ve=o;return}}else{if(o=z0(o,r),o!==null){o.flags&=32767,Ve=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);Ke===0&&(Ke=5)}function Qn(t,r,o){var c=we,f=Nt.transition;try{Nt.transition=null,we=1,X0(t,r,o,c)}finally{Nt.transition=f,we=c}return null}function X0(t,r,o,c){do Mr();while(Tn!==null);if((pe&6)!==0)throw Error(s(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(Rv(t,m),t===Qe&&(Ve=Qe=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Co||(Co=!0,tp(Li,function(){return Mr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Nt.transition,Nt.transition=null;var x=we;we=1;var b=pe;pe|=4,Yl.current=null,H0(t,o),Vf(o,t),v0(il),Wi=!!sl,il=sl=null,t.current=o,K0(o),Sv(),pe=b,we=x,Nt.transition=m}else t.current=o;if(Co&&(Co=!1,Tn=t,No=f),m=t.pendingLanes,m===0&&(kn=null),Tv(o.stateNode),mt(t,Fe()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Eo)throw Eo=!1,t=Zl,Zl=null,t;return(No&1)!==0&&t.tag!==0&&Mr(),m=t.pendingLanes,(m&1)!==0?t===ec?Xs++:(Xs=0,ec=t):Xs=0,bn(),null}function Mr(){if(Tn!==null){var t=Fd(No),r=Nt.transition,o=we;try{if(Nt.transition=null,we=16>t?16:t,Tn===null)var c=!1;else{if(t=Tn,Tn=null,No=0,(pe&6)!==0)throw Error(s(331));var f=pe;for(pe|=4,X=t.current;X!==null;){var m=X,x=m.child;if((X.flags&16)!==0){var b=m.deletions;if(b!==null){for(var S=0;S<b.length;S++){var I=b[S];for(X=I;X!==null;){var W=X;switch(W.tag){case 0:case 11:case 15:Js(8,W,m)}var z=W.child;if(z!==null)z.return=W,X=z;else for(;X!==null;){W=X;var $=W.sibling,Q=W.return;if(Df(W),W===I){X=null;break}if($!==null){$.return=Q,X=$;break}X=Q}}}var Z=m.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var $e=ee.sibling;ee.sibling=null,ee=$e}while(ee!==null)}}X=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,X=x;else e:for(;X!==null;){if(m=X,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Js(9,m,m.return)}var N=m.sibling;if(N!==null){N.return=m.return,X=N;break e}X=m.return}}var k=t.current;for(X=k;X!==null;){x=X;var A=x.child;if((x.subtreeFlags&2064)!==0&&A!==null)A.return=x,X=A;else e:for(x=k;X!==null;){if(b=X,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:jo(9,b)}}catch(ne){Le(b,b.return,ne)}if(b===x){X=null;break e}var q=b.sibling;if(q!==null){q.return=b.return,X=q;break e}X=b.return}}if(pe=f,bn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Di,t)}catch{}c=!0}return c}finally{we=o,Nt.transition=r}}return!1}function Xf(t,r,o){r=Or(o,r),r=gf(t,r,1),t=Sn(t,r,1),r=ct(),t!==null&&(_s(t,1,r),mt(t,r))}function Le(t,r,o){if(t.tag===3)Xf(t,t,o);else for(;r!==null;){if(r.tag===3){Xf(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(kn===null||!kn.has(c))){t=Or(o,t),t=yf(r,t,1),r=Sn(r,t,1),t=ct(),r!==null&&(_s(r,1,t),mt(r,t));break}}r=r.return}}function Z0(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=ct(),t.pingedLanes|=t.suspendedLanes&o,Qe===t&&(tt&o)===o&&(Ke===4||Ke===3&&(tt&130023424)===tt&&500>Fe()-Xl?Yn(t,0):Ql|=o),mt(t,r)}function Zf(t,r){r===0&&((t.mode&1)===0?r=1:(r=Fi,Fi<<=1,(Fi&130023424)===0&&(Fi=4194304)));var o=ct();t=sn(t,r),t!==null&&(_s(t,r,o),mt(t,o))}function ex(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Zf(t,o)}function tx(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(r),Zf(t,o)}var ep;ep=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||dt.current)ft=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return ft=!1,W0(t,r,o);ft=(t.flags&131072)!==0}else ft=!1,Ce&&(r.flags&1048576)!==0&&Rh(r,oo,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;_o(t,r),t=r.pendingProps;var f=kr(r,rt.current);Ar(r,o),f=Nl(null,r,c,t,f,o);var m=Pl();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(c)?(m=!0,ro(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,_l(r),f.updater=wo,r.stateNode=f,f._reactInternals=r,Dl(r,c,t,o),r=Ul(null,r,c,!0,m,o)):(r.tag=0,Ce&&m&&hl(r),lt(null,r,f,o),r=r.child),r;case 16:c=r.elementType;e:{switch(_o(t,r),t=r.pendingProps,f=c._init,c=f(c._payload),r.type=c,f=r.tag=rx(c),t=Ft(c,t),f){case 0:r=$l(null,r,c,t,o);break e;case 1:r=Tf(null,r,c,t,o);break e;case 11:r=bf(null,r,c,t,o);break e;case 14:r=_f(null,r,c,Ft(c.type,t),o);break e}throw Error(s(306,c,""))}return r;case 0:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Ft(c,f),$l(t,r,c,f,o);case 1:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Ft(c,f),Tf(t,r,c,f,o);case 3:e:{if(Ef(r),t===null)throw Error(s(387));c=r.pendingProps,m=r.memoizedState,f=m.element,Vh(t,r),fo(r,c,null,o);var x=r.memoizedState;if(c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=Or(Error(s(423)),r),r=Cf(t,r,c,o,f);break e}else if(c!==f){f=Or(Error(s(424)),r),r=Cf(t,r,c,o,f);break e}else for(_t=vn(r.stateNode.containerInfo.firstChild),bt=r,Ce=!0,Mt=null,o=$h(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Cr(),c===f){r=an(t,r,o);break e}lt(t,r,c,o)}r=r.child}return r;case 5:return zh(r),t===null&&ml(r),c=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,x=f.children,ol(c,f)?x=null:m!==null&&ol(c,m)&&(r.flags|=32),kf(t,r),lt(t,r,x,o),r.child;case 6:return t===null&&ml(r),null;case 13:return Nf(t,r,o);case 4:return Sl(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Nr(r,null,c,o):lt(t,r,c,o),r.child;case 11:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Ft(c,f),bf(t,r,c,f,o);case 7:return lt(t,r,r.pendingProps,o),r.child;case 8:return lt(t,r,r.pendingProps.children,o),r.child;case 12:return lt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,f=r.pendingProps,m=r.memoizedProps,x=f.value,_e(co,c._currentValue),c._currentValue=x,m!==null)if(Dt(m.value,x)){if(m.children===f.children&&!dt.current){r=an(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){x=m.child;for(var S=b.firstContext;S!==null;){if(S.context===c){if(m.tag===1){S=on(-1,o&-o),S.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var W=I.pending;W===null?S.next=S:(S.next=W.next,W.next=S),I.pending=S}}m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),wl(m.return,o,r),b.lanes|=o;break}S=S.next}}else if(m.tag===10)x=m.type===r.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(s(341));x.lanes|=o,b=x.alternate,b!==null&&(b.lanes|=o),wl(x,o,r),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===r){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}lt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,c=r.pendingProps.children,Ar(r,o),f=Et(f),c=c(f),r.flags|=1,lt(t,r,c,o),r.child;case 14:return c=r.type,f=Ft(c,r.pendingProps),f=Ft(c.type,f),_f(t,r,c,f,o);case 15:return Sf(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,f=r.pendingProps,f=r.elementType===c?f:Ft(c,f),_o(t,r),r.tag=1,ht(c)?(t=!0,ro(r)):t=!1,Ar(r,o),pf(r,c,f),Dl(r,c,f,o),Ul(null,r,c,!0,t,o);case 19:return Af(t,r,o);case 22:return jf(t,r,o)}throw Error(s(156,r.tag))};function tp(t,r){return Od(t,r)}function nx(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,r,o,c){return new nx(t,r,o,c)}function oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rx(t){if(typeof t=="function")return oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Je)return 11;if(t===te)return 14}return 2}function Nn(t,r){var o=t.alternate;return o===null?(o=Pt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Oo(t,r,o,c,f,m){var x=2;if(c=t,typeof t=="function")oc(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case K:return Xn(o.children,f,m,r);case J:x=8,f|=8;break;case le:return t=Pt(12,o,r,f|2),t.elementType=le,t.lanes=m,t;case Ie:return t=Pt(13,o,r,f),t.elementType=Ie,t.lanes=m,t;case M:return t=Pt(19,o,r,f),t.elementType=M,t.lanes=m,t;case H:return Io(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:x=10;break e;case Me:x=9;break e;case Je:x=11;break e;case te:x=14;break e;case je:x=16,c=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Pt(x,o,r,f),r.elementType=t,r.type=c,r.lanes=m,r}function Xn(t,r,o,c){return t=Pt(7,t,c,r),t.lanes=o,t}function Io(t,r,o,c){return t=Pt(22,t,c,r),t.elementType=H,t.lanes=o,t.stateNode={isHidden:!1},t}function ac(t,r,o){return t=Pt(6,t,null,r),t.lanes=o,t}function lc(t,r,o){return r=Pt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function sx(t,r,o,c,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function cc(t,r,o,c,f,m,x,b,S){return t=new sx(t,r,o,b,S),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Pt(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(m),t}function ix(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function np(t){if(!t)return wn;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var o=t.type;if(ht(o))return Nh(t,o,r)}return r}function rp(t,r,o,c,f,m,x,b,S){return t=cc(o,c,!0,t,f,m,x,b,S),t.context=np(null),o=t.current,c=ct(),f=En(o),m=on(c,f),m.callback=r??null,Sn(o,m,f),t.current.lanes=f,_s(t,f,c),mt(t,c),t}function Lo(t,r,o,c){var f=r.current,m=ct(),x=En(f);return o=np(o),r.context===null?r.context=o:r.pendingContext=o,r=on(m,x),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Sn(f,r,x),t!==null&&(Vt(t,f,x,m),ho(t,f,x)),x}function Do(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function uc(t,r){sp(t,r),(t=t.alternate)&&sp(t,r)}function ox(){return null}var ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function dc(t){this._internalRoot=t}Mo.prototype.render=dc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));Lo(t,r,null,null)},Mo.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jn(function(){Lo(null,t,null,null)}),r[en]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Vd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<mn.length&&r!==0&&r<mn[o].priority;o++);mn.splice(o,0,t),o===0&&zd(t)}};function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function op(){}function ax(t,r,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var I=Do(x);m.call(I)}}var x=rp(r,c,t,0,null,!1,!1,"",op);return t._reactRootContainer=x,t[en]=x.current,Ds(t.nodeType===8?t.parentNode:t),Jn(),x}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var b=c;c=function(){var I=Do(S);b.call(I)}}var S=cc(t,0,!1,null,null,!1,!1,"",op);return t._reactRootContainer=S,t[en]=S.current,Ds(t.nodeType===8?t.parentNode:t),Jn(function(){Lo(r,S,o,c)}),S}function $o(t,r,o,c,f){var m=o._reactRootContainer;if(m){var x=m;if(typeof f=="function"){var b=f;f=function(){var S=Do(x);b.call(S)}}Lo(r,x,t,f)}else x=ax(o,r,t,f,c);return Do(x)}$d=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=bs(r.pendingLanes);o!==0&&(Da(r,o|1),mt(r,Fe()),(pe&6)===0&&(Dr=Fe()+500,bn()))}break;case 13:Jn(function(){var c=sn(t,1);if(c!==null){var f=ct();Vt(c,t,1,f)}}),uc(t,1)}},Ma=function(t){if(t.tag===13){var r=sn(t,134217728);if(r!==null){var o=ct();Vt(r,t,134217728,o)}uc(t,134217728)}},Ud=function(t){if(t.tag===13){var r=En(t),o=sn(t,r);if(o!==null){var c=ct();Vt(o,t,r,c)}uc(t,r)}},Vd=function(){return we},Wd=function(t,r){var o=we;try{return we=t,r()}finally{we=o}},Na=function(t,r,o){switch(r){case"input":if(ba(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var f=to(c);if(!f)throw Error(s(90));hd(c),ba(c,f)}}}break;case"textarea":yd(t,o);break;case"select":r=o.value,r!=null&&fr(t,!!o.multiple,r,!1)}},Td=rc,Ed=Jn;var lx={usingClientEntryPoint:!1,Events:[$s,Sr,to,jd,kd,rc]},Zs={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ad(t),t===null?null:t.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Di=Uo.inject(cx),Ht=Uo}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx,gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(r))throw Error(s(200));return ix(t,r,null,o)},gt.createRoot=function(t,r){if(!hc(t))throw Error(s(299));var o=!1,c="",f=ip;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=cc(t,1,!1,null,null,o,!1,c,f),t[en]=r.current,Ds(t.nodeType===8?t.parentNode:t),new dc(r)},gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Ad(r),t=t===null?null:t.stateNode,t},gt.flushSync=function(t){return Jn(t)},gt.hydrate=function(t,r,o){if(!Fo(r))throw Error(s(200));return $o(null,t,r,!0,o)},gt.hydrateRoot=function(t,r,o){if(!hc(t))throw Error(s(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",x=ip;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),r=rp(r,null,t,1,o??null,f,!1,m,x),t[en]=r.current,Ds(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Mo(r)},gt.render=function(t,r,o){if(!Fo(r))throw Error(s(200));return $o(null,t,r,!1,o)},gt.unmountComponentAtNode=function(t){if(!Fo(t))throw Error(s(40));return t._reactRootContainer?(Jn(function(){$o(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1},gt.unstable_batchedUpdates=rc,gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Fo(o))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return $o(t,r,o,!1,c)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var pp;function vx(){if(pp)return mc.exports;pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mc.exports=yx(),mc.exports}var mp;function xx(){if(mp)return Vo;mp=1;var n=vx();return Vo.createRoot=n.createRoot,Vo.hydrateRoot=n.hydrateRoot,Vo}var wx=xx(),P=ju();const Fr=lg(P),ku=P.createContext({});function Tu(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const Eu=typeof window<"u",cg=Eu?P.useLayoutEffect:P.useEffect,da=P.createContext(null);function Cu(n,e){n.indexOf(e)===-1&&n.push(e)}function Nu(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const un=(n,e,s)=>s>e?e:s<n?n:s;let Pu=()=>{};const dn={},ug=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function dg(n){return typeof n=="object"&&n!==null}const hg=n=>/^0[^.\s]+$/u.test(n);function Au(n){let e;return()=>(e===void 0&&(e=n()),e)}const It=n=>n,bx=(n,e)=>s=>e(n(s)),ji=(...n)=>n.reduce(bx),fi=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class Ru{constructor(){this.subscriptions=[]}add(e){return Cu(this.subscriptions,e),()=>Nu(this.subscriptions,e)}notify(e,s,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=n=>n*1e3,Ot=n=>n/1e3;function fg(n,e){return e?n*(1e3/e):0}const pg=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,_x=1e-7,Sx=12;function jx(n,e,s,i,a){let l,u,h=0;do u=e+(s-e)/2,l=pg(u,i,a)-n,l>0?s=u:e=u;while(Math.abs(l)>_x&&++h<Sx);return u}function ki(n,e,s,i){if(n===e&&s===i)return It;const a=l=>jx(l,0,1,n,s);return l=>l===0||l===1?l:pg(a(l),e,i)}const mg=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gg=n=>e=>1-n(1-e),yg=ki(.33,1.53,.69,.99),Ou=gg(yg),vg=mg(Ou),xg=n=>(n*=2)<1?.5*Ou(n):.5*(2-Math.pow(2,-10*(n-1))),Iu=n=>1-Math.sin(Math.acos(n)),wg=gg(Iu),bg=mg(Iu),kx=ki(.42,0,1,1),Tx=ki(0,0,.58,1),_g=ki(.42,0,.58,1),Ex=n=>Array.isArray(n)&&typeof n[0]!="number",Sg=n=>Array.isArray(n)&&typeof n[0]=="number",Cx={linear:It,easeIn:kx,easeInOut:_g,easeOut:Tx,circIn:Iu,circInOut:bg,circOut:wg,backIn:Ou,backInOut:vg,backOut:yg,anticipate:xg},Nx=n=>typeof n=="string",gp=n=>{if(Sg(n)){Pu(n.length===4);const[e,s,i,a]=n;return ki(e,s,i,a)}else if(Nx(n))return Cx[n];return n},Wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Px(n,e){let s=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(g.schedule(y),n()),y(h)}const g={schedule:(y,v=!1,w=!1)=>{const E=w&&a?s:i;return v&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[s,i]=[i,s],s.forEach(p),s.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Ax=40;function jg(n,e){let s=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,u=Wo.reduce((R,D)=>(R[D]=Px(l),R),{}),{setup:h,read:p,resolveKeyframes:g,preUpdate:y,update:v,preRender:w,render:_,postRender:E}=u,j=()=>{const R=dn.useManualTiming?a.timestamp:performance.now();s=!1,dn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(R-a.timestamp,Ax),1)),a.timestamp=R,a.isProcessing=!0,h.process(a),p.process(a),g.process(a),y.process(a),v.process(a),w.process(a),_.process(a),E.process(a),a.isProcessing=!1,s&&e&&(i=!1,n(j))},T=()=>{s=!0,i=!0,a.isProcessing||n(j)};return{schedule:Wo.reduce((R,D)=>{const F=u[D];return R[D]=(B,K=!1,J=!1)=>(s||T(),F.schedule(B,K,J)),R},{}),cancel:R=>{for(let D=0;D<Wo.length;D++)u[Wo[D]].cancel(R)},state:a,steps:u}}const{schedule:Ne,cancel:Dn,state:nt,steps:vc}=jg(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);let Qo;function Rx(){Qo=void 0}const vt={now:()=>(Qo===void 0&&vt.set(nt.isProcessing||dn.useManualTiming?nt.timestamp:performance.now()),Qo),set:n=>{Qo=n,queueMicrotask(Rx)}},kg=n=>e=>typeof e=="string"&&e.startsWith(n),Lu=kg("--"),Ox=kg("var(--"),Du=n=>Ox(n)?Ix.test(n.split("/*")[0].trim()):!1,Ix=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,us={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},pi={...us,transform:n=>un(0,1,n)},Bo={...us,default:1},ii=n=>Math.round(n*1e5)/1e5,Mu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lx(n){return n==null}const Dx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fu=(n,e)=>s=>!!(typeof s=="string"&&Dx.test(s)&&s.startsWith(n)||e&&!Lx(s)&&Object.prototype.hasOwnProperty.call(s,e)),Tg=(n,e,s)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(Mu);return{[n]:parseFloat(a),[e]:parseFloat(l),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},Mx=n=>un(0,255,n),xc={...us,transform:n=>Math.round(Mx(n))},or={test:Fu("rgb","red"),parse:Tg("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+xc.transform(n)+", "+xc.transform(e)+", "+xc.transform(s)+", "+ii(pi.transform(i))+")"};function Fx(n){let e="",s="",i="",a="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,s+=s,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const zc={test:Fu("#"),parse:Fx,transform:or.transform},Ti=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rn=Ti("deg"),Zt=Ti("%"),ae=Ti("px"),$x=Ti("vh"),Ux=Ti("vw"),yp={...Zt,parse:n=>Zt.parse(n)/100,transform:n=>Zt.transform(n*100)},Xr={test:Fu("hsl","hue"),parse:Tg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Zt.transform(ii(e))+", "+Zt.transform(ii(s))+", "+ii(pi.transform(i))+")"},ze={test:n=>or.test(n)||zc.test(n)||Xr.test(n),parse:n=>or.test(n)?or.parse(n):Xr.test(n)?Xr.parse(n):zc.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?or.transform(n):Xr.transform(n),getAnimatableNone:n=>{const e=ze.parse(n);return e.alpha=0,ze.transform(e)}},Vx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wx(n){return isNaN(n)&&typeof n=="string"&&(n.match(Mu)?.length||0)+(n.match(Vx)?.length||0)>0}const Eg="number",Cg="color",Bx="var",zx="var(",vp="${}",qx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mi(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(qx,p=>(ze.test(p)?(i.color.push(l),a.push(Cg),s.push(ze.parse(p))):p.startsWith(zx)?(i.var.push(l),a.push(Bx),s.push(p)):(i.number.push(l),a.push(Eg),s.push(parseFloat(p))),++l,vp)).split(vp);return{values:s,split:h,indexes:i,types:a}}function Ng(n){return mi(n).values}function Pg(n){const{split:e,types:s}=mi(n),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=s[u];h===Eg?l+=ii(a[u]):h===Cg?l+=ze.transform(a[u]):l+=a[u]}return l}}const Hx=n=>typeof n=="number"?0:ze.test(n)?ze.getAnimatableNone(n):n;function Kx(n){const e=Ng(n);return Pg(n)(e.map(Hx))}const Mn={test:Wx,parse:Ng,createTransformer:Pg,getAnimatableNone:Kx};function wc(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Gx({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let a=0,l=0,u=0;if(!e)a=l=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,p=2*s-h;a=wc(p,h,n+1/3),l=wc(p,h,n),u=wc(p,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function na(n,e){return s=>s>0?e:n}const Oe=(n,e,s)=>n+(e-n)*s,bc=(n,e,s)=>{const i=n*n,a=s*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Jx=[zc,or,Xr],Yx=n=>Jx.find(e=>e.test(n));function xp(n){const e=Yx(n);if(!e)return!1;let s=e.parse(n);return e===Xr&&(s=Gx(s)),s}const wp=(n,e)=>{const s=xp(n),i=xp(e);if(!s||!i)return na(n,e);const a={...s};return l=>(a.red=bc(s.red,i.red,l),a.green=bc(s.green,i.green,l),a.blue=bc(s.blue,i.blue,l),a.alpha=Oe(s.alpha,i.alpha,l),or.transform(a))},qc=new Set(["none","hidden"]);function Qx(n,e){return qc.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Xx(n,e){return s=>Oe(n,e,s)}function $u(n){return typeof n=="number"?Xx:typeof n=="string"?Du(n)?na:ze.test(n)?wp:tw:Array.isArray(n)?Ag:typeof n=="object"?ze.test(n)?wp:Zx:na}function Ag(n,e){const s=[...n],i=s.length,a=n.map((l,u)=>$u(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)s[u]=a[u](l);return s}}function Zx(n,e){const s={...n,...e},i={};for(const a in s)n[a]!==void 0&&e[a]!==void 0&&(i[a]=$u(n[a])(n[a],e[a]));return a=>{for(const l in i)s[l]=i[l](a);return s}}function ew(n,e){const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;s[a]=h,i[l]++}return s}const tw=(n,e)=>{const s=Mn.createTransformer(e),i=mi(n),a=mi(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?qc.has(n)&&!a.values.length||qc.has(e)&&!i.values.length?Qx(n,e):ji(Ag(ew(i,a),a.values),s):na(n,e)};function Rg(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Oe(n,e,s):$u(n)(n,e)}const nw=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Ne.update(e,s),stop:()=>Dn(e),now:()=>nt.isProcessing?nt.timestamp:vt.now()}},Og=(n,e,s=10)=>{let i="";const a=Math.max(Math.round(e/s),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ra=2e4;function Uu(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<ra;)e+=s,i=n.next(e);return e>=ra?1/0:e}function rw(n,e=100,s){const i=s({...n,keyframes:[0,e]}),a=Math.min(Uu(i),ra);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Ot(a)}}const sw=5;function Ig(n,e,s){const i=Math.max(e-sw,0);return fg(s-n(i),e-i)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_c=.001;function iw({duration:n=De.duration,bounce:e=De.bounce,velocity:s=De.velocity,mass:i=De.mass}){let a,l,u=1-e;u=un(De.minDamping,De.maxDamping,u),n=un(De.minDuration,De.maxDuration,Ot(n)),u<1?(a=g=>{const y=g*u,v=y*n,w=y-s,_=Hc(g,u),E=Math.exp(-v);return _c-w/_*E},l=g=>{const v=g*u*n,w=v*s+s,_=Math.pow(u,2)*Math.pow(g,2)*n,E=Math.exp(-v),j=Hc(Math.pow(g,2),u);return(-a(g)+_c>0?-1:1)*((w-_)*E)/j}):(a=g=>{const y=Math.exp(-g*n),v=(g-s)*n+1;return-_c+y*v},l=g=>{const y=Math.exp(-g*n),v=(s-g)*(n*n);return y*v});const h=5/n,p=aw(a,l,h);if(n=Xt(n),isNaN(p))return{stiffness:De.stiffness,damping:De.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:n}}}const ow=12;function aw(n,e,s){let i=s;for(let a=1;a<ow;a++)i=i-n(i)/e(i);return i}function Hc(n,e){return n*Math.sqrt(1-e*e)}const lw=["duration","bounce"],cw=["stiffness","damping","mass"];function bp(n,e){return e.some(s=>n[s]!==void 0)}function uw(n){let e={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...n};if(!bp(n,cw)&&bp(n,lw))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),a=i*i,l=2*un(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:De.mass,stiffness:a,damping:l}}else{const s=iw(n);e={...e,...s,mass:De.mass},e.isResolvedFromDuration=!0}return e}function sa(n=De.visualDuration,e=De.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=s;const l=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:v,velocity:w,isResolvedFromDuration:_}=uw({...s,velocity:-Ot(s.velocity||0)}),E=w||0,j=g/(2*Math.sqrt(p*y)),T=u-l,L=Ot(Math.sqrt(p/y)),O=Math.abs(T)<5;i||(i=O?De.restSpeed.granular:De.restSpeed.default),a||(a=O?De.restDelta.granular:De.restDelta.default);let R;if(j<1){const F=Hc(L,j);R=B=>{const K=Math.exp(-j*L*B);return u-K*((E+j*L*T)/F*Math.sin(F*B)+T*Math.cos(F*B))}}else if(j===1)R=F=>u-Math.exp(-L*F)*(T+(E+L*T)*F);else{const F=L*Math.sqrt(j*j-1);R=B=>{const K=Math.exp(-j*L*B),J=Math.min(F*B,300);return u-K*((E+j*L*T)*Math.sinh(J)+F*T*Math.cosh(J))/F}}const D={calculatedDuration:_&&v||null,next:F=>{const B=R(F);if(_)h.done=F>=v;else{let K=F===0?E:0;j<1&&(K=F===0?Xt(E):Ig(R,F,B));const J=Math.abs(K)<=i,le=Math.abs(u-B)<=a;h.done=J&&le}return h.value=h.done?u:B,h},toString:()=>{const F=Math.min(Uu(D),ra),B=Og(K=>D.next(F*K).value,F,30);return F+"ms "+B},toTransition:()=>{}};return D}sa.applyToOptions=n=>{const e=rw(n,100,sa);return n.ease=e.ease,n.duration=Xt(e.duration),n.type="keyframes",n};function Kc({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:p,restDelta:g=.5,restSpeed:y}){const v=n[0],w={done:!1,value:v},_=J=>h!==void 0&&J<h||p!==void 0&&J>p,E=J=>h===void 0?p:p===void 0||Math.abs(h-J)<Math.abs(p-J)?h:p;let j=s*e;const T=v+j,L=u===void 0?T:u(T);L!==T&&(j=L-v);const O=J=>-j*Math.exp(-J/i),R=J=>L+O(J),D=J=>{const le=O(J),me=R(J);w.done=Math.abs(le)<=g,w.value=w.done?L:me};let F,B;const K=J=>{_(w.value)&&(F=J,B=sa({keyframes:[w.value,E(w.value)],velocity:Ig(R,J,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return K(0),{calculatedDuration:null,next:J=>{let le=!1;return!B&&F===void 0&&(le=!0,D(J),K(J)),F!==void 0&&J>=F?B.next(J-F):(!le&&D(J),w)}}}function dw(n,e,s){const i=[],a=s||dn.mix||Rg,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(e){const p=Array.isArray(e)?e[u]||It:e;h=ji(p,h)}i.push(h)}return i}function hw(n,e,{clamp:s=!0,ease:i,mixer:a}={}){const l=n.length;if(Pu(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=dw(e,i,a),p=h.length,g=y=>{if(u&&y<n[0])return e[0];let v=0;if(p>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const w=fi(n[v],n[v+1],y);return h[v](w)};return s?y=>g(un(n[0],n[l-1],y)):g}function fw(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const a=fi(0,e,i);n.push(Oe(s,1,a))}}function pw(n){const e=[0];return fw(e,n.length-1),e}function mw(n,e){return n.map(s=>s*e)}function gw(n,e){return n.map(()=>e||_g).splice(0,n.length-1)}function oi({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const a=Ex(i)?i.map(gp):gp(i),l={done:!1,value:e[0]},u=mw(s&&s.length===e.length?s:pw(e),n),h=hw(u,e,{ease:Array.isArray(a)?a:gw(e,a)});return{calculatedDuration:n,next:p=>(l.value=h(p),l.done=p>=n,l)}}const yw=n=>n!==null;function Vu(n,{repeat:e,repeatType:s="loop"},i,a=1){const l=n.filter(yw),h=a<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const vw={decay:Kc,inertia:Kc,tween:oi,keyframes:oi,spring:sa};function Lg(n){typeof n.type=="string"&&(n.type=vw[n.type])}class Wu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const xw=n=>n/100;class Bu extends Wu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Lg(e);const{type:s=oi,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const p=s||oi;p!==oi&&typeof h[0]!="number"&&(this.mixKeyframes=ji(xw,Rg(h[0],h[1])),h=[0,100]);const g=p({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Uu(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:_,type:E,onUpdate:j,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const L=this.currentTime-g*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let R=this.currentTime,D=i;if(v){const J=Math.min(this.currentTime,a)/h;let le=Math.floor(J),me=J%1;!me&&J>=1&&(me=1),me===1&&le--,le=Math.min(le,v+1),!!(le%2)&&(w==="reverse"?(me=1-me,_&&(me-=_/h)):w==="mirror"&&(D=u)),R=un(0,1,me)*h}const F=O?{done:!1,value:y[0]}:D.next(R);l&&(F.value=l(F.value));let{done:B}=F;!O&&p!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return K&&E!==Kc&&(F.value=Vu(y,this.options,T,this.speed)),j&&j(F.value),K&&this.finish(),F}then(e,s){return this.finished.then(e,s)}get duration(){return Ot(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(this.currentTime)}set time(e){e=Xt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ot(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nw,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ww(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ar=n=>n*180/Math.PI,Gc=n=>{const e=ar(Math.atan2(n[1],n[0]));return Jc(e)},bw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Gc,rotateZ:Gc,skewX:n=>ar(Math.atan(n[1])),skewY:n=>ar(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Jc=n=>(n=n%360,n<0&&(n+=360),n),_p=Gc,Sp=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),jp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),_w={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sp,scaleY:jp,scale:n=>(Sp(n)+jp(n))/2,rotateX:n=>Jc(ar(Math.atan2(n[6],n[5]))),rotateY:n=>Jc(ar(Math.atan2(-n[2],n[0]))),rotateZ:_p,rotate:_p,skewX:n=>ar(Math.atan(n[4])),skewY:n=>ar(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Yc(n){return n.includes("scale")?1:0}function Qc(n,e){if(!n||n==="none")return Yc(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(s)i=_w,a=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bw,a=h}if(!a)return Yc(e);const l=i[e],u=a[1].split(",").map(jw);return typeof l=="function"?l(u):u[l]}const Sw=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Qc(s,e)};function jw(n){return parseFloat(n.trim())}const ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hs=new Set(ds),kp=n=>n===us||n===ae,kw=new Set(["x","y","z"]),Tw=ds.filter(n=>!kw.has(n));function Ew(n){const e=[];return Tw.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const ur={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Qc(e,"x"),y:(n,{transform:e})=>Qc(e,"y")};ur.translateX=ur.x;ur.translateY=ur.y;const dr=new Set;let Xc=!1,Zc=!1,eu=!1;function Dg(){if(Zc){const n=Array.from(dr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const a=Ew(i);a.length&&(s.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=s.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zc=!1,Xc=!1,dr.forEach(n=>n.complete(eu)),dr.clear()}function Mg(){dr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zc=!0)})}function Cw(){eu=!0,Mg(),Dg(),eu=!1}class zu{constructor(e,s,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(dr.add(this),Xc||(Xc=!0,Ne.read(Mg),Ne.resolveKeyframes(Dg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&s){const h=i.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}ww(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dr.delete(this)}cancel(){this.state==="scheduled"&&(dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nw=n=>n.startsWith("--");function Pw(n,e,s){Nw(e)?n.style.setProperty(e,s):n.style[e]=s}const Aw=Au(()=>window.ScrollTimeline!==void 0),Rw={};function Ow(n,e){const s=Au(n);return()=>Rw[e]??s()}const Fg=Ow(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ri=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,Tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ri([0,.65,.55,1]),circOut:ri([.55,0,1,.45]),backIn:ri([.31,.01,.66,-.59]),backOut:ri([.33,1.53,.69,.99])};function $g(n,e){if(n)return typeof n=="function"?Fg()?Og(n,e):"ease-out":Sg(n)?ri(n):Array.isArray(n)?n.map(s=>$g(s,e)||Tp.easeOut):Tp[n]}function Iw(n,e,s,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:p}={},g=void 0){const y={[e]:s};p&&(y.offset=p);const v=$g(h,a);Array.isArray(v)&&(y.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(y,w)}function Ug(n){return typeof n=="function"&&"applyToOptions"in n}function Lw({type:n,...e}){return Ug(n)&&Fg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Dw extends Wu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Pu(typeof e.type!="string");const g=Lw(e);this.animation=Iw(s,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Vu(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Pw(s,i,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ot(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ot(e)}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Aw()?(this.animation.timeline=e,It):s(this)}}const Vg={anticipate:xg,backInOut:vg,circInOut:bg};function Mw(n){return n in Vg}function Fw(n){typeof n.ease=="string"&&Mw(n.ease)&&(n.ease=Vg[n.ease])}const Ep=10;class $w extends Dw{constructor(e){Fw(e),Lg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new Bu({...u,autoplay:!1}),p=Xt(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-Ep).value,h.sample(p).value,Ep),h.stop()}}const Cp=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Mn.test(n)||n==="0")&&!n.startsWith("url("));function Uw(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function Vw(n,e,s,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=Cp(a,e),h=Cp(l,e);return!u||!h?!1:Uw(n)||(s==="spring"||Ug(s))&&i}function tu(n){n.duration=0,n.type="keyframes"}const Ww=new Set(["opacity","clipPath","filter","transform"]),Bw=Au(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zw(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return Bw()&&s&&Ww.has(s)&&(s!=="transform"||!g)&&!p&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const qw=40;class Hw extends Wu{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:p,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vt.now();const w={autoplay:e,delay:s,type:i,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:y,...v},_=y?.KeyframeResolver||zu;this.keyframeResolver=new _(h,(E,j,T)=>this.onKeyframesResolved(E,j,w,!T),p,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:p,isHandoff:g,onUpdate:y}=i;this.resolvedAt=vt.now(),Vw(e,l,u,h)||((dn.instantAnimations||!p)&&y?.(Vu(e,i,s)),e[0]=e[e.length-1],tu(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},_=!g&&zw(w)?new $w({...w,element:w.motionValue.owner.current}):new Bu(w);_.finished.then(()=>this.notifyFinished()).catch(It),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Cw()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gw(n){const e=Kw.exec(n);if(!e)return[,];const[,s,i,a]=e;return[`--${s??i}`,a]}function Wg(n,e,s=1){const[i,a]=Gw(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return ug(u)?parseFloat(u):u}return Du(a)?Wg(a,e,s+1):a}function qu(n,e){return n?.[e]??n?.default??n}const Bg=new Set(["width","height","top","left","right","bottom",...ds]),Jw={test:n=>n==="auto",parse:n=>n},zg=n=>e=>e.test(n),qg=[us,ae,Zt,Rn,Ux,$x,Jw],Np=n=>qg.find(zg(n));function Yw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||hg(n):!0}const Qw=new Set(["brightness","contrast","saturate","opacity"]);function Xw(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Mu)||[];if(!i)return n;const a=s.replace(i,"");let l=Qw.has(e)?1:0;return i!==s&&(l*=100),e+"("+l+a+")"}const Zw=/\b([a-z-]*)\(.*?\)/gu,nu={...Mn,getAnimatableNone:n=>{const e=n.match(Zw);return e?e.map(Xw).join(" "):n}},Pp={...us,transform:Math.round},eb={rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:Bo,scaleX:Bo,scaleY:Bo,scaleZ:Bo,skew:Rn,skewX:Rn,skewY:Rn,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:pi,originX:yp,originY:yp,originZ:ae},Hu={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...eb,zIndex:Pp,fillOpacity:pi,strokeOpacity:pi,numOctaves:Pp},tb={...Hu,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:nu,WebkitFilter:nu},Hg=n=>tb[n];function Kg(n,e){let s=Hg(n);return s!==nu&&(s=Mn),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const nb=new Set(["auto","none","0"]);function rb(n,e,s){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!nb.has(l)&&mi(l).values.length&&(a=n[i]),i++}if(a&&s)for(const l of e)n[l]=Kg(s,a)}class sb extends zu{constructor(e,s,i,a,l){super(e,s,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Du(g))){const y=Wg(g,s.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Bg.has(i)||e.length!==2)return;const[a,l]=e,u=Np(a),h=Np(l);if(u!==h)if(kp(u)&&kp(h))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else ur[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Yw(e[a]))&&i.push(a);i.length&&rb(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ur[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ur[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function ib(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=s?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const Gg=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Jg(n){return dg(n)&&"offsetHeight"in n}const Ap=30,ob=n=>!isNaN(parseFloat(n));class ab{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=vt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=vt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ob(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ru);const i=this.events[e].add(s);return e==="change"?()=>{i(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ap)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Ap);return fg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function os(n,e){return new ab(n,e)}const{schedule:Ku}=jg(queueMicrotask,!1),zt={x:!1,y:!1};function Yg(){return zt.x||zt.y}function lb(n){return n==="x"||n==="y"?zt[n]?null:(zt[n]=!0,()=>{zt[n]=!1}):zt.x||zt.y?null:(zt.x=zt.y=!0,()=>{zt.x=zt.y=!1})}function Qg(n,e){const s=ib(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[s,a,()=>i.abort()]}function Rp(n){return!(n.pointerType==="touch"||Yg())}function cb(n,e,s={}){const[i,a,l]=Qg(n,s),u=h=>{if(!Rp(h))return;const{target:p}=h,g=e(p,h);if(typeof g!="function"||!p)return;const y=v=>{Rp(v)&&(g(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const Xg=(n,e)=>e?n===e?!0:Xg(n,e.parentElement):!1,Gu=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ub=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function db(n){return ub.has(n.tagName)||n.tabIndex!==-1}const Xo=new WeakSet;function Op(n){return e=>{e.key==="Enter"&&n(e)}}function Sc(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hb=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=Op(()=>{if(Xo.has(s))return;Sc(s,"down");const a=Op(()=>{Sc(s,"up")}),l=()=>Sc(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function Ip(n){return Gu(n)&&!Yg()}function fb(n,e,s={}){const[i,a,l]=Qg(n,s),u=h=>{const p=h.currentTarget;if(!Ip(h))return;Xo.add(p);const g=e(p,h),y=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Xo.has(p)&&Xo.delete(p),Ip(_)&&typeof g=="function"&&g(_,{success:E})},v=_=>{y(_,p===window||p===document||s.useGlobalTarget||Xg(p,_.target))},w=_=>{y(_,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Jg(h)&&(h.addEventListener("focus",g=>hb(g,a)),!db(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Zg(n){return dg(n)&&"ownerSVGElement"in n}function pb(n){return Zg(n)&&n.tagName==="svg"}const at=n=>!!(n&&n.getVelocity),mb=[...qg,ze,Mn],gb=n=>mb.find(zg(n)),Ju=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Lp(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function yb(...n){return e=>{let s=!1;const i=n.map(a=>{const l=Lp(a,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Lp(n[a],null)}}}}function vb(...n){return P.useCallback(yb(...n),n)}class xb extends P.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,a=Jg(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wb({children:n,isPresent:e,anchorX:s,root:i}){const a=P.useId(),l=P.useRef(null),u=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=P.useContext(Ju),p=vb(l,n?.ref);return P.useInsertionEffect(()=>{const{width:g,height:y,top:v,left:w,right:_}=u.current;if(e||!l.current||!g||!y)return;const E=s==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=a;const j=document.createElement("style");h&&(j.nonce=h);const T=i??document.head;return T.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${E}px !important;
            top: ${v}px !important;
          }
        `),()=>{T.contains(j)&&T.removeChild(j)}},[e]),d.jsx(xb,{isPresent:e,childRef:l,sizeRef:u,children:P.cloneElement(n,{ref:p})})}const bb=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:p})=>{const g=Tu(_b),y=P.useId();let v=!0,w=P.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:s,custom:a,onExitComplete:_=>{g.set(_,!0);for(const E of g.values())if(!E)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[s,g,i]);return l&&v&&(w={...w}),P.useMemo(()=>{g.forEach((_,E)=>g.set(E,!1))},[s]),P.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),u==="popLayout"&&(n=d.jsx(wb,{isPresent:s,anchorX:h,root:p,children:n})),d.jsx(da.Provider,{value:w,children:n})};function _b(){return new Map}function ey(n=!0){const e=P.useContext(da);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=e,l=P.useId();P.useEffect(()=>{if(n)return a(l)},[n]);const u=P.useCallback(()=>n&&i&&i(l),[l,i,n]);return!s&&i?[!1,u]:[!0]}const zo=n=>n.key||"";function Dp(n){const e=[];return P.Children.forEach(n,s=>{P.isValidElement(s)&&e.push(s)}),e}const Ei=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:p})=>{const[g,y]=ey(u),v=P.useMemo(()=>Dp(n),[n]),w=u&&!g?[]:v.map(zo),_=P.useRef(!0),E=P.useRef(v),j=Tu(()=>new Map),[T,L]=P.useState(v),[O,R]=P.useState(v);cg(()=>{_.current=!1,E.current=v;for(let B=0;B<O.length;B++){const K=zo(O[B]);w.includes(K)?j.delete(K):j.get(K)!==!0&&j.set(K,!1)}},[O,w.length,w.join("-")]);const D=[];if(v!==T){let B=[...v];for(let K=0;K<O.length;K++){const J=O[K],le=zo(J);w.includes(le)||(B.splice(K,0,J),D.push(J))}return l==="wait"&&D.length&&(B=D),R(Dp(B)),L(v),null}const{forceRender:F}=P.useContext(ku);return d.jsx(d.Fragment,{children:O.map(B=>{const K=zo(B),J=u&&!g?!1:v===O||w.includes(K),le=()=>{if(j.has(K))j.set(K,!0);else return;let me=!0;j.forEach(Me=>{Me||(me=!1)}),me&&(F?.(),R(E.current),u&&y?.(),i&&i())};return d.jsx(bb,{isPresent:J,initial:!_.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:J?void 0:le,anchorX:h,children:B},K)})})},ty=P.createContext({strict:!1}),Mp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const n in Mp)as[n]={isEnabled:e=>Mp[n].some(s=>!!e[s])};function Sb(n){for(const e in n)as[e]={...as[e],...n[e]}}const jb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ia(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||jb.has(n)}let ny=n=>!ia(n);function kb(n){typeof n=="function"&&(ny=e=>e.startsWith("on")?!ia(e):n(e))}try{kb(require("@emotion/is-prop-valid").default)}catch{}function Tb(n,e,s){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(ny(a)||s===!0&&ia(a)||!e&&!ia(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ha=P.createContext({});function fa(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function gi(n){return typeof n=="string"||Array.isArray(n)}const Yu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qu=["initial",...Yu];function pa(n){return fa(n.animate)||Qu.some(e=>gi(n[e]))}function ry(n){return!!(pa(n)||n.variants)}function Eb(n,e){if(pa(n)){const{initial:s,animate:i}=n;return{initial:s===!1||gi(s)?s:void 0,animate:gi(i)?i:void 0}}return n.inherit!==!1?e:{}}function Cb(n){const{initial:e,animate:s}=Eb(n,P.useContext(ha));return P.useMemo(()=>({initial:e,animate:s}),[Fp(e),Fp(s)])}function Fp(n){return Array.isArray(n)?n.join(" "):n}const yi={};function Nb(n){for(const e in n)yi[e]=n[e],Lu(e)&&(yi[e].isCSSVariable=!0)}function sy(n,{layout:e,layoutId:s}){return hs.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!yi[n]||n==="opacity")}const Pb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ab=ds.length;function Rb(n,e,s){let i="",a=!0;for(let l=0;l<Ab;l++){const u=ds[l],h=n[u];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(u.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const g=Gg(h,Hu[u]);if(!p){a=!1;const y=Pb[u]||u;i+=`${y}(${g}) `}s&&(e[u]=g)}}return i=i.trim(),s?i=s(e,a?"":i):a&&(i="none"),i}function Xu(n,e,s){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const p in e){const g=e[p];if(hs.has(p)){u=!0;continue}else if(Lu(p)){a[p]=g;continue}else{const y=Gg(g,Hu[p]);p.startsWith("origin")?(h=!0,l[p]=y):i[p]=y}}if(e.transform||(u||s?i.transform=Rb(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const Zu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iy(n,e,s){for(const i in e)!at(e[i])&&!sy(i,s)&&(n[i]=e[i])}function Ob({transformTemplate:n},e){return P.useMemo(()=>{const s=Zu();return Xu(s,e,n),Object.assign({},s.vars,s.style)},[e])}function Ib(n,e){const s=n.style||{},i={};return iy(i,s,n),Object.assign(i,Ob(n,e)),i}function Lb(n,e){const s={},i=Ib(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const Db={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mb={offset:"strokeDashoffset",array:"strokeDasharray"};function Fb(n,e,s=1,i=0,a=!0){n.pathLength=1;const l=a?Db:Mb;n[l.offset]=ae.transform(-i);const u=ae.transform(e),h=ae.transform(s);n[l.array]=`${u} ${h}`}function oy(n,{attrX:e,attrY:s,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},p,g,y){if(Xu(n,h,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),a!==void 0&&Fb(v,a,l,u,!1)}const ay=()=>({...Zu(),attrs:{}}),ly=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $b(n,e,s,i){const a=P.useMemo(()=>{const l=ay();return oy(l,e,ly(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};iy(l,n.style,n),a.style={...l,...a.style}}return a}const Ub=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ed(n){return typeof n!="string"||n.includes("-")?!1:!!(Ub.indexOf(n)>-1||/[A-Z]/u.test(n))}function Vb(n,e,s,{latestValues:i},a,l=!1){const h=(ed(n)?$b:Lb)(e,i,a,n),p=Tb(e,typeof n=="string",l),g=n!==P.Fragment?{...p,...h,ref:s}:{},{children:y}=e,v=P.useMemo(()=>at(y)?y.get():y,[y]);return P.createElement(n,{...g,children:v})}function $p(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function td(n,e,s,i){if(typeof e=="function"){const[a,l]=$p(i);e=e(s!==void 0?s:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=$p(i);e=e(s!==void 0?s:n.custom,a,l)}return e}function Zo(n){return at(n)?n.get():n}function Wb({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,a){return{latestValues:Bb(s,i,a,n),renderState:e()}}function Bb(n,e,s,i){const a={},l=i(n,{});for(const w in l)a[w]=Zo(l[w]);let{initial:u,animate:h}=n;const p=pa(n),g=ry(n);e&&g&&!p&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=s?s.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!fa(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const E=td(n,w[_]);if(E){const{transitionEnd:j,transition:T,...L}=E;for(const O in L){let R=L[O];if(Array.isArray(R)){const D=y?R.length-1:0;R=R[D]}R!==null&&(a[O]=R)}for(const O in j)a[O]=j[O]}}}return a}const cy=n=>(e,s)=>{const i=P.useContext(ha),a=P.useContext(da),l=()=>Wb(n,e,i,a);return s?l():Tu(l)};function nd(n,e,s){const{style:i}=n,a={};for(const l in i)(at(i[l])||e.style&&at(e.style[l])||sy(l,n)||s?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const zb=cy({scrapeMotionValuesFromProps:nd,createRenderState:Zu});function uy(n,e,s){const i=nd(n,e,s);for(const a in n)if(at(n[a])||at(e[a])){const l=ds.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}const qb=cy({scrapeMotionValuesFromProps:uy,createRenderState:ay}),Hb=Symbol.for("motionComponentSymbol");function Zr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Kb(n,e,s){return P.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Zr(s)&&(s.current=i))},[e])}const rd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gb="framerAppearId",dy="data-"+rd(Gb),hy=P.createContext({});function Jb(n,e,s,i,a){const{visualElement:l}=P.useContext(ha),u=P.useContext(ty),h=P.useContext(da),p=P.useContext(Ju).reducedMotion,g=P.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,v=P.useContext(hy);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Yb(g.current,s,a,v);const w=P.useRef(!1);P.useInsertionEffect(()=>{y&&w.current&&y.update(s,h)});const _=s[dy],E=P.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return cg(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),E.current&&y.animationState&&y.animationState.animateChanges())}),P.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),E.current=!1),y.enteringChildren=void 0)}),y}function Yb(n,e,s,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:fy(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Zr(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:p,layoutRoot:g})}function fy(n){if(n)return n.options.allowProjection!==!1?n.projection:fy(n.parent)}function jc(n,{forwardMotionProps:e=!1}={},s,i){s&&Sb(s);const a=ed(n)?qb:zb;function l(h,p){let g;const y={...P.useContext(Ju),...h,layoutId:Qb(h)},{isStatic:v}=y,w=Cb(h),_=a(h,v);if(!v&&Eu){Xb();const E=Zb(y);g=E.MeasureLayout,w.visualElement=Jb(n,_,y,i,E.ProjectionNode)}return d.jsxs(ha.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...y}):null,Vb(n,h,Kb(_,w.visualElement,p),_,v,e)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=P.forwardRef(l);return u[Hb]=n,u}function Qb({layoutId:n}){const e=P.useContext(ku).id;return e&&n!==void 0?e+"-"+n:n}function Xb(n,e){P.useContext(ty).strict}function Zb(n){const{drag:e,layout:s}=as;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function e1(n,e){if(typeof Proxy>"u")return jc;const s=new Map,i=(l,u)=>jc(l,u,n,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(s.has(u)||s.set(u,jc(u,void 0,n,e)),s.get(u))})}function py({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function t1({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function n1(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function kc(n){return n===void 0||n===1}function ru({scale:n,scaleX:e,scaleY:s}){return!kc(n)||!kc(e)||!kc(s)}function nr(n){return ru(n)||my(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function my(n){return Up(n.x)||Up(n.y)}function Up(n){return n&&n!=="0%"}function oa(n,e,s){const i=n-s,a=e*i;return s+a}function Vp(n,e,s,i,a){return a!==void 0&&(n=oa(n,a,i)),oa(n,s,i)+e}function su(n,e=0,s=1,i,a){n.min=Vp(n.min,e,s,i,a),n.max=Vp(n.max,e,s,i,a)}function gy(n,{x:e,y:s}){su(n.x,e.translate,e.scale,e.originPoint),su(n.y,s.translate,s.scale,s.originPoint)}const Wp=.999999999999,Bp=1.0000000000001;function r1(n,e,s,i=!1){const a=s.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=s[h],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ts(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,gy(n,u)),i&&nr(l.latestValues)&&ts(n,l.latestValues))}e.x<Bp&&e.x>Wp&&(e.x=1),e.y<Bp&&e.y>Wp&&(e.y=1)}function es(n,e){n.min=n.min+e,n.max=n.max+e}function zp(n,e,s,i,a=.5){const l=Oe(n.min,n.max,a);su(n,e,s,l,i)}function ts(n,e){zp(n.x,e.x,e.scaleX,e.scale,e.originX),zp(n.y,e.y,e.scaleY,e.scale,e.originY)}function yy(n,e){return py(n1(n.getBoundingClientRect(),e))}function s1(n,e,s){const i=yy(n,s),{scroll:a}=e;return a&&(es(i.x,a.offset.x),es(i.y,a.offset.y)),i}const qp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ns=()=>({x:qp(),y:qp()}),Hp=()=>({min:0,max:0}),Ue=()=>({x:Hp(),y:Hp()}),iu={current:null},vy={current:!1};function i1(){if(vy.current=!0,!!Eu)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>iu.current=n.matches;n.addEventListener("change",e),e()}else iu.current=!1}const o1=new WeakMap;function a1(n,e,s){for(const i in e){const a=e[i],l=s[i];if(at(a))n.addValue(i,a);else if(at(l))n.addValue(i,os(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,os(u!==void 0?u:a,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l1{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=vt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ne.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=pa(s),this.isVariantNode=ry(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const _=v[w];p[w]!==void 0&&at(_)&&_.set(p[w])}}mount(e){this.current=e,o1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),vy.current||i1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iu.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=hs.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in as){const s=as[e];if(!s)continue;const{isEnabled:i,Feature:a}=s;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Kp.length;i++){const a=Kp[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=a1(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=os(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ug(i)||hg(i))?i=parseFloat(i):!gb(i)&&Mn.test(s)&&(i=Kg(e,s)),this.setBaseTarget(e,at(i)?i.get():i)),at(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=td(this.props,s,this.presenceContext?.custom);l&&(i=l[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!at(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ru),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ku.render(this.render)}}class xy extends l1{constructor(){super(...arguments),this.KeyframeResolver=sb}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;at(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function wy(n,{style:e,vars:s},i,a){const l=n.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in s)l.setProperty(u,s[u])}function c1(n){return window.getComputedStyle(n)}class u1 extends xy{constructor(){super(...arguments),this.type="html",this.renderInstance=wy}readValueFromInstance(e,s){if(hs.has(s))return this.projection?.isProjecting?Yc(s):Sw(e,s);{const i=c1(e),a=(Lu(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return yy(e,s)}build(e,s,i){Xu(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return nd(e,s,i)}}const by=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d1(n,e,s,i){wy(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(by.has(a)?a:rd(a),e.attrs[a])}class h1 extends xy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(hs.has(s)){const i=Hg(s);return i&&i.default||0}return s=by.has(s)?s:rd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return uy(e,s,i)}build(e,s,i){oy(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,a){d1(e,s,i,a)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const f1=(n,e)=>ed(n)?new h1(e):new u1(e,{allowProjection:n!==P.Fragment});function rs(n,e,s){const i=n.getProps();return td(i,e,s!==void 0?s:i.custom,n)}const ou=n=>Array.isArray(n);function p1(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,os(s))}function m1(n){return ou(n)?n[n.length-1]||0:n}function g1(n,e){const s=rs(n,e);let{transitionEnd:i={},transition:a={},...l}=s||{};l={...l,...i};for(const u in l){const h=m1(l[u]);p1(n,u,h)}}function y1(n){return!!(at(n)&&n.add)}function au(n,e){const s=n.getValue("willChange");if(y1(s))return s.add(e);if(!s&&dn.WillChange){const i=new dn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function _y(n){return n.props[dy]}const v1=n=>n!==null;function x1(n,{repeat:e,repeatType:s="loop"},i){const a=n.filter(v1),l=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[l]}const w1={type:"spring",stiffness:500,damping:25,restSpeed:10},b1=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_1={type:"keyframes",duration:.8},S1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j1=(n,{keyframes:e})=>e.length>2?_1:hs.has(n)?n.startsWith("scale")?b1(e[1]):w1:S1;function k1({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const sd=(n,e,s,i={},a,l)=>u=>{const h=qu(i,n)||{},p=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Xt(p);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:l?void 0:a};k1(h)||Object.assign(y,j1(n,y)),y.duration&&(y.duration=Xt(y.duration)),y.repeatDelay&&(y.repeatDelay=Xt(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(tu(y),y.delay===0&&(v=!0)),(dn.instantAnimations||dn.skipAnimations)&&(v=!0,tu(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=x1(y.keyframes,h);if(w!==void 0){Ne.update(()=>{y.onUpdate(w),y.onComplete()});return}}return h.isSync?new Bu(y):new Hw(y)};function T1({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function Sy(n,e,{delay:s=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in h){const v=n.getValue(y,n.latestValues[y]??null),w=h[y];if(w===void 0||g&&T1(g,y))continue;const _={delay:s,...qu(l||{},y)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===E&&!_.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const L=_y(n);if(L){const O=window.MotionHandoffAnimation(L,y,Ne);O!==null&&(_.startTime=O,j=!0)}}au(n,y),v.start(sd(y,v,w,n.shouldReduceMotion&&Bg.has(y)?{type:!1}:_,n,j));const T=v.animation;T&&p.push(T)}return u&&Promise.all(p).then(()=>{Ne.update(()=>{u&&g1(n,u)})}),p}function jy(n,e,s,i=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof s=="function"?s(l,u):a===1?l*i:h-l*i}function lu(n,e,s={}){const i=rs(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(Sy(n,i,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return E1(n,e,p,g,y,v,s)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(s.delay)])}function E1(n,e,s=0,i=0,a=0,l=1,u){const h=[];for(const p of n.variantChildren)p.notify("AnimationStart",e),h.push(lu(p,e,{...u,delay:s+(typeof i=="function"?0:i)+jy(n.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(h)}function C1(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>lu(n,l,s));i=Promise.all(a)}else if(typeof e=="string")i=lu(n,e,s);else{const a=typeof e=="function"?rs(n,e,s.custom):e;i=Promise.all(Sy(n,a,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function ky(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const N1=Qu.length;function Ty(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?Ty(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<N1;s++){const i=Qu[s],a=n.props[i];(gi(a)||a===!1)&&(e[i]=a)}return e}const P1=[...Yu].reverse(),A1=Yu.length;function R1(n){return e=>Promise.all(e.map(({animation:s,options:i})=>C1(n,s,i)))}function O1(n){let e=R1(n),s=Gp(),i=!0;const a=p=>(g,y)=>{const v=rs(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:_,...E}=v;g={...g,...E,..._}}return g};function l(p){e=p(n)}function u(p){const{props:g}=n,y=Ty(n.parent)||{},v=[],w=new Set;let _={},E=1/0;for(let T=0;T<A1;T++){const L=P1[T],O=s[L],R=g[L]!==void 0?g[L]:y[L],D=gi(R),F=L===p?O.isActive:null;F===!1&&(E=T);let B=R===y[L]&&R!==g[L]&&D;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),O.protectedKeys={..._},!O.isActive&&F===null||!R&&!O.prevProp||fa(R)||typeof R=="boolean")continue;const K=I1(O.prevProp,R);let J=K||L===p&&O.isActive&&!B&&D||T>E&&D,le=!1;const me=Array.isArray(R)?R:[R];let Me=me.reduce(a(L),{});F===!1&&(Me={});const{prevResolvedValues:Je={}}=O,Ie={...Je,...Me},M=H=>{J=!0,w.has(H)&&(le=!0,w.delete(H)),O.needsAnimating[H]=!0;const U=n.getValue(H);U&&(U.liveStyle=!1)};for(const H in Ie){const U=Me[H],Y=Je[H];if(_.hasOwnProperty(H))continue;let G=!1;ou(U)&&ou(Y)?G=!ky(U,Y):G=U!==Y,G?U!=null?M(H):w.add(H):U!==void 0&&w.has(H)?M(H):O.protectedKeys[H]=!0}O.prevProp=R,O.prevResolvedValues=Me,O.isActive&&(_={..._,...Me}),i&&n.blockInitialAnimation&&(J=!1);const te=B&&K;J&&(!te||le)&&v.push(...me.map(H=>{const U={type:L};if(typeof H=="string"&&i&&!te&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,G=rs(Y,H);if(Y.enteringChildren&&G){const{delayChildren:C}=G.transition||{};U.delay=jy(Y.enteringChildren,n,C)}}return{animation:H,options:U}}))}if(w.size){const T={};if(typeof g.initial!="boolean"){const L=rs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);L&&L.transition&&(T.transition=L.transition)}w.forEach(L=>{const O=n.getBaseTarget(L),R=n.getValue(L);R&&(R.liveStyle=!0),T[L]=O??null}),v.push({animation:T})}let j=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(v):Promise.resolve()}function h(p,g){if(s[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(p,g)),s[p].isActive=g;const y=u(p);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>s,reset:()=>{s=Gp()}}}function I1(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ky(e,n):!1}function Zn(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gp(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class Fn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class L1 extends Fn{constructor(e){super(e),e.animationState||(e.animationState=O1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D1=0;class M1 extends Fn{constructor(){super(...arguments),this.id=D1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F1={animation:{Feature:L1},exit:{Feature:M1}};function vi(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function Ci(n){return{point:{x:n.pageX,y:n.pageY}}}const $1=n=>e=>Gu(e)&&n(e,Ci(e));function ai(n,e,s,i){return vi(n,e,$1(s),i)}const Ey=1e-4,U1=1-Ey,V1=1+Ey,Cy=.01,W1=0-Cy,B1=0+Cy;function ut(n){return n.max-n.min}function z1(n,e,s){return Math.abs(n-e)<=s}function Jp(n,e,s,i=.5){n.origin=i,n.originPoint=Oe(e.min,e.max,n.origin),n.scale=ut(s)/ut(e),n.translate=Oe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=U1&&n.scale<=V1||isNaN(n.scale))&&(n.scale=1),(n.translate>=W1&&n.translate<=B1||isNaN(n.translate))&&(n.translate=0)}function li(n,e,s,i){Jp(n.x,e.x,s.x,i?i.originX:void 0),Jp(n.y,e.y,s.y,i?i.originY:void 0)}function Yp(n,e,s){n.min=s.min+e.min,n.max=n.min+ut(e)}function q1(n,e,s){Yp(n.x,e.x,s.x),Yp(n.y,e.y,s.y)}function Qp(n,e,s){n.min=e.min-s.min,n.max=n.min+ut(e)}function ci(n,e,s){Qp(n.x,e.x,s.x),Qp(n.y,e.y,s.y)}function Rt(n){return[n("x"),n("y")]}const Ny=({current:n})=>n?n.ownerDocument.defaultView:null,Xp=(n,e)=>Math.abs(n-e);function H1(n,e){const s=Xp(n.x,e.x),i=Xp(n.y,e.y);return Math.sqrt(s**2+i**2)}class Py{constructor(e,s,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ec(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=H1(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:j}=w,{timestamp:T}=nt;this.history.push({...j,timestamp:T});const{onStart:L,onMove:O}=this.handlers;_||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Tc(_,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:j,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Ec(w.type==="pointercancel"?this.lastMoveEventInfo:Tc(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,L),j&&j(w,L)},!Gu(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=Ci(e),p=Tc(h,this.transformPagePoint),{point:g}=p,{timestamp:y}=nt;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(e,Ec(p,this.history)),this.removeListeners=ji(ai(this.contextWindow,"pointermove",this.handlePointerMove),ai(this.contextWindow,"pointerup",this.handlePointerUp),ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Tc(n,e){return e?{point:e(n.point)}:n}function Zp(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Ec({point:n},e){return{point:n,delta:Zp(n,Ay(e)),offset:Zp(n,K1(e)),velocity:G1(e,.1)}}function K1(n){return n[0]}function Ay(n){return n[n.length-1]}function G1(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const a=Ay(n);for(;s>=0&&(i=n[s],!(a.timestamp-i.timestamp>Xt(e)));)s--;if(!i)return{x:0,y:0};const l=Ot(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function J1(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Oe(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Oe(s,n,i.max):Math.min(n,s)),n}function em(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function Y1(n,{top:e,left:s,bottom:i,right:a}){return{x:em(n.x,s,a),y:em(n.y,e,i)}}function tm(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function Q1(n,e){return{x:tm(n.x,e.x),y:tm(n.y,e.y)}}function X1(n,e){let s=.5;const i=ut(n),a=ut(e);return a>i?s=fi(e.min,e.max-i,n.min):i>a&&(s=fi(n.min,n.max-a,e.min)),un(0,1,s)}function Z1(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const cu=.35;function e_(n=cu){return n===!1?n=0:n===!0&&(n=cu),{x:nm(n,"left","right"),y:nm(n,"top","bottom")}}function nm(n,e,s){return{min:rm(n,e),max:rm(n,s)}}function rm(n,e){return typeof n=="number"?n:n[e]||0}const t_=new WeakMap;class n_{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ci(v).point)},u=(v,w)=>{const{drag:_,dragPropagation:E,onDragStart:j}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lb(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(L=>{let O=this.getAxisMotionValue(L).get()||0;if(Zt.test(O)){const{projection:R}=this.visualElement;if(R&&R.layout){const D=R.layout.layoutBox[L];D&&(O=ut(D)*(parseFloat(O)/100))}}this.originPoint[L]=O}),j&&Ne.postRender(()=>j(v,w)),au(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:j,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:L}=w;if(E&&this.currentDirection===null){this.currentDirection=r_(L),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),T&&T(v,w)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Rt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Py(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Ny(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,a=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ne.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:a}=this.getProps();if(!i||!qo(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=J1(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Y1(i.layoutBox,e):this.constraints=!1,this.elastic=e_(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Z1(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Zr(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=s1(i,a.root,this.visualElement.getTransformPagePoint());let u=Q1(a.layout.layoutBox,l);if(s){const h=s(t1(u));this.hasMutatedConstraints=!!h,h&&(u=py(h))}return u}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},g=Rt(y=>{if(!qo(y,s,this.currentDirection))return;let v=p&&p[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,_=a?40:1e7,E={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(g).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return au(this.visualElement,e),i.start(sd(e,i,0,s,this.visualElement,!1))}stopAnimation(){Rt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[s];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rt(s=>{const{drag:i}=this.getProps();if(!qo(s,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(s);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[s];l.set(e[s]-Oe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Zr(s)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rt(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const p=h.get();a[u]=X1({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rt(u=>{if(!qo(u,e,null))return;const h=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];h.set(Oe(p,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;t_.set(this.visualElement,this);const e=this.visualElement.current,s=ai(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Zr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ne.read(i);const u=vi(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Rt(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),s(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=cu,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function qo(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function r_(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class s_ extends Fn{constructor(e){super(e),this.removeGroupControls=It,this.removeListeners=It,this.controls=new n_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const sm=n=>(e,s)=>{n&&Ne.postRender(()=>n(e,s))};class i_ extends Fn{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(e){this.session=new Py(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ny(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:sm(e),onStart:sm(s),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Ne.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ea={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function im(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ti={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ae.test(n))n=parseFloat(n);else return n;const s=im(n,e.target.x),i=im(n,e.target.y);return`${s}% ${i}%`}},o_={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,a=Mn.parse(n);if(a.length>5)return i;const l=Mn.createTransformer(n),u=typeof a[0]!="number"?1:0,h=s.x.scale*e.x,p=s.y.scale*e.y;a[0+u]/=h,a[1+u]/=p;const g=Oe(h,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let Cc=!1;class a_ extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;Nb(l_),l&&(s.group&&s.group.add(l),i&&i.register&&a&&i.register(l),Cc&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ea.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Cc=!0,a||e.layoutDependency!==s||s===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ne.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ku.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:a}=e;Cc=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ry(n){const[e,s]=ey(),i=P.useContext(ku);return d.jsx(a_,{...n,layoutGroup:i,switchLayoutGroup:P.useContext(hy),isPresent:e,safeToRemove:s})}const l_={borderRadius:{...ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ti,borderTopRightRadius:ti,borderBottomLeftRadius:ti,borderBottomRightRadius:ti,boxShadow:o_};function c_(n,e,s){const i=at(n)?n:os(n);return i.start(sd("",i,e,s)),i.animation}const u_=(n,e)=>n.depth-e.depth;class d_{constructor(){this.children=[],this.isDirty=!1}add(e){Cu(this.children,e),this.isDirty=!0}remove(e){Nu(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(u_),this.isDirty=!1,this.children.forEach(e)}}function h_(n,e){const s=vt.now(),i=({timestamp:a})=>{const l=a-s;l>=e&&(Dn(i),n(l-e))};return Ne.setup(i,!0),()=>Dn(i)}const Oy=["TopLeft","TopRight","BottomLeft","BottomRight"],f_=Oy.length,om=n=>typeof n=="string"?parseFloat(n):n,am=n=>typeof n=="number"||ae.test(n);function p_(n,e,s,i,a,l){a?(n.opacity=Oe(0,s.opacity??1,m_(i)),n.opacityExit=Oe(e.opacity??1,0,g_(i))):l&&(n.opacity=Oe(e.opacity??1,s.opacity??1,i));for(let u=0;u<f_;u++){const h=`border${Oy[u]}Radius`;let p=lm(e,h),g=lm(s,h);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||am(p)===am(g)?(n[h]=Math.max(Oe(om(p),om(g),i),0),(Zt.test(g)||Zt.test(p))&&(n[h]+="%")):n[h]=g}(e.rotate||s.rotate)&&(n.rotate=Oe(e.rotate||0,s.rotate||0,i))}function lm(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const m_=Iy(0,.5,wg),g_=Iy(.5,.95,It);function Iy(n,e,s){return i=>i<n?0:i>e?1:s(fi(n,e,i))}function cm(n,e){n.min=e.min,n.max=e.max}function At(n,e){cm(n.x,e.x),cm(n.y,e.y)}function um(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function dm(n,e,s,i,a){return n-=e,n=oa(n,1/s,i),a!==void 0&&(n=oa(n,1/a,i)),n}function y_(n,e=0,s=1,i=.5,a,l=n,u=n){if(Zt.test(e)&&(e=parseFloat(e),e=Oe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Oe(l.min,l.max,i);n===l&&(h-=e),n.min=dm(n.min,e,s,h,a),n.max=dm(n.max,e,s,h,a)}function hm(n,e,[s,i,a],l,u){y_(n,e[s],e[i],e[a],e.scale,l,u)}const v_=["x","scaleX","originX"],x_=["y","scaleY","originY"];function fm(n,e,s,i){hm(n.x,e,v_,s?s.x:void 0,i?i.x:void 0),hm(n.y,e,x_,s?s.y:void 0,i?i.y:void 0)}function pm(n){return n.translate===0&&n.scale===1}function Ly(n){return pm(n.x)&&pm(n.y)}function mm(n,e){return n.min===e.min&&n.max===e.max}function w_(n,e){return mm(n.x,e.x)&&mm(n.y,e.y)}function gm(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Dy(n,e){return gm(n.x,e.x)&&gm(n.y,e.y)}function ym(n){return ut(n.x)/ut(n.y)}function vm(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class b_{constructor(){this.members=[]}add(e){Cu(this.members,e),e.scheduleRender()}remove(e){if(Nu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let i;for(let a=s;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function __(n,e,s){let i="";const a=n.x.translate/e.x,l=n.y.translate/e.y,u=s?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:w,skewX:_,skewY:E}=s;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const h=n.x.scale*e.x,p=n.y.scale*e.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const Nc=["","X","Y","Z"],S_=1e3;let j_=0;function Pc(n,e,s,i){const{latestValues:a}=e;a[n]&&(s[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function My(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=_y(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Ne,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&My(i)}function Fy({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=j_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E_),this.nodes.forEach(A_),this.nodes.forEach(R_),this.nodes.forEach(C_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new d_)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ru),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Zg(u)&&!pb(u),this.instance=u;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Ne.read(()=>{v=window.innerWidth}),n(u,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,y&&y(),y=h_(w,250),ea.hasAnimatedSinceResize&&(ea.hasAnimatedSinceResize=!1,this.nodes.forEach(bm)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||g.getDefaultTransition()||M_,{onLayoutAnimationStart:j,onLayoutAnimationComplete:T}=g.getProps(),L=!this.targetLayout||!Dy(this.targetLayout,_),O=!v&&w;if(this.options.layoutRoot||this.resumeFrom||O||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...qu(E,"layout"),onPlay:j,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(y,O)}else v||bm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&My(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P_),this.nodes.forEach(k_),this.nodes.forEach(T_)):this.nodes.forEach(wm),this.clearAllSnapshots();const h=vt.now();nt.delta=un(0,1e3/60,h-nt.timestamp),nt.timestamp=h,nt.isProcessing=!0,vc.update.process(nt),vc.preRender.process(nt),vc.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ku.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N_),this.sharedNodes.forEach(I_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ut(this.snapshot.measuredBox.x)&&!ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Ly(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||nr(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),F_(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ue();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($_))){const{scroll:g}=this.root;g&&(es(h.x,g.offset.x),es(h.y,g.offset.y))}return h}removeElementScroll(u){const h=Ue();if(At(h,u),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&At(h,u),es(h.x,y.offset.x),es(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const p=Ue();At(p,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ts(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),nr(y.latestValues)&&ts(p,y.latestValues)}return nr(this.latestValues)&&ts(p,this.latestValues),p}removeTransform(u){const h=Ue();At(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!nr(g.latestValues))continue;ru(g.latestValues)&&g.updateSnapshot();const y=Ue(),v=g.measurePageBox();At(y,v),fm(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return nr(this.latestValues)&&fm(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ci(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),gy(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ci(this.relativeTargetOrigin,this.target,w.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ru(this.parent.latestValues)||my(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;At(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;r1(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ue());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(um(this.prevProjectionDelta.x,this.projectionDelta.x),um(this.prevProjectionDelta.y,this.projectionDelta.y)),li(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!vm(this.projectionDelta.x,this.prevProjectionDelta.x)||!vm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ns(),this.projectionDelta=ns(),this.projectionDeltaWithTransform=ns()}setAnimationOrigin(u,h=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},v=ns();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ue(),_=p?p.source:void 0,E=this.layout?this.layout.source:void 0,j=_!==E,T=this.getStack(),L=!T||T.members.length<=1,O=!!(j&&!L&&this.options.crossfade===!0&&!this.path.some(D_));this.animationProgress=0;let R;this.mixTargetDelta=D=>{const F=D/1e3;_m(v.x,u.x,F),_m(v.y,u.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L_(this.relativeTarget,this.relativeTargetOrigin,w,F),R&&w_(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ue()),At(R,this.relativeTarget)),j&&(this.animationValues=y,p_(y,g,this.latestValues,F,O,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{ea.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=os(0)),this.currentAnimation=c_(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:g,latestValues:y}=u;if(!(!h||!p||!g)){if(this!==u&&this.layout&&g&&$y(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ue();const v=ut(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+v;const w=ut(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+w}At(h,p),ts(h,y),li(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new b_),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const g={};p.z&&Pc("z",u,g,this.animationValues);for(let y=0;y<Nc.length;y++)Pc(`rotate${Nc[y]}`,u,g,this.animationValues),Pc(`skew${Nc[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Zo(h?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Zo(h?.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=__(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),u.transform=v;const{x:w,y:_}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in yi){if(y[E]===void 0)continue;const{correct:j,applyTo:T,isCSSVariable:L}=yi[E],O=v==="none"?y[E]:j(y[E],g);if(T){const R=T.length;for(let D=0;D<R;D++)u[T[D]]=O}else L?this.options.visualElement.renderState.vars[E]=O:u[E]=O}this.options.layoutId&&(u.pointerEvents=g===this?Zo(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(xm),this.root.sharedNodes.clear()}}}function k_(n){n.updateLayout()}function T_(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?Rt(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=ut(v);v.min=s[y].min,v.max=v.min+w}):$y(a,e.layoutBox,s)&&Rt(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=ut(s[y]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const u=ns();li(u,s,e.layoutBox);const h=ns();l?li(h,n.applyTransform(i,!0),e.measuredBox):li(h,s,e.layoutBox);const p=!Ly(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const _=Ue();ci(_,e.layoutBox,v.layoutBox);const E=Ue();ci(E,s,w.layoutBox),Dy(_,E)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=_,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function E_(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function C_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function N_(n){n.clearSnapshot()}function xm(n){n.clearMeasurements()}function wm(n){n.isLayoutDirty=!1}function P_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bm(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function A_(n){n.resolveTargetDelta()}function R_(n){n.calcProjection()}function O_(n){n.resetSkewAndRotation()}function I_(n){n.removeLeadSnapshot()}function _m(n,e,s){n.translate=Oe(e.translate,0,s),n.scale=Oe(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function Sm(n,e,s,i){n.min=Oe(e.min,s.min,i),n.max=Oe(e.max,s.max,i)}function L_(n,e,s,i){Sm(n.x,e.x,s.x,i),Sm(n.y,e.y,s.y,i)}function D_(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const M_={duration:.45,ease:[.4,0,.1,1]},jm=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),km=jm("applewebkit/")&&!jm("chrome/")?Math.round:It;function Tm(n){n.min=km(n.min),n.max=km(n.max)}function F_(n){Tm(n.x),Tm(n.y)}function $y(n,e,s){return n==="position"||n==="preserve-aspect"&&!z1(ym(e),ym(s),.2)}function $_(n){return n!==n.root&&n.scroll?.wasRoot}const U_=Fy({attachResizeListener:(n,e)=>vi(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ac={current:void 0},Uy=Fy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ac.current){const n=new U_({});n.mount(window),n.setOptions({layoutScroll:!0}),Ac.current=n}return Ac.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),V_={pan:{Feature:i_},drag:{Feature:s_,ProjectionNode:Uy,MeasureLayout:Ry}};function Em(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,l=i[a];l&&Ne.postRender(()=>l(e,Ci(e)))}class W_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=cb(e,(s,i)=>(Em(this.node,i,"Start"),a=>Em(this.node,a,"End"))))}unmount(){}}class B_ extends Fn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(vi(this.node.current,"focus",()=>this.onFocus()),vi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cm(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),l=i[a];l&&Ne.postRender(()=>l(e,Ci(e)))}class z_ extends Fn{mount(){const{current:e}=this.node;e&&(this.unmount=fb(e,(s,i)=>(Cm(this.node,i,"Start"),(a,{success:l})=>Cm(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uu=new WeakMap,Rc=new WeakMap,q_=n=>{const e=uu.get(n.target);e&&e(n)},H_=n=>{n.forEach(q_)};function K_({root:n,...e}){const s=n||document;Rc.has(s)||Rc.set(s,{});const i=Rc.get(s),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(H_,{root:n,...e})),i[a]}function G_(n,e,s){const i=K_(e);return uu.set(n,s),i.observe(n),()=>{uu.delete(n),i.unobserve(n)}}const J_={some:0,all:1};class Y_ extends Fn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:a="some",once:l}=e,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:J_[a]},h=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=g?y:v;w&&w(p)};return G_(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Q_(e,s))&&this.startObserver()}unmount(){}}function Q_({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const X_={inView:{Feature:Y_},tap:{Feature:z_},focus:{Feature:B_},hover:{Feature:W_}},Z_={layout:{ProjectionNode:Uy,MeasureLayout:Ry}},eS={...F1,...X_,...V_,...Z_},re=e1(eS,f1);function tS({currentView:n,onNavigate:e,canGoBack:s,onBack:i}){const a=[{label:"Modèles",view:"contracts"},{label:"Bond",view:"bond"},{label:"Conseiller",view:"conseiller"},{label:"Prix",view:"pricing"},{label:"Documentation",view:"docs"},{label:"Nous consulter",view:"contact"}];return d.jsx(re.header,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.2,ease:"linear"},className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[s&&d.jsxs("button",{onClick:i,className:"group flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors duration-200","aria-label":"Retour",children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M10 14L4 8L10 2",strokeWidth:"1.5",strokeLinecap:"square"})}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),d.jsx("button",{onClick:()=>e("home"),className:"hover:opacity-80 transition-opacity duration-200",children:d.jsx("span",{className:"text-[1.25rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1},children:"SYMIONE"})})]}),d.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:a.map(l=>{const u=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return d.jsx("button",{onClick:()=>e(l.view),className:`text-[0.75rem] uppercase tracking-[0.08em] transition-colors duration-200 ${u?"text-accent":"text-muted-foreground hover:text-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:u?500:400},children:l.label},l.view)})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>e("login"),className:"hidden sm:block px-10 py-3.5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Connexion"}),d.jsxs("button",{onClick:()=>e("contracts"),className:"px-10 py-3.5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center gap-2",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["Commencer",d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})]}),d.jsx("nav",{className:"lg:hidden pb-4 flex gap-4 overflow-x-auto",children:a.map(l=>{const u=n===l.view||l.view==="bond"&&["bond-create","bond-contract","bond-payment","bond-settings"].includes(n);return d.jsx("button",{onClick:()=>e(l.view),className:`text-[0.625rem] uppercase tracking-[0.08em] whitespace-nowrap transition-colors duration-200 ${u?"text-accent":"text-muted-foreground"}`,style:{fontFamily:"var(--font-mono)",fontWeight:u?500:400},children:l.label},l.view)})})]})})}function nS(){return d.jsx("footer",{className:"border-t border-border mt-auto",children:d.jsx("div",{className:"max-w-[1920px] mx-auto px-8 lg:px-16 py-8",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"disclaimer-section border border-border p-4",children:[d.jsx("p",{className:"text-[0.8125rem] mb-2",style:{lineHeight:1.6},children:"Avertissement juridique: Symione est un outil d'aide à la décision. Nos contenus sont informatifs et ne constituent pas des conseils juridiques personnalisés. Nous recommandons de consulter un avocat pour toute situation complexe."}),d.jsxs("p",{className:"text-[0.8125rem] text-muted-foreground",children:["Vos données sont chiffrées et conformes au RGPD.",d.jsx("a",{href:"/confidentialite",className:"underline ml-2",children:"Politique de confidentialité"}),d.jsx("span",{className:"mx-2",children:"•"}),d.jsx("a",{href:"/mentions-legales",className:"underline",children:"Mentions légales"})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{className:"text-[0.75rem] text-muted-foreground uppercase tracking-wide",style:{fontWeight:500},children:"© 2025 SYMIONE"}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",children:"Intelligent legal systems for modern practices"})]}),d.jsxs("div",{className:"flex gap-8",children:[d.jsx("a",{href:"/confidentialite",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Confidentialité"}),d.jsx("a",{href:"/mentions-legales",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Mentions légales"}),d.jsx("a",{href:"#support",className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wide",style:{fontWeight:500},children:"Support"})]})]})]})})})}function rS(){const[n,e]=P.useState(0);P.useEffect(()=>{const a=()=>{e(window.scrollY)};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]);const s=Math.max(1-n/400,0),i=n*.2;return d.jsx("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 w-full",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.4,ease:"linear"},style:{opacity:s,transform:`translateY(${i}px)`},className:"relative",children:[d.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"flex items-center gap-3 mb-12",children:[d.jsx("div",{className:"h-px w-12 bg-border"}),d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME D'INTELLIGENCE JURIDIQUE"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("h1",{className:"text-[3.5rem] md:text-[5rem] lg:text-[7rem] tracking-[-0.03em]",style:{fontWeight:700,lineHeight:.95},children:["Documents.",d.jsx("br",{}),"Intelligence.",d.jsx("br",{}),"Précision."]}),d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.3},className:"flex flex-wrap gap-6 md:gap-8 pt-4",children:[{label:"PRÉCISION",value:"99.7%"},{label:"JURIDICTIONS",value:"12+"},{label:"LATENCE",value:"<200ms"}].map((a,l)=>d.jsxs("div",{className:"flex items-baseline gap-3",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:a.label}),d.jsx("span",{className:"text-[1rem] tracking-[-0.01em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:a.value})]},a.label))})]}),d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"mt-16 flex flex-col sm:flex-row gap-3",children:[d.jsxs("button",{className:"group relative px-12 py-5 bg-accent text-accent-foreground overflow-hidden transition-all duration-200 hover:shadow-[0_0_20px_var(--accent-glow)] flex items-center justify-center gap-3",children:[d.jsx("span",{className:"relative z-10 text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Commencer"}),d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),d.jsx("button",{className:"group px-12 py-5 border border-border hover:border-foreground transition-all duration-200 flex items-center justify-center gap-3",children:d.jsx("span",{className:"text-[0.8125rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Documentation"})})]})]}),d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.4},className:"absolute bottom-12 left-6 lg:left-12",style:{opacity:Math.max(1-n/200,0)},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-px h-16 bg-border relative overflow-hidden",children:d.jsx(re.div,{animate:{y:[-64,64]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-full h-4 bg-accent/50"})}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"SCROLL"})]})})]})})}const sS=[{id:"synthesis",code:"SYN",title:"Module de Synthèse",function:"Génération de contrats",description:"Création automatisée de documents depuis la bibliothèque",route:"contracts",status:"PRÊT"},{id:"compliance",code:"CMP",title:"Scanner de Conformité",function:"Révision et analyse",description:"Vérification juridique en temps réel",route:"editor",status:"PRÊT"},{id:"conseiller",code:"CNS",title:"Module Conseil",function:"Assistance juridique",description:"Conseil expert et réseau d'avocats",route:"conseiller",status:"PRÊT"}];function iS({onNavigate:n,onNavigateConseiller:e}){return d.jsx("section",{className:"py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsx(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"mb-12 pb-8 border-b border-border",children:d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTEM / MODULES"}),d.jsx("h2",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.1},children:"Surface de contrôle"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),d.jsx("p",{className:"text-[0.625rem] tracking-[0.05em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"3 MODULES PRÊTS"})]})]})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-px bg-border",children:sS.map((s,i)=>d.jsxs(re.button,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:i*.08,ease:"linear"},onClick:()=>{s.id==="conseiller"?e():s.route&&n(s.route)},disabled:!s.route,className:`group relative bg-card p-8 lg:p-10 text-left transition-all duration-200 ${s.route?"hover:bg-accent/5 cursor-pointer":"cursor-not-allowed opacity-60"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-8",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.15em] text-muted-foreground px-2 py-1 border border-border",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.code}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.status==="PRÊT"?"bg-accent":"bg-muted-foreground/40"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:s.status})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.3},children:s.title}),d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-accent",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.function})]}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:s.description})]}),s.route&&d.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:d.jsxs("div",{className:"flex items-center justify-between group-hover:opacity-100 transition-opacity duration-200",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Module disponible"}),d.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Ouvrir"}),d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-current transform group-hover:translate-x-1 transition-transform duration-200",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})]})]})})]},s.id))})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),Nm=n=>{const e=aS(n);return e.charAt(0).toUpperCase()+e.slice(1)},Vy=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},p)=>P.createElement("svg",{ref:p,...lS,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:Vy("lucide",a),...h},[...u.map(([g,y])=>P.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(n,e)=>{const s=P.forwardRef(({className:i,...a},l)=>P.createElement(cS,{ref:l,iconNode:e,className:Vy(`lucide-${oS(Nm(n))}`,`lucide-${n}`,i),...a}));return s.displayName=Nm(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],id=Pe("arrow-left",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],hS=Pe("book",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pS=Pe("check",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gS=Pe("chevron-right",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xi=Pe("circle-alert",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ma=Pe("circle-check-big",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wS=Pe("circle-x",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],_S=Pe("code",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],jS=Pe("download",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],TS=Pe("file-text",kS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],CS=Pe("house",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wy=Pe("info",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wi=Pe("loader-circle",PS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],RS=Pe("mail",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],By=Pe("message-square",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],LS=Pe("phone",IS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oc=Pe("plus",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FS=Pe("refresh-cw",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],US=Pe("scale",$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],zy=Pe("search",VS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],BS=Pe("sparkles",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ga=Pe("triangle-alert",zS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],od=Pe("x",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KS=Pe("zap",HS),GS="modulepreload",JS=function(n){return"/"+n},Pm={},fs=function(e,s,i){let a=Promise.resolve();if(s&&s.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");a=u(s.map(g=>{if(g=JS(g),g in Pm)return;Pm[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":GS,y||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),y)return new Promise((_,E)=>{w.addEventListener("load",_),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},YS={},Am=YS?.VITE_API_BASE_URL?String(void 0).replace(/\/$/,""):"";function ya(n){return Am?`${Am}${n}`:n}async function va(n){try{return await n.json()}catch{return{error:!0,message:n.statusText}}}async function Ho(n){const e=await fetch(ya(n),{method:"GET"});if(!e.ok)throw await va(e);return e.json()}async function Ic(n,e){const s={"Content-Type":"application/json"};try{const{supabase:a}=await fs(async()=>{const{supabase:h}=await Promise.resolve().then(()=>ET);return{supabase:h}},void 0),{data:l}=await a.auth.getSession(),u=l.session?.access_token;u&&(s.Authorization=`Bearer ${u}`)}catch{}const i=await fetch(ya(n),{method:"POST",headers:s,body:JSON.stringify(e)});if(i.status===429){const a=Number(i.headers.get("X-RateLimit-Reset")||0);throw{error:!0,message:"Rate limit exceeded",code:"RATE_LIMIT",retryInSec:Math.max(0,a-Math.floor(Date.now()/1e3))}}if(!i.ok)throw await va(i);return i.json()}async function QS(n,e){const s=await fetch(ya(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await va(s);return s.json()}async function XS(n,e,s){const i=await fetch(ya("/api/export"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:n,format:e,metadata:s})});if(!i.ok)throw await va(i);const a=await i.blob(),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`contract.${e}`,document.body.appendChild(u),u.click(),u.remove(),URL.revokeObjectURL(l)}const ZS={},ej=ZS?.VITE_JURISDICTION||"FR",bi={health:()=>Ho("/api/health"),listContracts:n=>Ho(`/api/contracts?jurisdiction=${encodeURIComponent(n||ej)}`),getTemplate:(n,e)=>Ho(e?`/api/contracts/${n}?jurisdiction=${encodeURIComponent(e)}`:`/api/contracts/${n}`),getClauses:n=>Ho(`/api/contracts/${n}/clauses`),updateClause:(n,e,s)=>QS(`/api/contracts/${n}/clauses`,{id:n,clause_id:e,...s}),generate:n=>Ic("/api/generate",n),review:n=>Ic("/api/review",n),explain:n=>Ic("/api/explain",n),export:XS};let tj=0;const du=new Set;function qe(n,e="info"){const s={id:`toast-${++tj}`,message:n,type:e};du.forEach(i=>i(s))}function nj(){const[n,e]=P.useState([]);P.useEffect(()=>{const i=a=>{e(l=>[...l,a]),setTimeout(()=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast timeout cleanup"}),e(l=>(l||[]).filter(u=>u&&u.id!==a.id))},5e3)};return du.add(i),()=>{du.delete(i)}},[]);const s=i=>{console.log("🔍 Filter debug:",{array:n,arrayType:typeof n,isArray:Array.isArray(n),location:"SystemToast removeToast"}),e(a=>(a||[]).filter(l=>l&&l.id!==i))};return d.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:d.jsx(Ei,{children:n.map(i=>d.jsxs(re.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"linear"},className:"bg-card border border-border p-4 pr-12 min-w-[320px] max-w-md shadow-lg pointer-events-auto relative",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[i.type==="success"&&d.jsx(ma,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="error"&&d.jsx(xi,{className:"w-4 h-4 text-destructive mt-0.5 flex-shrink-0",strokeWidth:1.5}),i.type==="info"&&d.jsx(Wy,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0",strokeWidth:1.5}),d.jsx("p",{className:"text-[0.8125rem] flex-1",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:i.message})]}),d.jsx("button",{onClick:()=>s(i.id),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:d.jsx(od,{className:"w-3.5 h-3.5",strokeWidth:1.5})})]},i.id))})})}const rj={},sj={business:"Entreprise",employment:"Emploi",property:"Immobilier",freelance:"Freelance",personal:"Personnel",closure:"Clôture",custom:"Personnalisé"};function ij({onBack:n,onSelectTemplate:e,plan:s="free"}){const[i,a]=P.useState([]),[l,u]=P.useState(!0),[h,p]=P.useState(""),[g,y]=P.useState(rj?.VITE_JURISDICTION||"FR"),[v,w]=P.useState(null),[_,E]=P.useState(!1);P.useEffect(()=>{async function D(){try{const{index:F}=await bi.listContracts(g);!Array.isArray(F)||F.length===0?a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}]):a(F)}catch(F){qe(F.message||"Failed to load templates","error"),a([{id:"contrat-de-travail-dur-e-ind-termin-e-cdi",title:"Contrat de travail CDI",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-ind-termin-e-cdi.json"},{id:"freelance-services-agreement",title:"Contrat de prestation freelance",category:"business",path:"/contracts/business/freelance-services-agreement.json"},{id:"one-way-non-disclosure-agreement",title:"Accord de confidentialité (NDA)",category:"business",path:"/contracts/business/one-way-non-disclosure-agreement.json"},{id:"bail-d-habitation-non-meubl",title:"Bail d'habitation non meublé",category:"property",path:"/contracts/property/bail-d-habitation-non-meubl.json"},{id:"convention-de-rupture-conventionnelle",title:"Rupture conventionnelle",category:"employment",path:"/contracts/employment/convention-de-rupture-conventionnelle.json"},{id:"terms-of-service",title:"Conditions générales (CGU/CGV)",category:"business",path:"/contracts/business/terms-of-service.json"},{id:"promesse-synallagmatique-de-vente-immobili-re",title:"Promesse de vente immobilière",category:"property",path:"/contracts/property/promesse-synallagmatique-de-vente-immobili-re.json"},{id:"partnership-agreement",title:"Pacte d'associés (Partnership)",category:"business",path:"/contracts/business/partnership-agreement.json"},{id:"contrat-de-prestation-de-services",title:"Contrat de prestation de services",category:"business",path:"/contracts/business/contrat-de-prestation-de-services.json"},{id:"reconnaissance-de-dette",title:"Reconnaissance de dette",category:"personal",path:"/contracts/personal/reconnaissance-de-dette.json"},{id:"contrat-de-travail-dur-e-d-termin-e-cdd",title:"Contrat CDD",category:"employment",path:"/contracts/employment/contrat-de-travail-dur-e-d-termin-e-cdd.json"},{id:"convention-de-stage",title:"Convention de stage",category:"employment",path:"/contracts/employment/convention-de-stage.json"}])}finally{u(!1)}}u(!0),D()},[g]),console.log("🔍 Filter debug:",{array:i,arrayType:typeof i,isArray:Array.isArray(i),location:"ContractsListView filteredContracts"});const j=(i||[]).filter(D=>{const F=h.toLowerCase();return D.title.toLowerCase().includes(F)||D.category.toLowerCase().includes(F)||D.id.toLowerCase().includes(F)});async function T(D){if(!D||D.length<16){w(null);return}E(!0);try{const F=await fetch("/api/templates/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:D})});if(F.ok){const B=await F.json();w(B)}}finally{E(!1)}}const L=D=>!1,[O,R]=P.useState(!1);return d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(id,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Control Surface"})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYNTHESIS MODULE / TEMPLATE LIBRARY"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Select template"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative lg:w-96",children:[d.jsx(zy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground",strokeWidth:1.5}),d.jsx("input",{type:"text",placeholder:"🔍 Rechercher un contrat (ex: bail, CDI, NDA...)",value:h,onChange:D=>{p(D.target.value),T(D.target.value)},className:"w-full pl-10 pr-4 py-3 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsxs("select",{value:g,onChange:D=>y(D.target.value),className:"px-3 py-2 bg-input-background border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx("option",{value:"FR",children:"FR"}),d.jsx("option",{value:"EN",children:"EN"})]})]})]}),d.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-system-standby animate-pulse":"bg-accent"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:l?"Loading templates...":`${j.length} templates available`})]}),h.length>15&&d.jsxs("div",{className:"mt-4 border border-border p-4",children:[_&&d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce"}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),v&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-[0.875rem] mb-3",children:[d.jsx("h4",{className:"text-[0.95rem] mb-1",style:{fontWeight:600},children:"💡 Analyse de votre besoin"}),d.jsx("p",{className:"text-muted-foreground",children:v.interpretation})]}),v.matchingTemplates.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-[0.95rem]",style:{fontWeight:600},children:"📄 Templates correspondants"}),v.matchingTemplates.map(D=>d.jsxs("button",{onClick:()=>e(D.id,g),className:"w-full text-left border border-border p-3 hover:border-foreground",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:D.name}),d.jsx("span",{className:`text-[0.75rem] ${D.available?"text-green-700":"text-amber-700"}`,children:D.available?"✓ Disponible":"🔒 Plan Pro"})]}),D.description&&d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",children:D.description})]},D.id))]}):d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",children:"Aucun template exact — ce cas peut nécessiter un avocat."}),d.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"mt-2 px-4 py-2 border border-border",children:"Consulter le Conseiller Juridique →"})]})]})]})]}),l?d.jsx("div",{className:"flex items-center justify-center py-24",children:d.jsx(wi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):j.length===0?d.jsxs("div",{className:"text-center py-24",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Aucun template ne correspond à votre recherche"}),d.jsx("button",{onClick:()=>{window.location.href="#conseiller"},className:"px-6 py-3 border border-border text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"💬 Décrire mon besoin au Conseiller Juridique"})]}):d.jsx("div",{className:"space-y-px bg-border",children:j.map((D,F)=>(L(D.id),d.jsxs(re.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2,delay:F*.04,ease:"linear"},onClick:()=>{e(D.id,g)},className:"group bg-card p-6 lg:p-8 text-left transition-all duration-200 relative w-full border-l-2 hover:bg-accent/5 hover:border-l-accent border-transparent",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:D.id.toUpperCase()})}),d.jsx("div",{className:"lg:col-span-5",children:d.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:D.title})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Category"}),d.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:sj[D.category]||D.category})]})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Path"}),d.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:D.path})]})})]}),d.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:"stroke-accent",children:d.jsx("path",{d:"M2 6H10M10 6L7 3M10 6L7 9",strokeWidth:"1",strokeLinecap:"square"})})})]},D.id)))}),O&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[d.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Template Premium"}),d.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Ce template est disponible dans le Plan Pro (149€/mois) qui inclut 50+ templates et 20 contrats/mois."}),d.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:()=>{window.location.href="/login"},className:"px-4 py-2 border border-border",children:"Créer un compte gratuit"}),d.jsx("button",{onClick:()=>{window.location.href="/prix"},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro"})]})]})})]})})}const oj=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class ad extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Rm extends ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Om extends ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Im extends ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(hu||(hu={}));var aj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};class lj{constructor(e,{headers:s={},customFetch:i,region:a=hu.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=oj(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return aj(this,arguments,void 0,function*(s,i={}){var a;try{const{headers:l,method:u,body:h,signal:p}=i;let g={},{region:y}=i;y||(y=this.region);const v=new URL(`${this.url}/${s}`);y&&y!=="any"&&(g["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)));const _=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:p}).catch(L=>{throw L.name==="AbortError"?L:new Rm(L)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new Om(_);if(!_.ok)throw new Im(_);let j=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield _.json():j==="application/octet-stream"?T=yield _.blob():j==="text/event-stream"?T=_:j==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Rm(l)}:{data:null,error:l,response:l instanceof Im||l instanceof Om?l.context:void 0}}})}}var Ze={},$r={},Ur={},Vr={},Wr={},Br={},cj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=cj();const uj=ls.fetch,qy=ls.fetch.bind(ls),Hy=ls.Headers,dj=ls.Request,hj=ls.Response,ps=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hy,Request:dj,Response:hj,default:qy,fetch:uj},Symbol.toStringTag,{value:"Module"})),fj=dx(ps);var Ko={},Lm;function Ky(){if(Lm)return Ko;Lm=1,Object.defineProperty(Ko,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ko.default=n,Ko}var Dm;function Gy(){if(Dm)return Br;Dm=1;var n=Br&&Br.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Br,"__esModule",{value:!0});const e=n(fj),s=n(Ky());class i{constructor(l){var u,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,w,_;let E=null,j=null,T=null,L=g.status,O=g.statusText;if(g.ok){if(this.method!=="HEAD"){const B=await g.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?j=B:j=JSON.parse(B))}const D=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),F=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&F&&F.length>1&&(T=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(E={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,T=null,L=406,O="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const D=await g.text();try{E=JSON.parse(D),Array.isArray(E)&&g.status===404&&(j=[],E=null,L=200,O="OK")}catch{g.status===404&&D===""?(L=204,O="No Content"):E={message:D}}if(E&&this.isMaybeSingle&&(!((_=E?.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,L=200,O="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:j,count:T,status:L,statusText:O}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,v,w;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}}return Br.default=i,Br}var Mm;function Jy(){if(Mm)return Wr;Mm=1;var n=Wr&&Wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wr,"__esModule",{value:!0});const e=n(Gy());class s extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var y;const v=[a?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Wr.default=s,Wr}var Fm;function ld(){if(Fm)return Vr;Fm=1;var n=Vr&&Vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vr,"__esModule",{value:!0});const e=n(Jy());class s extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${p}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Vr.default=s,Vr}var $m;function Yy(){if($m)return Ur;$m=1;var n=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});const e=n(ld());class s{constructor(a,{headers:l={},schema:u,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(a,l){const{head:u=!1,count:h}=l??{},p=u?"HEAD":"GET";let g=!1;const y=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ur.default=s,Ur}var Um;function pj(){if(Um)return $r;Um=1;var n=$r&&$r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($r,"__esModule",{value:!0});const e=n(Yy()),s=n(ld());class i{constructor(l,{headers:u={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:p=!1,count:g}={}){var y;let v;const w=new URL(`${this.url}/rpc/${l}`);let _;h||p?(v=h?"HEAD":"GET",Object.entries(u).filter(([j,T])=>T!==void 0).map(([j,T])=>[j,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([j,T])=>{w.searchParams.append(j,T)})):(v="POST",_=u);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new s.default({method:v,url:w,headers:E,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return $r.default=i,$r}var Vm;function mj(){if(Vm)return Ze;Vm=1;var n=Ze&&Ze.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const e=n(pj());Ze.PostgrestClient=e.default;const s=n(Yy());Ze.PostgrestQueryBuilder=s.default;const i=n(ld());Ze.PostgrestFilterBuilder=i.default;const a=n(Jy());Ze.PostgrestTransformBuilder=a.default;const l=n(Gy());Ze.PostgrestBuilder=l.default;const u=n(Ky());return Ze.PostgrestError=u.default,Ze.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ze}var gj=mj();const yj=lg(gj),{PostgrestClient:vj,PostgrestQueryBuilder:aE,PostgrestFilterBuilder:lE,PostgrestTransformBuilder:cE,PostgrestBuilder:uE,PostgrestError:dE}=yj;class xj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wj="2.75.1",bj=`realtime-js/${wj}`,_j="1.0.0",fu=1e4,Sj=1e3,jj=100;var ui;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ui||(ui={}));var Ge;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ge||(Ge={}));var qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(qt||(qt={}));var pu;(function(n){n.websocket="websocket"})(pu||(pu={}));var sr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(sr||(sr={}));class kj{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const a=s.getUint8(1),l=s.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+a));u=u+a;const p=i.decode(e.slice(u,u+l));u=u+l;const g=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class Qy{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Se||(Se={}));const Wm=(n,e,s={})=>{var i;const a=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Tj(u,n,e,a),l),{}):{}},Tj=(n,e,s,i)=>{const a=e.find(h=>h.name===n),l=a?.type,u=s[n];return l&&!i.includes(l)?Xy(l,u):mu(u)},Xy=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Pj(e,s)}switch(n){case Se.bool:return Ej(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Cj(e);case Se.json:case Se.jsonb:return Nj(e);case Se.timestamp:return Aj(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return mu(e);default:return mu(e)}},mu=n=>n,Ej=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Cj=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Nj=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Pj=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const u=n.slice(1,s);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Xy(e,h))}return n},Aj=n=>typeof n=="string"?n.replace(" ","T"):n,Zy=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Lc{constructor(e,s,i={},a=fu){this.channel=e,this.event=s,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Bm||(Bm={}));class di{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=di.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=di.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,a){const l=this.cloneDeep(e),u=this.transformState(s),h={},p={};return this.map(l,(g,y)=>{u[g]||(p[g]=y)}),this.map(u,(g,y)=>{const v=l[g];if(v){const w=y.map(T=>T.presence_ref),_=v.map(T=>T.presence_ref),E=y.filter(T=>_.indexOf(T.presence_ref)<0),j=v.filter(T=>w.indexOf(T.presence_ref)<0);E.length>0&&(h[g]=E),j.length>0&&(p[g]=j)}else h[g]=y}),this.syncDiff(l,{joins:h,leaves:p},i,a)}static syncDiff(e,s,i,a){const{joins:l,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,p)=>{var g;const y=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),y.length>0){const v=e[h].map(_=>_.presence_ref),w=y.filter(_=>v.indexOf(_.presence_ref)<0);e[h].unshift(...w)}i(h,y,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const y=p.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),e[h]=g,a(h,g,p),g.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const a=e[i];return"metas"in a?s[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(zm||(zm={}));var hi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(hi||(hi={}));var cn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));class cd{constructor(e,s={config:{}},i){var a,l;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Lc(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new di(this),this.broadcastEndpointURL=Zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[hi.PRESENCE]&&this.bindings[hi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(cn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket.setAuth(),_===void 0){e?.(cn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,T=(E=j?.length)!==null&&E!==void 0?E:0,L=[];for(let O=0;O<T;O++){const R=j[O],{filter:{event:D,schema:F,table:B,filter:K}}=R,J=_&&_[O];if(J&&J.event===D&&J.schema===F&&J.table===B&&J.filter===K)L.push(Object.assign(Object.assign({},R),{id:J.id}));else{this.unsubscribe(),this.state=Ge.errored,e?.(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(cn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ge.errored,e?.(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Ge.joined&&e===hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,p;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Lc(this,qt.leave,{},e),i.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),u}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lc(this,e,s,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jj){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:y}=qt;if(i&&[h,p,g,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var E,j,T;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(j=_.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var E,j,T,L,O,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const D=_.id,F=(E=_.filter)===null||E===void 0?void 0:E.event;return D&&((j=s.ids)===null||j===void 0?void 0:j.includes(D))&&(F==="*"||F?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(O=(L=_?.filter)===null||L===void 0?void 0:L.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((R=s?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:j,table:T,commit_timestamp:L,type:O,errors:R}=E;w=Object.assign(Object.assign({},{schema:j,table:T,commit_timestamp:L,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(E))}_.callback(w,i)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const a=e.toLocaleLowerCase(),l={type:a,filter:s,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&cd.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Wm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Wm(e.columns,e.old_record)),s}}const Dc=()=>{},Go={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rj=[1e3,2e3,5e3,1e4],Oj=1e4,Ij=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lj{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fu,this.transport=null,this.heartbeatIntervalMs=Go.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dc,this.ref=0,this.reconnectTimer=null,this.logger=Dc,this.conn=null,this.sendBuffer=[],this.serializer=new kj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>fs(async()=>{const{default:h}=await Promise.resolve().then(()=>ps);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${pu.websocket}`,this.httpEndpoint=Zy(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_j}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return sr.Connecting;case ui.open:return sr.Open;case ui.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new cd(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${s} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Sj,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Go.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=s,h=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${i}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([Ij],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const a={access_token:s,version:bj};s&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Go.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,a,l,u,h,p,g,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:fu,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Go.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Dc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(v=>Rj[v-1]||Oj),this.encode=(g=e?.encode)!==null&&g!==void 0?g:((v,w)=>w(JSON.stringify(v))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ud extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Dj extends ud{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gu extends ud{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Mj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};const ev=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},Fj=()=>Mj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>ps),void 0)).Response:Response}),yu=n=>{if(Array.isArray(n))return n.map(s=>yu(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=yu(i)}),e},$j=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var hr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};const Mc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Uj=(n,e,s)=>hr(void 0,void 0,void 0,function*(){const i=yield Fj();n instanceof i&&!s?.noResolveJson?n.json().then(a=>{const l=n.status||500,u=a?.statusCode||l+"";e(new Dj(Mc(a),l,u))}).catch(a=>{e(new gu(Mc(a),a))}):e(new gu(Mc(n),n))}),Vj=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||!i?a:($j(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function Ni(n,e,s,i,a,l){return hr(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,Vj(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Uj(p,h,i))})})}function aa(n,e,s,i){return hr(this,void 0,void 0,function*(){return Ni(n,"GET",e,s,i)})}function Qt(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ni(n,"POST",e,i,a,s)})}function vu(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ni(n,"PUT",e,i,a,s)})}function Wj(n,e,s,i){return hr(this,void 0,void 0,function*(){return Ni(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function tv(n,e,s,i,a){return hr(this,void 0,void 0,function*(){return Ni(n,"DELETE",e,i,a,s)})}var Bj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};class zj{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Bj(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}var qj=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})},nv;class Hj{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[nv]="BlobDownloadBuilder",this.promise=null}asStream(){return new zj(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}nv=Symbol.toStringTag;var yt=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};const Kj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gj{constructor(e,s={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=ev(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,a){return yt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},qm),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),v=yield(e=="PUT"?vu:Qt)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}upload(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,a){return yt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:qm.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield vu(this.fetch,h.toString(),p,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Be(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,s){return yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const l=yield Qt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new ud("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}update(e,s,i){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}copy(e,s,i){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,i){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Qt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}download(e,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),p=()=>aa(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Hj(p,this.shouldThrowOnError)}info(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield aa(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:yu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}exists(e){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Wj(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i)&&i instanceof gu){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),a=[],l=s?.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const h=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return yt(this,void 0,void 0,function*(){try{return{data:yield tv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}list(e,s,i){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kj),s),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}listV2(e,s){return yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Jj="2.75.1",Yj={"X-Client-Info":`storage-js/${Jj}`};var zr=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};class Qj{constructor(e,s={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yj),s),this.fetch=ev(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}getBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}createBucket(e){return zr(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Be(a))return{data:null,error:a};throw a}})}updateBucket(e,s){return zr(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zr(this,void 0,void 0,function*(){try{return{data:yield tv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}})}}class Xj extends Qj{constructor(e,s={},i,a){super(e,s,i,a)}from(e){return new Gj(this.url,this.headers,e,this.fetch)}}const Zj="2.75.1";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const ek={"X-Client-Info":`supabase-js-${si}/${Zj}`},tk={headers:ek},nk={schema:"public"},rk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sk={};var ik=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};const ok=n=>{let e;return n?e=n:typeof fetch>"u"?e=qy:e=fetch,(...s)=>e(...s)},ak=()=>typeof Headers>"u"?Hy:Headers,lk=(n,e,s)=>{const i=ok(s),a=ak();return(l,u)=>ik(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:n;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},u),{headers:g}))})};var ck=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};function uk(n){return n.endsWith("/")?n:n+"/"}function dk(n,e){var s,i;const{db:a,auth:l,realtime:u,global:h}=n,{db:p,auth:g,realtime:y,global:v}=e,w={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(s=v?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>ck(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function hk(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rv="2.75.1",Yr=30*1e3,xu=3,Fc=xu*Yr,fk="http://localhost:9999",pk="supabase.auth.token",mk={"X-Client-Info":`gotrue-js/${rv}`},wu="X-Supabase-Api-Version",sv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yk=600*1e3;class _i extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function oe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class vk extends _i{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function xk(n){return oe(n)&&n.name==="AuthApiError"}class ir extends _i{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $n extends _i{constructor(e,s,i,a){super(e,i,a),this.name=s,this.status=i}}class On extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wk(n){return oe(n)&&n.name==="AuthSessionMissingError"}class qr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jo extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yo extends $n{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bk(n){return oe(n)&&n.name==="AuthImplicitGrantRedirectError"}class Hm extends $n{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bu extends $n{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function $c(n){return oe(n)&&n.name==="AuthRetryableFetchError"}class Km extends $n{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class _u extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gm=` 	
\r=`.split(""),_k=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Gm.length;e+=1)n[Gm[e].charCodeAt(0)]=-2;for(let e=0;e<la.length;e+=1)n[la[e].charCodeAt(0)]=e;return n})();function Jm(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(la[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(la[i]),e.queuedBits-=6}}function iv(n,e,s){const i=_k[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ym(n){const e=[],s=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{kk(u,i,s)};for(let u=0;u<n.length;u+=1)iv(n.charCodeAt(u),a,l);return e.join("")}function Sk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function jk(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Sk(i,e)}}function kk(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ss(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)iv(n.charCodeAt(a),s,i);return new Uint8Array(e)}function Tk(n){const e=[];return jk(n,s=>e.push(s)),new Uint8Array(e)}function lr(n){const e=[],s={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>Jm(a,s,i)),Jm(null,s,i),e.join("")}function Ek(n){return Math.round(Date.now()/1e3)+n}function Ck(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},ov=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function Nk(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return s.searchParams.forEach((i,a)=>{e[a]=i}),e}const av=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:i}=await Promise.resolve().then(()=>ps);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},Pk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},tr=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},An=async(n,e)=>{await n.removeItem(e)};class xa{constructor(){this.promise=new xa.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}xa.promiseConstructor=Promise;function Uc(n){const e=n.split(".");if(e.length!==3)throw new _u("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!gk.test(e[i]))throw new _u("JWT not in base64url format");return{header:JSON.parse(Ym(e[0])),payload:JSON.parse(Ym(e[1])),signature:ss(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ak(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Rk(n,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function Ok(n){return("0"+n.toString(16)).substr(-2)}function Ik(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,Ok).join("")}async function Lk(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Dk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Lk(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(n,e,s=!1){const i=Ik();let a=i;s&&(a+="/PASSWORD_RECOVERY"),await Qr(n,`${e}-code-verifier`,a);const l=await Dk(i);return[l,i===l?"plain":"s256"]}const Mk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fk(n){const e=n.headers.get(wu);if(!e||!e.match(Mk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $k(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Uk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kr(n){if(!Vk.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vc(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qm(n){return JSON.parse(JSON.stringify(n))}var Wk=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};const rr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Bk=[502,503,504];async function Xm(n){var e;if(!Pk(n))throw new bu(rr(n),0);if(Bk.includes(n.status))throw new bu(rr(n),n.status);let s;try{s=await n.json()}catch(l){throw new ir(rr(l),l)}let i;const a=Fk(n);if(a&&a.getTime()>=sv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Km(rr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new On}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Km(rr(s),n.status,s.weak_password.reasons);throw new vk(rr(s),n.status||500,i)}const zk=(n,e,s,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s))};async function ue(n,e,s,i){var a;const l=Object.assign({},i?.headers);l[wu]||(l[wu]=sv["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await qk(n,e,s+h,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function qk(n,e,s,i,a,l){const u=zk(e,i,a,l);let h;try{h=await n(s,Object.assign({},u))}catch(p){throw console.error(p),new bu(rr(p),0)}if(h.ok||await Xm(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await Xm(p)}}function Wt(n){var e;let s=null;Gk(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Ek(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function Zm(n){const e=Wt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function In(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Hk(n){return{data:n,error:null}}function Kk(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l}=n,u=Wk(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function eg(n){return n}function Gk(n){return n.access_token&&n.refresh_token&&n.expires_in}const Wc=["global","local","others"];var Jk=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class Yk{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=av(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Wc[0]){if(Wc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:In})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Jk(e,["options"]),a=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Kk,redirectTo:s?.redirectTo})}catch(s){if(oe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,a,l,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:eg});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);g[`${T}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Kr(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Kr(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:In})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Kr(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:In})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Kr(e.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:i}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Kr(e.userId),Kr(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,a,l,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:eg});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(E=>{const j=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);g[`${T}Page`]=j}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}}function tg(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Gr={debug:!!(globalThis&&ov()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Qk extends lv{}async function Xk(n,e,s){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Qk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Gr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Zk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function eT(n){return parseInt(n,16)}function tT(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function nT(n){var e;const{chainId:s,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:p,resources:g,scheme:y,uri:v,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=cv(n.address),E=y?`${y}://${i}`:i,j=n.statement?`${n.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${_}

${j}`;let L=`URI: ${v}
Version: ${w}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(L+=`
Expiration Time: ${a.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),p&&(L+=`
Request ID: ${p}`),g){let O=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}L+=O}return`${T}
${L}`}class We extends Error{constructor({message:e,code:s,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class ca extends We{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function rT({error:n,options:e}){var s,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(dv(u)){if(l.rp.id!==u)return new We({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function sT({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(dv(i)){if(s.rpId!==i)return new We({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var uv=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(s[i[a]]=n[i[a]]);return s};class iT{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const oT=new iT;function aT(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,a=uv(n,["challenge","user","excludeCredentials"]),l=ss(e).buffer,u=Object.assign(Object.assign({},s),{id:ss(s.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function lT(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=uv(n,["challenge","allowCredentials"]),a=ss(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const h=s[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ss(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function cT(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:lr(new Uint8Array(n.response.attestationObject)),clientDataJSON:lr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uT(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:lr(new Uint8Array(a.authenticatorData)),clientDataJSON:lr(new Uint8Array(a.clientDataJSON)),signature:lr(new Uint8Array(a.signature)),userHandle:a.userHandle?lr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ng(){var n,e;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dT(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",e)}:{data:null,error:new ca("Empty credential response",e)}}catch(e){return{data:null,error:rT({error:e,options:n})}}}async function hT(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",e)}:{data:null,error:new ca("Empty credential response",e)}}catch(e){return{data:null,error:sT({error:e,options:n})}}}const fT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},pT={userVerification:"preferred",hints:["security-key"]};function ua(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(s(u))i[l]=u;else if(e(u)){const h=i[l];e(h)?i[l]=ua(h,u):i[l]=ua(u)}else i[l]=u}return i}function mT(n,e){return ua(fT,n,e||{})}function gT(n,e){return ua(pT,n,e||{})}class yT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:a},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!u)return{data:null,error:h};const p=a??oT.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=mT(u.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await dT({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=gT(u.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await hT(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!s)return{data:null,error:new _i("rpId is required for WebAuthn authentication")};try{if(!ng())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!s)return{data:null,error:new _i("rpId is required for WebAuthn registration")};try{if(!ng())return{data:null,error:new ir("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new ir("Unexpected error in register",u)}}}}Zk();const vT={url:fk,storageKey:pk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rg(n,e,s){return await s()}const Jr={};class Si{get jwks(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{cachedAt:e})}constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Si.nextInstanceID,Si.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},vT),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=av(a.fetch),this.lock=a.lock||rg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:jt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Xk:this.lock=rg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yT(this)},this.persistSession?(a.storage?this.storage=a.storage:ov()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=tg(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Nk(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),jt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),bk(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return oe(s)?{error:s}:{error:new ir("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,a;try{const l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wt}),{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var s,i,a;try{let l;if("email"in e){const{email:y,password:v,options:w}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await Hr(this.storage,this.storageKey)),l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:E},xform:Wt})}else if("phone"in e){const{phone:y,password:v,options:w}=e;l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Wt})}else throw new Jo("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:u,options:h}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Zm})}else if("phone"in e){const{phone:l,password:u,options:h}=e;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Zm})}else throw new Jo("You must provide either an email or phone number and a password");const{data:i,error:a}=s;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,a,l,u,h,p,g,y,v,w;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:j,wallet:T,statement:L,options:O}=e;let R;if(jt())if(typeof T=="object")R=T;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")R=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const D=new URL((s=O?.url)!==null&&s!==void 0?s:window.location.href),F=await R.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=cv(F[0]);let K=(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!K){const le=await R.request({method:"eth_chainId"});K=eT(le)}const J={domain:D.host,address:B,statement:L,uri:D.href,version:"1",chainId:K,nonce:(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=nT(J),E=await R.request({method:"personal_sign",params:[tT(_),B]})}try{const{data:j,error:T}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Wt});if(T)throw T;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new qr}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:T})}catch(j){if(oe(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var s,i,a,l,u,h,p,g,y,v,w,_;let E,j;if("message"in e)E=e.message,j=e.signature;else{const{chain:T,wallet:L,statement:O,options:R}=e;let D;if(jt())if(typeof L=="object")D=L;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))D=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=L}const F=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const B=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),O?{statement:O}:null));let K;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")K=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)K=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)E=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),j=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${F.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(a=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const B=await D.signMessage(new TextEncoder().encode(E),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=B}}try{const{data:T,error:L}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:lr(j)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Wt});if(L)throw L;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new qr}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:L})}catch(T){if(oe(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(s??"").split("/");try{const{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Wt});if(await An(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new qr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(oe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:s,provider:i,token:a,access_token:l,nonce:u}=e,h=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Wt}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new qr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,a,l,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Hr(this.storage,this.storageKey));const{error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:y}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new Jo("You must provide either an email or phone number.")}catch(h){if(oe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var s,i;try{let a,l;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Wt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var s,i,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Hr(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Hk})}catch(l){if(oe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new On;const{error:a}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:h}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new Jo("You must provide either an email or phone number and a type")}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Fc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await tr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Vc()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async s=>{var i,a,l;const{data:u,error:h}=s;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:In})})}catch(s){if(oe(s))return wk(s)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new On;const u=a.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Hr(this.storage,this.storageKey));const{data:g,error:y}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:In});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const s=Date.now()/1e3;let i=s,a=!0,l=null;const{payload:u}=Uc(e.access_token);if(u.exp&&(i=u.exp,a=i<=s),a){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(oe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:u,error:h}=s;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new On;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!jt())throw new Yo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hm("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!l||!h||!u||!g)throw new Yo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let w=y+v;p&&(w=parseInt(p));const _=w-y;_*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const E=w-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:j,error:T}=await this._getUser(l);if(T)throw T;const L={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:g,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(i){if(oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{error:l};const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(xk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ck(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,a;try{const{data:{session:l},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Hr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(oe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:a}=await this._useSession(async l=>{var u,h,p,g,y;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return jt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(oe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:u,provider:h,token:p,access_token:g,nonce:y}=e,v=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Wt}),{data:w,error:_}=v;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new qr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:u}=s;if(u)throw u;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Rk(async a=>(a>0&&await Ak(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wt})),(a,l)=>{const u=200*Math.pow(2,a);return l&&$c(l)&&Date.now()+u-i<Yr})}catch(i){if(this._debug(s,"error",i),oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),jt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await tr(this.storage,this.storageKey);if(a&&this.userStorage){let u=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Qr(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:Vc()}else if(a&&!a.user&&!a.user){const u=await tr(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await An(this.storage,this.storageKey+"-user"),await Qr(this.storage,this.storageKey,a)):a.user=Vc()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Fc;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Fc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),$c(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new xa;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new On;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),oe(l)){const u={data:null,error:l};return $c(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Qr(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=Qm(a);await Qr(this.storage,this.storageKey,l)}else{const a=Qm(s);await Qr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yr}ms, refresh threshold is ${xu} ticks`),a<=xu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const a=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Hr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;return l?{data:null,error:l}:await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cT(e.webauthn.credential_response):uT(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(s){if(oe(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const u=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:aT(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:lT(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(oe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Uc(a.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+yk>a)return i;const{data:l,error:u}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};i=_.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:p}}=Uc(i);s?.allowExpired||$k(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:u},error:null}}const y=Uk(a.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,Tk(`${h}.${p}`)))throw new _u("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}}Si.nextInstanceID=0;const xT=Si;class wT extends xT{constructor(e){super(e)}}var bT=function(n,e,s,i){function a(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function h(y){try{g(i.next(y))}catch(v){u(v)}}function p(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):a(y.value).then(h,p)}g((i=i.apply(n,e||[])).next())})};class _T{constructor(e,s,i){var a,l,u;this.supabaseUrl=e,this.supabaseKey=s;const h=hk(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:nk,realtime:sk,auth:Object.assign(Object.assign({},rk),{storageKey:p}),global:tk},y=dk(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=lk(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new vj(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Xj(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new lj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return bT(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:u,flowType:h,lock:p,debug:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wT({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:a,userStorage:l,flowType:h,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Lj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ST=(n,e,s)=>new _T(n,e,s);function jT(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const is={},kT=is?.VITE_SUPABASE_URL||is?.VITE_PUBLIC_SUPABASE_URL||is?.NEXT_PUBLIC_SUPABASE_URL,TT=is?.VITE_SUPABASE_ANON_KEY||is?.VITE_PUBLIC_SUPABASE_ANON_KEY||is?.NEXT_PUBLIC_SUPABASE_ANON_KEY,Ln=ST(kT,TT),ET=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ln},Symbol.toStringTag,{value:"Module"})),CT={};async function NT(n){const{contractText:e,fileName:s="contract.pdf",htmlOverride:i,metadata:a={version:"1.0.0"}}=n,l=CT?.VITE_API_BASE_URL,u=l?`${l.replace(/\/$/,"")}/api/export`:"/api/export",h=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contract_text:e,format:"pdf",html:i,metadata:a})});if(!h.ok){let v="Export failed";try{v=(await h.json())?.message||v}catch{}throw new Error(v)}const p=await h.blob(),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=s,document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(g)}function PT(n){const[e,s]=P.useState(n);return P.useEffect(()=>{if(e<=0)return;const i=setInterval(()=>{s(a=>Math.max(0,a-1))},1e3);return()=>clearInterval(i)},[e]),e}function AT({contractText:n,onClose:e}){const[s,i]=P.useState(!1),[a,l]=P.useState(null),u=async()=>{i(!0);try{const g=await bi.review({contract_text:n});l(g)}catch(g){qe(g.message||"Review failed","error")}finally{i(!1)}},h={low:"text-accent",medium:"text-yellow-600",high:"text-destructive"},p={low:ma,medium:ga,high:wS};return d.jsx(Ei,{children:d.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:e,children:d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"linear"},onClick:g=>g.stopPropagation(),className:"bg-card border border-border max-w-3xl w-full max-h-[80vh] overflow-auto",children:[d.jsx("div",{className:"p-6 lg:p-8 border-b border-border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Compliance Scanner"}),d.jsx("h2",{className:"text-[1.5rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Contract Review"})]}),d.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M5 5L15 15M5 15L15 5",strokeWidth:"1.5",strokeLinecap:"square"})})})]})}),d.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&!s&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Analyze contract for compliance issues and risk factors"}),d.jsx("button",{onClick:u,className:"px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Start Review"})]}),s&&d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(wi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}),a&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"border-l-2 border-accent pl-4",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Overall Risk Level"}),d.jsx("p",{className:`text-[1.25rem] uppercase tracking-wider ${h[a.overall_risk]}`,style:{fontWeight:600},children:a.overall_risk})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Summary"}),d.jsx("p",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:a.summary})]}),a.red_flags.length>0&&d.jsxs("div",{children:[d.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["Issues Detected (",a.red_flags.length,")"]}),d.jsx("div",{className:"space-y-3",children:a.red_flags.map((g,y)=>{const v=p[g.severity];return d.jsx("div",{className:"border border-border p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(v,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${h[g.severity]}`,strokeWidth:1.5}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:g.clause}),d.jsx("p",{className:"text-[0.875rem] mb-2",style:{fontWeight:500},children:g.issue}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:g.suggestion})]})]})},y)})})]})]})]})]})})})}function RT({templateId:n,jurisdiction:e,onBack:s}){const[i,a]=P.useState(null),[l,u]=P.useState(!0),[h,p]=P.useState(!1),[g,y]=P.useState(!1),[v,w]=P.useState(!1),[_,E]=P.useState(!1),[j,T]=P.useState(!1),[L,O]=P.useState({}),[R,D]=P.useState(""),[F,B]=P.useState(0),[K,J]=P.useState(!1),le=PT(F);P.useEffect(()=>{async function M(){try{const{template:te}=await bi.getTemplate(n,e);a(te);const je={};te.inputs.forEach(H=>{H.type==="date"?je[H.key]=new Date().toISOString().split("T")[0]:je[H.key]=""}),O(je)}catch(te){qe(te.message||"Failed to load template","error"),s()}finally{u(!1)}}M()},[n,s]);const me=(M,te)=>{O(je=>({...je,[M]:te}))},Me=async()=>{if(!i)return;console.log("🔍 Filter debug:",{array:i?.inputs,arrayType:typeof i?.inputs,isArray:Array.isArray(i?.inputs),location:"ContractEditorView handleGenerate"});const M=(i.inputs||[]).filter(te=>te&&te.required&&!L[te.key]).map(te=>te.label);if(M.length>0){qe(`Required fields missing: ${M.join(", ")}`,"error");return}try{const{data:te}=await Ln.auth.getSession();if(!te.session?.access_token){const H=new Date,U=`${H.getFullYear()}-${H.getMonth()+1}`,Y="symi_free_gen",G=localStorage.getItem(Y);let C={month:U,count:0};if(G)try{C=JSON.parse(G)}catch{}if(C.month!==U&&(C={month:U,count:0}),C.count>=10){T(!0);return}C.count+=1,localStorage.setItem(Y,JSON.stringify(C))}}catch{}p(!0);try{const te=await bi.generate({contract_id:n,user_inputs:L,lawyer_mode:!1});D(te.generated_text),qe("Contract generated successfully","success")}catch(te){te.code==="RATE_LIMIT"?(B(te.retryInSec||60),qe(`Rate limit exceeded. Retry in ${te.retryInSec}s`,"error")):te.code==="LIMIT_REACHED"?(w(!1),E(!1),T(!0)):qe(te.message||"Generation failed","error")}finally{p(!1)}},Je=async M=>{if(!R){qe("No contract to export","error");return}y(!0);try{if(M==="pdf"){w(!0),y(!1);return}qe(`Contract exported as ${M.toUpperCase()}`,"success")}catch(te){qe(te.message||"Export failed","error")}finally{}},Ie=async()=>{if(_){y(!0);try{await NT({contractText:R,fileName:"contrat.pdf",metadata:{version:i?.metadata.version,date:new Date().toISOString().split("T")[0]}}),qe("Contract exported as PDF","success"),w(!1),E(!1)}catch(M){qe(M.message||"Export failed","error")}finally{y(!1)}}};return l||!i?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsx(wi,{className:"w-6 h-6 animate-spin text-accent",strokeWidth:1.5})}):d.jsxs("div",{className:"min-h-screen pt-16",children:[d.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-8",children:[d.jsxs("button",{onClick:s,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(id,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Return to Template Library"})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${h?"bg-accent animate-pulse":"bg-system-standby"}`}),d.jsxs("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["SYNTHESIS MODULE / ",n.toUpperCase()]})]}),d.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:i.metadata.title}),d.jsxs("p",{className:"text-[0.75rem] text-muted-foreground mt-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[i.metadata.jurisdiction," • v",i.metadata.version]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:Me,disabled:h||le>0,className:"flex items-center gap-2 px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:h?d.jsxs(d.Fragment,{children:[d.jsx(wi,{className:"w-3.5 h-3.5 animate-spin",strokeWidth:1.5}),"Génération"]}):le>0?d.jsxs(d.Fragment,{children:[d.jsx(ga,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Réessayer ",le,"s"]}):d.jsxs(d.Fragment,{children:[d.jsx(BS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Générer"]})}),R&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[d.jsx(zy,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Analyser"]}),d.jsxs("button",{onClick:()=>Je("pdf"),disabled:g,className:"flex items-center gap-2 px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em] disabled:opacity-50",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[d.jsx(jS,{className:"w-3.5 h-3.5",strokeWidth:1.5}),"Télécharger PDF"]})]})]})]})]}),d.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.15,ease:"linear"},className:"grid grid-cols-1 lg:grid-cols-2 gap-px bg-border",children:[d.jsx("div",{className:"bg-card p-6 lg:p-8 space-y-8",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Input Parameters"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent"}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"ACTIVE"})]})]}),d.jsx("div",{className:"space-y-5",children:i.inputs.map(M=>d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:[M.label,M.required&&d.jsx("span",{className:"text-accent ml-1",children:"*"})]}),M.type==="textarea"?d.jsx("textarea",{value:L[M.key]||"",onChange:te=>me(M.key,te.target.value),rows:4,className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none",style:{fontFamily:"var(--font-mono)",fontWeight:400}}):M.type==="select"?d.jsx("select",{value:L[M.key]||"",onChange:te=>me(M.key,te.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:d.jsx("option",{value:"",children:"Select..."})}):d.jsx("input",{type:M.type,value:L[M.key]||"",onChange:te=>me(M.key,te.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:400}})]},M.key))})]})}),d.jsxs("div",{className:"bg-card p-6 lg:p-8 overflow-auto max-h-[calc(100vh-200px)] sticky top-20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Output Preview"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`h-px w-8 ${R?"bg-accent":"bg-border"}`}),d.jsx("span",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:R?"READY":"STANDBY"})]})]}),R?d.jsx("div",{className:"prose prose-sm max-w-none",children:d.jsx("div",{className:"text-[0.875rem] whitespace-pre-wrap",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:R})}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Remplissez les paramètres et cliquez sur Générer"})})]})]})]}),K&&R&&d.jsx(AT,{contractText:R,onClose:()=>J(!1)}),v&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-lg",children:[d.jsx("h3",{className:"text-[1.125rem] mb-3",style:{fontWeight:600},children:"Conditions d'utilisation du document"}),d.jsxs("div",{className:"space-y-3 text-[0. NineTwoFiverem]",style:{lineHeight:1.6},children:[d.jsx("p",{children:"Ce document est généré automatiquement par intelligence artificielle et fourni à titre informatif uniquement."}),d.jsx("p",{children:"Il ne remplace pas l'avis personnalisé d'un avocat et n'a pas de valeur juridique sans validation par un professionnel du droit."}),d.jsx("p",{children:"Symione décline toute responsabilité en cas de litige découlant de l'utilisation de ce document sans consultation juridique préalable."}),d.jsx("p",{children:"Pour une situation à enjeu important, nous recommandons de faire valider ce document par un avocat."})]}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("label",{className:"flex items-center gap-2 text-[0.875rem]",children:[d.jsx("input",{type:"checkbox",checked:_,onChange:M=>E(M.target.checked)}),"J'ai lu et j'accepte ces conditions d'utilisation"]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>{w(!1),E(!1)},className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:Ie,disabled:!_||g,className:"px-4 py-2 bg-accent text-accent-foreground disabled:opacity-50",children:"Télécharger le contrat PDF"})]})]})]})}),j&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-card border border-border p-6 w-full max-w-md",children:[d.jsx("h3",{className:"text-[1.125rem] mb-2",style:{fontWeight:600},children:"Limite gratuite atteinte"}),d.jsx("p",{className:"text-[0. NineTwoFiverem] text-muted-foreground",style:{lineHeight:1.6},children:"Vous avez généré 2 contrats ce mois. Passez au Plan Pro pour débloquer 20 contrats/mois."}),d.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border border-border",children:"Annuler"}),d.jsx("button",{onClick:async()=>{try{const te=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:"pro"})})).json();te?.url?window.location.href=te.url:window.location.href="/prix"}catch{window.location.href="/prix"}},className:"px-4 py-2 bg-accent text-accent-foreground",children:"Passer au Plan Pro (149€/mois)"})]})]})})]})}var OT={};class IT{baseURL;maxRetries=3;retryDelay=1e3;requestTimeout=3e4;constructor(e){this.baseURL=e}async sleep(e){return new Promise(s=>setTimeout(s,e))}createAbortController(){return new AbortController}async request(e,s={},i=this.maxRetries){const a=`${this.baseURL}${e}`,l=this.createAbortController(),u=setTimeout(()=>l.abort(),this.requestTimeout);try{const h=await fetch(a,{...s,signal:l.signal,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...s.headers},mode:"cors",credentials:"omit"});if(clearTimeout(u),!h.ok){let g={};try{h.headers.get("content-type")?.includes("application/json")?g=await h.json():g={message:await h.text()}}catch{g={message:`HTTP ${h.status}`}}if(h.status===429){const y=h.headers.get("Retry-After");throw new hv(g.message||"Rate limit exceeded",y?parseInt(y):60)}throw h.status>=500?new sg(g.message||"Server error",h.status,g.code):new cs(g.message||`HTTP ${h.status}`,h.status,g.code)}return h.headers.get("content-type")?.includes("application/json")?await h.json():await h.text()}catch(h){if(clearTimeout(u),h instanceof Error&&h.name==="AbortError")throw new ig("Request timeout");if(i>0&&this.isRetryableError(h))return await this.sleep(this.retryDelay*(this.maxRetries-i+1)),this.request(e,s,i-1);throw h}}isRetryableError(e){return e instanceof ig||e instanceof sg||!e.status||e.status>=500}async get(e,s){const i=s?`${e}?${new URLSearchParams(s).toString()}`:e;return this.request(i,{method:"GET"})}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async patch(e,s){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0})}}class cs extends Error{constructor(e,s,i){super(e),this.status=s,this.code=i,this.name="APIError"}}class hv extends cs{constructor(e,s){super(e,429,"RATE_LIMIT_EXCEEDED"),this.retryAfter=s,this.name="RateLimitError"}}class sg extends cs{constructor(e,s,i){super(e,s,i),this.name="ServerError"}}class ig extends Error{constructor(e){super(e),this.name="TimeoutError"}}const Bt=new IT(OT.NEXT_PUBLIC_API_URL||"https://symilegalback.vercel.app/api");function og(n,e=[],s={}){const{immediate:i=!0,retryOnError:a=!1,retryDelay:l=1e3,maxRetries:u=3}=s,[h,p]=P.useState(null),[g,y]=P.useState(i),[v,w]=P.useState(null),[_,E]=P.useState(0),j=P.useRef(null),T=P.useRef(null),L=P.useCallback(async(D=!1)=>{j.current&&j.current.abort(),j.current=new AbortController,D||(y(!0),w(null));try{const F=await n();if(j.current?.signal.aborted)return;p(F),w(null),E(0)}catch(F){if(j.current?.signal.aborted)return;const B=F instanceof Error?F:new Error("Unknown error");if(w(B),a&&_<u){const K=_+1;E(K),T.current=setTimeout(()=>{L(!0)},l*K)}console.error("API Error:",B)}finally{D||y(!1)}},[n,_,a,l,u]),O=P.useCallback(async()=>{E(0),await L()},[L]),R=P.useCallback(()=>{j.current&&j.current.abort(),T.current&&clearTimeout(T.current),y(!1)},[]);return P.useEffect(()=>(i&&L(),()=>{j.current&&j.current.abort(),T.current&&clearTimeout(T.current)}),e),{data:h,loading:g,error:v,refetch:()=>L(),retry:O,cancel:R}}const ni={getTemplates:()=>Bt.get("/contracts/templates"),getQuestions:n=>Bt.get(n?`/contracts/questions?id=${encodeURIComponent(n)}`:"/contracts/questions"),suggest:n=>Bt.post("/contracts/suggest",n),create:n=>Bt.post("/contracts/create",n),getContracts:()=>Bt.get("/escrow/contracts"),getContract:n=>Bt.get(`/escrow/contracts/${n}`),createPaymentIntent:n=>Bt.post("/escrow/intent/create",n),intentCreate:n=>Bt.post("/escrow/intent/create",n),submitMilestone:n=>Bt.post("/escrow/milestone/submit",n),validateMilestone:n=>Bt.post("/escrow/milestone/validate",n)},LT={analyze:n=>Bt.post("/conseiller/analyze",n)};function fv({size:n="md",className:e=""}){const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return d.jsx(wi,{className:`animate-spin ${s[n]} ${e}`,strokeWidth:1.5})}function ag({message:n="Chargement...",className:e=""}){return d.jsx("div",{className:`bg-card border border-border rounded-lg p-8 ${e}`,children:d.jsxs("div",{className:"text-center",children:[d.jsx(fv,{size:"md",className:"mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:n})]})})}function ta({loading:n,children:e,className:s="",disabled:i=!1,onClick:a,type:l="button"}){return d.jsxs("button",{type:l,onClick:a,disabled:i||n,className:`
        px-6 py-3 rounded-lg transition-all duration-200 flex items-center justify-center gap-2
        ${n||i?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${s}
      `,children:[n&&d.jsx(fv,{size:"sm"}),e]})}function Su(n=!1){const[e,s]=Fr.useState(n),[i,a]=Fr.useState(null),l=Fr.useCallback(()=>{s(!0),a(null)},[]),u=Fr.useCallback(()=>{s(!1)},[]),h=Fr.useCallback(g=>{a(g),s(!1)},[]),p=Fr.useCallback(()=>{s(!1),a(null)},[]);return{loading:e,error:i,startLoading:l,stopLoading:u,setErrorState:h,reset:p}}class dd extends P.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s}),this.props.onError?.(e,s)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto p-8 text-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx(ga,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Une erreur s'est produite"}),d.jsx("p",{className:"text-muted-foreground",children:"Désolé, quelque chose s'est mal passé. Veuillez réessayer."})]}),!1,d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsxs("button",{onClick:this.handleRetry,className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors flex items-center gap-2",children:[d.jsx(FS,{className:"w-4 h-4"}),"Réessayer"]}),d.jsxs("button",{onClick:this.handleGoHome,className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors flex items-center gap-2",children:[d.jsx(CS,{className:"w-4 h-4"}),"Accueil"]})]})]})}):this.props.children}}const DT=`Bonjour, je suis votre assistant juridique intelligent.

Je fournis des informations générales et des recommandations basées sur votre situation, mais je ne remplace pas un avocat.

Pour toute situation complexe, à fort enjeu, ou nécessitant une action en justice, je vous recommanderai de consulter un professionnel du droit.

Comment puis-je vous aider aujourd'hui?`;function MT({onBack:n}){const[e,s]=P.useState(""),[i,a]=P.useState(""),[l,u]=P.useState(""),[h,p]=P.useState(""),[g,y]=P.useState(""),[v,w]=P.useState(null),[_,E]=P.useState([]),[j,T]=P.useState(""),{loading:L,error:O,startLoading:R,stopLoading:D,setErrorState:F}=Su(),B=async()=>{if(!e||e.trim().length<50){qe("Veuillez décrire votre situation en détail (min 50 caractères)","error");return}try{R(),w(null);const M=await LT.analyze({problem:e,city:i,situationType:l,urgence:h,hasProofs:g});w(M),E(te=>[...te,{id:`u-${Date.now()}`,role:"user",content:e},{id:`a-${Date.now()}`,role:"assistant",content:`Analyse complétée pour ${i||"votre zone"}.`}]),qe("Analyse terminée avec succès","success")}catch(M){console.error("Analysis error:",M),M instanceof hv?qe(`Limite de taux atteinte. Réessayez dans ${M.retryAfter} secondes.`,"error"):M instanceof cs?qe(M.message,"error"):qe("Erreur lors de l'analyse. Veuillez réessayer.","error"),F(M instanceof Error?M.message:"Erreur inconnue")}finally{D()}},K=()=>{j.trim()&&(E(M=>[...M,{id:`u-${Date.now()}`,role:"user",content:j},{id:`a-${Date.now()}`,role:"assistant",content:"Réponse contextuelle (bientôt disponible)."}]),T(""))},[J,le]=P.useState(""),[me,Me]=P.useState([]),[Je,Ie]=P.useState(!1);return d.jsx(dd,{children:d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-2 mb-8 text-muted-foreground hover:text-foreground transition-colors duration-200 group",children:[d.jsx(id,{className:"w-3.5 h-3.5 group-hover:-translate-x-0.5 transition-transform duration-200",strokeWidth:1.5}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Retour"})]}),d.jsxs("div",{className:"pb-6 border-b border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"MODULE CONSEIL / ASSISTANCE"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Conseiller juridique"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[d.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-900 p-4",style:{whiteSpace:"pre-wrap",lineHeight:1.6},children:DT}),d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"bg-card border border-border p-6 lg:p-8",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg font-bold mb-4 text-foreground",children:"Pour une recommandation précise:"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Type de situation juridique:"}),d.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[d.jsx("option",{value:"",children:"Sélectionnez..."}),d.jsx("option",{value:"voisinage",children:"Litige avec voisin (bruit, empiètement, etc.)"}),d.jsx("option",{value:"travail",children:"Problème employeur/salarié (licenciement, harcèlement, etc.)"}),d.jsx("option",{value:"commercial",children:"Contrat commercial (prestation, vente, etc.)"}),d.jsx("option",{value:"immobilier",children:"Immobilier (achat, location, travaux)"}),d.jsx("option",{value:"famille",children:"Famille (divorce, garde d'enfants, succession)"}),d.jsx("option",{value:"consommation",children:"Litige consommation (achat défectueux, SAV)"}),d.jsx("option",{value:"autre",children:"Autre"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Niveau d'urgence:"}),d.jsxs("select",{value:h,onChange:M=>p(M.target.value),className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem]",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:[d.jsx("option",{value:"",children:"Sélectionnez..."}),d.jsx("option",{value:"tres_urgent",children:"Très urgent (action dans les 48h)"}),d.jsx("option",{value:"urgent",children:"Urgent (action cette semaine)"}),d.jsx("option",{value:"moyen",children:"Moyen (action ce mois-ci)"}),d.jsx("option",{value:"pas_urgent",children:"Pas urgent (information préventive)"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Avez-vous des preuves/documents?"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"oui",checked:g==="oui",onChange:M=>y(M.target.value),className:"mr-2"}),d.jsx("span",{className:"text-sm text-foreground",children:"Oui, j'ai des preuves"})]}),d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"radio",value:"non",checked:g==="non",onChange:M=>y(M.target.value),className:"mr-2"}),d.jsx("span",{className:"text-sm text-foreground",children:"Non, pas de preuves"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Décrivez votre situation en détail"}),d.jsx("textarea",{value:e,onChange:M=>s(M.target.value),rows:8,placeholder:"Contexte, enjeux, dates clés, actions déjà réalisées",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] resize-none placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ville (pour recommandation avocat)"}),d.jsx("input",{value:i,onChange:M=>a(M.target.value),placeholder:"Paris",className:"w-full px-3 py-2.5 bg-input-background border border-border focus-precision transition-all duration-200 text-[0.875rem] placeholder:text-muted-foreground/50",style:{fontFamily:"var(--font-mono)",fontWeight:300}})]}),d.jsx(ta,{loading:L,onClick:B,disabled:!e.trim(),className:"w-full px-6 py-3 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:L?"Analyse en cours...":"Analyser ma situation"}),d.jsx("p",{className:"text-[0.625rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300,lineHeight:1.5},children:"Réponse en moins de 30 secondes • Service confidentiel"}),O&&d.jsx("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xi,{className:"w-4 h-4 text-destructive"}),d.jsx("p",{className:"text-sm text-destructive",children:O})]})})]})}),v&&d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"space-y-6",children:[d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Analyse de votre situation"}),d.jsx("p",{className:"text-[0.875rem] mb-4",style:{lineHeight:1.6},children:v.audit.summary}),Array.isArray(v.audit.risks)&&v.audit.risks.length>0&&d.jsxs("div",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:[d.jsx("div",{className:"mb-1",style:{fontWeight:600},children:"Points d'attention:"}),d.jsx("ul",{className:"list-disc pl-5",children:v.audit.risks.map((M,te)=>d.jsx("li",{children:M},te))})]}),d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)"},children:[d.jsxs("span",{children:["Urgence: ",v.audit.urgency]})," • ",d.jsxs("span",{children:["Complexité: ",v.audit.complexity]})]})]}),v.recommendedTemplate&&d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-2",style:{fontWeight:600},children:"Modèle recommandé"}),d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:v.recommendedTemplate.name}),v.recommendedTemplate.reason&&d.jsx("p",{className:"text-[0.875rem] mt-1 text-muted-foreground",children:v.recommendedTemplate.reason}),d.jsx("div",{className:"mt-2",children:v.recommendedTemplate.available?d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),v.recommendedTemplate.slug&&d.jsx("button",{className:"mt-4 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${v.recommendedTemplate.slug}`,children:"Utiliser ce modèle →"}),v.needsLawyer&&d.jsxs("div",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:["⚠️ ",d.jsx("strong",{children:"Attention:"})," Votre situation est complexe. Nous recommandons aussi de consulter un avocat."]})]}),v.needsLawyer&&Array.isArray(v.recommendedLawyers)&&v.recommendedLawyers.length>0&&d.jsxs("div",{className:"bg-card border border-border p-6 lg:p-8",children:[d.jsx("h2",{className:"text-[1.25rem] mb-4",style:{fontWeight:600},children:"Avocats recommandés"}),!v.recommendedTemplate&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-3",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),d.jsx("div",{className:"space-y-3",children:v.recommendedLawyers.map((M,te)=>d.jsxs("div",{className:"border border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:M.name}),typeof M.rating=="number"&&d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[M.rating,"/5"]})]}),d.jsx("div",{className:"text-[0.875rem] text-muted-foreground mt-1",children:[M.specialty,M.city,M.firm].filter(Boolean).join(" • ")}),M.phone&&d.jsx("a",{href:`tel:${M.phone}`,className:"text-[0.75rem] mt-2 inline-block underline",children:"Contacter"})]},te))})]}),d.jsxs("div",{className:"border border-border p-4 text-[0.875rem] bg-accent/5",children:[d.jsx("span",{className:"mr-2",children:"💡"}),"Créez un compte gratuit pour sauvegarder vos consultations et générer des contrats personnalisés.",d.jsx("button",{onClick:()=>window.location.href="/login",className:"ml-3 underline",children:"Créer un compte"})]})]})]}),d.jsx("div",{className:"lg:col-span-7",children:d.jsxs("div",{className:"bg-card border border-border p-4 lg:p-6 min-h-[520px] flex flex-col gap-4",children:[!v&&!L&&d.jsx("div",{className:"text-center text-[0.875rem] text-muted-foreground py-16",children:"Décrivez votre situation à gauche pour recevoir une analyse juridique détaillée"}),L&&d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"120ms"}}),d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-muted-foreground animate-bounce",style:{animationDelay:"240ms"}})]}),v&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border border-border p-4",children:[d.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📋 Analyse de votre situation"}),d.jsxs("p",{className:"text-[0.875rem] mb-2",children:[d.jsx("strong",{children:"Résumé:"})," ",v.audit.summary]}),Array.isArray(v.audit.risks)&&v.audit.risks.length>0&&d.jsxs("div",{className:"text-[0.875rem] mb-2",children:[d.jsx("strong",{children:"Points d'attention:"}),d.jsx("ul",{className:"list-disc pl-5",children:v.audit.risks.map((M,te)=>d.jsx("li",{children:M},te))})]}),d.jsxs("div",{className:"flex items-center gap-3 text-[0.75rem] text-muted-foreground",children:[d.jsxs("span",{children:["Urgence: ",v.audit.urgency]}),d.jsx("span",{children:"•"}),d.jsxs("span",{children:["Complexité: ",v.audit.complexity]})]})]}),v.recommendedTemplate&&d.jsxs("div",{className:"border border-border p-4",children:[d.jsx("h4",{className:"text-[0.95rem] mb-2",children:"📄 Template recommandé"}),d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:v.recommendedTemplate.name}),v.recommendedTemplate.reason&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-1",children:v.recommendedTemplate.reason}),d.jsx("div",{className:"mt-2",children:v.recommendedTemplate.available?d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-green-50 text-green-800 border border-green-200",children:"✓ Disponible gratuitement"}):d.jsx("span",{className:"px-2 py-1 text-[0.75rem] bg-amber-50 text-amber-800 border border-amber-200",children:"⭐ Plan Pro requis"})}),v.recommendedTemplate.slug&&d.jsx("button",{className:"mt-3 px-4 py-2 border border-border",onClick:()=>window.location.href=`/contracts/${v.recommendedTemplate.slug}`,children:"Utiliser ce template →"}),v.needsLawyer&&d.jsx("p",{className:"mt-3 text-[0.875rem] text-amber-800 bg-amber-50 border border-amber-200 p-3",children:"⚠️ Situation complexe: nous recommandons aussi de consulter un avocat"})]}),Array.isArray(v.recommendedLawyers)&&v.recommendedLawyers.length>0&&d.jsxs("div",{className:"border border-border p-4",children:[d.jsxs("h4",{className:"text-[0.95rem] mb-2",children:["⚖️ Avocats recommandés ",i?`à ${i}`:""]}),!v.recommendedTemplate&&d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-2",children:"Ce cas nécessite l'expertise d'un avocat spécialisé. Aucun template standard ne correspond à votre situation."}),d.jsx("div",{className:"space-y-3",children:v.recommendedLawyers.map((M,te)=>d.jsxs("div",{className:"border border-border p-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[1rem]",style:{fontWeight:600},children:M.name}),typeof M.rating=="number"&&d.jsxs("div",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:[M.rating,"/5"]})]}),d.jsx("div",{className:"text-[0.875rem] text-muted-foreground",children:[M.specialty,M.city,M.firm].filter(Boolean).join(" • ")}),M.phone&&d.jsx("a",{href:`tel:${M.phone}`,className:"underline text-[0.8125rem] mt-1 inline-block",children:"Contacter"})]},te))})]}),_.map(M=>d.jsx("div",{className:`p-3 border ${M.role==="assistant"?"bg-accent/5 border-accent/20":"bg-card border-border"}`,children:M.content},M.id)),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"Question complémentaire...",value:j,onChange:M=>T(M.target.value),onKeyPress:M=>M.key==="Enter"&&K(),className:"flex-1 px-3 py-2 bg-input-background border border-border",style:{fontFamily:"var(--font-mono)"}}),d.jsx("button",{onClick:K,className:"px-4 py-2 border border-border",children:"→"})]})]})]})})]})]})})})}const FT=[{id:"pro",name:"Pro",price:"149",period:"/ mois",description:"Pour freelances, PME et consultants qui veulent une équipe juridique à portée de main",features:["20 contrats par mois","Accès bibliothèque complète (50+ modèles)","Conseiller IA (chat + vocal)","Export PDF & DOCX","Révisions illimitées","Support prioritaire (< 24h)"],icon:By,iconText:"Assistant IA quotidien, simple et efficace",cta:"Commencer",variant:"outline",target:"Freelances, PME, Consultants"},{id:"cabinet",name:"Cabinet",price:"349",period:"/ mois",description:"Pour cabinets d'avocats et directions juridiques",features:["Contrats illimités","Rapport SYMI Intelligence hebdomadaire","Référencement prioritaire (Top 3 suggestions)","Assistant vocal IA personnalisé (votre branding)","Onboarding & formation inclus","Support prioritaire (< 2h, 7j/7)","Formation continue (1x/trimestre)"],icon:US,iconText:"Partenariat avancé et avantages exclusifs",cta:"Devenir partenaire",variant:"accent",highlighted:!0,target:"Cabinets & Directions juridiques"},{id:"enterprise",name:"Entreprise",price:"Sur consultation",period:"",description:"Pour grands cabinets (20+) et corporate",features:["White label complet (votre marque)","Accès API (ERP/CRM)","Rapports SYMI personnalisés","Multi-juridictions (FR, UE, UK, US)","SLA 99.9% garanti","Account manager dédié","Installation sur-mesure et développements custom"],icon:LS,iconText:"Accompagnement dédié et intégrations avancées",cta:"Discuter de vos besoins",variant:"outline",target:"Grandes organisations"}];function $T({onNavigate:n}){const e=s=>{n(s==="cabinet"?"contact":"login")};return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-8 text-center",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"TARIFICATION / PLANS"}),d.jsxs("div",{className:"max-w-3xl mx-auto border border-border p-12 text-center",children:[d.jsx("h1",{className:"text-[2rem] md:text-[2.5rem] mb-6 tracking-[-0.02em]",style:{fontWeight:600,lineHeight:1.2},children:"Choisissez votre liberté."}),d.jsxs("p",{className:"text-[1rem] text-muted-foreground",style:{lineHeight:1.7},children:["Pas d'engagement. Pas de surprise. Juste des",d.jsx("br",{}),"contrats professionnels accessibles à tous."]})]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:FT.map((s,i)=>{const a=s.icon;return d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.08,ease:"linear"},className:`border border-border bg-card p-8 lg:p-10 relative transition-all duration-200 ${s.highlighted?"ring-2 ring-accent ring-offset-2 ring-offset-background":"hover:border-accent/50"}`,children:[s.highlighted&&d.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-accent text-accent-foreground text-[0.625rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Recommandé"}),d.jsxs("div",{className:"mb-8 pb-8 border-b border-border",children:[d.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:s.name}),d.jsx("p",{className:"text-[0.75rem] uppercase tracking-[0.1em] text-muted-foreground mb-6",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:s.target}),d.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.id!=="enterprise"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-[3.5rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:s.price}),d.jsxs("span",{className:"text-[1rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:["€ ",s.period]})]}):d.jsx("span",{className:"text-[1.75rem] tracking-[-0.01em]",style:{fontWeight:600,lineHeight:1.2},children:s.price})}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.5},children:s.description})]}),d.jsxs("div",{className:"flex items-start gap-3 mb-6 p-3 bg-accent/5 border border-accent/10",children:[d.jsx(a,{className:"w-5 h-5 text-accent flex-shrink-0 mt-0.5",strokeWidth:1.5}),d.jsx("p",{className:"text-[0.75rem]",style:{lineHeight:1.5,fontFamily:"var(--font-mono)",fontWeight:300},children:s.iconText})]}),d.jsx("ul",{className:"space-y-3 mb-10",children:s.features.map((l,u)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"mt-1 flex-shrink-0",children:d.jsx(pS,{className:"w-4 h-4 text-accent",strokeWidth:2})}),d.jsx("span",{className:"text-[0.875rem]",style:{lineHeight:1.6},children:l})]},u))}),d.jsx("button",{onClick:async()=>{if(s.id==="pro"||s.id==="cabinet")try{const u=await(await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:s.id})})).json();u?.url?window.location.href=u.url:e(s.id)}catch{e(s.id)}else e(s.id)},className:`w-full px-8 py-5 text-[0.75rem] uppercase tracking-[0.12em] transition-all duration-200 ${s.variant==="accent"?"bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)]":"border border-border hover:border-foreground hover:bg-accent/5"}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:s.cta})]},s.id)})}),d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.4},className:"mt-12 text-center",children:[d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-6",style:{lineHeight:1.7},children:"Tous les plans incluent l'accès aux 3 juridictions (FR, UK, US) et la garantie de génération en moins de 5 minutes."}),d.jsx("button",{onClick:()=>n("contact"),className:"text-[0.75rem] uppercase tracking-[0.08em] text-accent hover:underline",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Besoin d'un plan sur mesure ? Contactez-nous →"})]})]})})}function UT({onNavigate:n}){const[e,s]=P.useState(!1),[i,a]=P.useState(""),[l,u]=P.useState(""),h=async p=>{p.preventDefault();try{if(e){const{error:g}=await Ln.auth.signUp({email:i,password:l});if(g)throw g;qe("Inscription réussie. Vérifiez votre email.","success"),n("contracts")}else{const{error:g}=await Ln.auth.signInWithPassword({email:i,password:l});if(g)throw g;qe("Connexion réussie","success"),n("contracts")}}catch(g){qe(g.message||"Erreur authentification","error")}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center py-20 px-6",children:d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"ACCÈS PLATEFORME"}),d.jsx("h1",{className:"text-[2.5rem] mb-4 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:e?"Créer un compte.":"Connexion."}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7},children:e?"Commencez à générer vos contrats professionnels":"Accédez à votre espace de travail juridique"})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsx("div",{className:"border border-border bg-card p-8",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Adresse email"}),d.jsx("input",{id:"email",type:"email",value:i,onChange:p=>a(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"votre@email.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Mot de passe"}),d.jsx("input",{id:"password",type:"password",value:l,onChange:p=>u(p.target.value),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},placeholder:"••••••••"})]}),!e&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",className:"w-4 h-4"}),d.jsx("span",{className:"text-[0.75rem]",style:{fontFamily:"var(--font-mono)"},children:"Se souvenir de moi"})]}),d.jsx("button",{type:"button",className:"text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"Mot de passe oublié ?"})]})]})}),d.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:e?"Créer mon compte":"Se connecter"}),d.jsx("div",{className:"text-center",children:d.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-[0.75rem] text-muted-foreground hover:text-foreground transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:e?"Déjà un compte ? Se connecter →":"Pas encore de compte ? S'inscrire →"})})]}),d.jsxs("div",{className:"mt-8 pt-8 border-t border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground text-center mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Ou continuer avec"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"google"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Google"}),d.jsx("button",{type:"button",onClick:async()=>{await Ln.auth.signInWithOAuth({provider:"azure"})},className:"px-6 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.08em] uppercase",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Se connecter avec Microsoft"})]})]})]})})}function VT(){const n=[{icon:KS,title:"Démarrage rapide",description:"Commencez en moins de 5 minutes",items:["Créer un compte","Choisir un template","Générer votre premier contrat","Exporter en PDF/DOCX"]},{icon:TS,title:"Bibliothèque de templates",description:"50+ modèles professionnels",items:["Contrats de travail (CDI, CDD, Stage)","Contrats commerciaux (Vente, Prestation)","Accords de confidentialité (NDA)","Baux et locations"]},{icon:_S,title:"API & Intégrations",description:"Pour les plans Cabinet",items:["REST API documentation","Webhooks & événements","White label & branding","SSO & authentification"]},{icon:hS,title:"Guide juridique",description:"Comprendre vos contrats",items:["Clauses essentielles","Mentions obligatoires","Juridictions supportées","Conformité RGPD"]}];return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-16",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYSTÈME / DOCUMENTATION"}),d.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Documentation."}),d.jsx("p",{className:"text-[1rem] text-muted-foreground max-w-2xl",style:{lineHeight:1.7},children:"Guides complets, références API et ressources pour maîtriser la plateforme SYMIONE."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-border",children:n.map((e,s)=>{const i=e.icon;return d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:s*.08,ease:"linear"},className:"bg-card p-8 lg:p-10 hover:bg-accent/5 transition-colors duration-200 cursor-pointer",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[d.jsx("div",{className:"p-3 border border-border",children:d.jsx(i,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.25rem] mb-1 tracking-[-0.01em]",style:{fontWeight:600},children:e.title}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)"},children:e.description})]})]}),d.jsx("ul",{className:"space-y-3 border-t border-border pt-6",children:e.items.map((a,l)=>d.jsxs("li",{className:"flex items-center gap-3 group",children:[d.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full group-hover:bg-accent transition-colors duration-200"}),d.jsx("span",{className:"text-[0.875rem] group-hover:text-accent transition-colors duration-200",style:{lineHeight:1.6},children:a})]},l))})]},e.title)})}),d.jsx(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear",delay:.3},className:"mt-16 border border-border p-8 lg:p-10",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.5rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:"Besoin d'aide supplémentaire ?"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:"Notre équipe support est disponible pour vous accompagner."})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{className:"px-10 py-4 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Support"}),d.jsx("button",{className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"API Docs"})]})]})})]})})}function WT(){const[n,e]=P.useState({name:"",email:"",company:"",subject:"general",message:""}),s=i=>{i.preventDefault(),console.log("Contact form submitted:",n),alert("Message envoyé ! Notre équipe vous répondra sous 24h.")};return d.jsx("div",{className:"min-h-screen py-20 lg:py-24",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CONTACT / SUPPORT"}),d.jsx("h1",{className:"text-[3rem] md:text-[4rem] mb-6 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Nous consulter."}),d.jsx("p",{className:"text-[1rem] text-muted-foreground mb-12",style:{lineHeight:1.7},children:"Notre équipe est à votre disposition pour répondre à vos questions sur nos plans, fonctionnalités ou partenariats."}),d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"p-3 border border-border",children:d.jsx(RS,{className:"w-5 h-5 text-accent",strokeWidth:1.5})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1rem] mb-1",style:{fontWeight:600},children:"Email"}),d.jsx("a",{href:"mailto:contact@symi.io",className:"text-[0.875rem] text-muted-foreground hover:text-accent transition-colors duration-200",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})}),d.jsxs("div",{className:"mt-12 pt-8 border-t border-border",children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-4",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Liens rapides"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("a",{href:"mailto:sales@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Demande commerciale"}),d.jsx("a",{href:"mailto:support@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Support technique"}),d.jsx("a",{href:"mailto:partners@symi.io",className:"block text-[0.875rem] hover:text-accent transition-colors duration-200",children:"→ Partenariats cabinets"})]})]})]}),d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear",delay:.1},children:d.jsx("form",{onSubmit:s,className:"border border-border bg-card p-8 lg:p-10",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Nom complet *"}),d.jsx("input",{id:"name",type:"text",value:n.name,onChange:i=>e({...n,name:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Email *"}),d.jsx("input",{id:"email",type:"email",value:n.email,onChange:i=>e({...n,email:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Entreprise / Cabinet"}),d.jsx("input",{id:"company",type:"text",value:n.company,onChange:i=>e({...n,company:i.target.value}),className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"}})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Sujet *"}),d.jsxs("select",{id:"subject",value:n.subject,onChange:i=>e({...n,subject:i.target.value}),required:!0,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem]",style:{fontFamily:"var(--font-mono)"},children:[d.jsx("option",{value:"general",children:"Question générale"}),d.jsx("option",{value:"sales",children:"Demande commerciale"}),d.jsx("option",{value:"support",children:"Support technique"}),d.jsx("option",{value:"partnership",children:"Partenariat cabinet"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Message *"}),d.jsx("textarea",{id:"message",value:n.message,onChange:i=>e({...n,message:i.target.value}),required:!0,rows:6,className:"w-full px-4 py-3 bg-input-background border border-border focus:border-accent focus:outline-none transition-colors duration-200 text-[0.9375rem] resize-none",style:{fontFamily:"var(--font-mono)"}})]}),d.jsx("button",{type:"submit",className:"w-full px-8 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] uppercase tracking-[0.12em]",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:"Envoyer le message"}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center",style:{fontFamily:"var(--font-mono)"},children:"Réponse sous 24h ouvrées"})]})})})]})})})}function BT({onNavigate:n}){const[e,s]=P.useState(null),[i,a]=P.useState([]),[l,u]=P.useState({}),[h,p]=P.useState(0),[g,y]=P.useState(null),[v,w]=P.useState(0),{loading:_,error:E,data:j}=og(()=>ni.getTemplates(),[],{retryOnError:!0,maxRetries:3}),{loading:T,error:L,data:O}=og(()=>e?ni.getQuestions(e):Promise.resolve({ok:!0,questions:[]}),[e],{immediate:!!e,retryOnError:!0}),{loading:R,startLoading:D,stopLoading:F}=Su(),{loading:B,startLoading:K,stopLoading:J}=Su();P.useEffect(()=>{O?.ok&&O.questions&&(Array.isArray(O.questions)?a(O.questions):e&&O.questions[e]&&a(O.questions[e]),p(0))},[O,e]);const le=(H,U)=>{u(Y=>{const G={...Y,[H]:U};return typeof U=="number"&&U>0&&w(U),G})},me=()=>{h<i.length-1?p(H=>H+1):Ie()},Me=()=>{h>0&&p(H=>H-1)},Je=async()=>{if(e)try{D();const H=await ni.suggest({templateId:e,answers:l});H.success&&y(H.contract)}catch(H){console.error("Error suggesting contract:",H)}finally{F()}},Ie=async()=>{if(e)try{K();const H=await ni.create({templateId:e,answers:l});if(H.success){const U=119+v*.02,Y=await ni.createPaymentIntent({contractId:H.contractId,amount:Math.round(U*100),currency:"eur"});if(Y.success&&Y.clientSecret)n("bond-contract",H.contractId);else throw new Error("Failed to create payment intent")}}catch(H){console.error("Error creating contract or processing payment:",H)}finally{J()}},M=i[h],te=i.length>0?(h+1)/i.length*100:0,je=j?.templates||[];return _&&je.length===0?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsx(ag,{message:"Chargement des templates..."})}):E?d.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx(xi,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Erreur"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:E instanceof cs?E.message:"Erreur lors du chargement des templates"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors",children:"Réessayer"})]})}):e?d.jsx(dd,{children:d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Configuration du Contrat"}),d.jsx("button",{onClick:()=>s(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:"✕ Annuler"})]}),d.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:d.jsx(re.div,{className:"bg-accent h-3 rounded-full transition-all duration-300",initial:{width:0},animate:{width:`${te}%`}})}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Question ",h+1," sur ",i.length," (",Math.round(te),"%)"]})]}),L&&d.jsx("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xi,{className:"w-5 h-5 text-destructive"}),d.jsx("p",{className:"text-destructive",children:L instanceof cs?L.message:"Erreur lors du chargement des questions"})]})}),T&&d.jsx(ag,{message:"Chargement des questions..."}),M&&!T&&d.jsxs(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-card border border-border rounded-xl p-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:M.question}),M.help&&d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:M.help}),M.type==="select"&&d.jsxs("select",{value:l[M.id]||"",onChange:H=>le(M.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",children:[d.jsx("option",{value:"",children:"Sélectionnez une option..."}),M.options?.map(H=>d.jsx("option",{value:H,children:H},H))]}),M.type==="text"&&d.jsx("textarea",{value:l[M.id]||"",onChange:H=>le(M.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors resize-none",rows:4,placeholder:"Décrivez votre projet..."}),M.type==="number"&&d.jsx("input",{type:"number",value:l[M.id]||"",onChange:H=>le(M.id,parseFloat(H.target.value)),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors",placeholder:"Montant en euros"}),M.type==="date"&&d.jsx("input",{type:"date",value:l[M.id]||"",onChange:H=>le(M.id,H.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors"}),M.legalImplication&&d.jsx("div",{className:"mt-4 p-3 bg-accent/10 border border-accent/20 rounded-lg",children:d.jsxs("p",{className:"text-sm text-accent",children:[d.jsx("strong",{children:"ℹ️ Implication légale:"})," ",M.legalImplication]})}),d.jsxs("div",{className:"flex justify-between mt-8",children:[d.jsx("button",{onClick:Me,disabled:h===0,className:"px-6 py-3 border border-border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:"Précédent"}),d.jsxs("div",{className:"flex gap-3",children:[h===i.length-1&&d.jsx(ta,{loading:R,onClick:Je,className:"px-6 py-3 bg-secondary text-secondary-foreground hover:bg-secondary/90",children:"Prévisualiser"}),d.jsx(ta,{loading:B,onClick:h===i.length-1?Ie:me,disabled:!l[M.id],className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:h===i.length-1?"Créer le contrat":"Suivant"})]})]})]},h),g&&d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 bg-card border border-border rounded-xl p-8",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Aperçu du contrat"}),d.jsx("div",{className:"bg-muted/30 rounded-lg p-4 max-h-96 overflow-y-auto",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-foreground",children:g})}),d.jsxs("div",{className:"mt-6 p-4 border border-border rounded-lg bg-card",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 text-foreground",children:"Récapitulatif des frais:"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-foreground",children:"Création contrat sur-mesure:"}),d.jsx("span",{className:"font-bold text-accent",children:"119€"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{className:"text-foreground",children:["Commission escrow (2% sur ",v||0,"€):"]}),d.jsxs("span",{className:"font-bold text-accent",children:[((v||0)*.02).toFixed(2),"€"]})]}),d.jsxs("div",{className:"flex justify-between text-xl font-bold mt-4 pt-4 border-t border-border",children:[d.jsx("span",{className:"text-foreground",children:"Total:"}),d.jsxs("span",{className:"text-accent",children:[119+(v||0)*.02,"€"]})]})]}),d.jsx("div",{className:"mt-4 p-3 bg-accent/5 border border-accent/20 rounded-lg",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["💡 ",d.jsx("strong",{children:"Paiement sécurisé via Stripe."})," Fonds bloqués sur compte escrow jusqu'à validation des milestones."]})})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx("button",{onClick:()=>{const H=new Blob([g||""],{type:"text/plain"}),U=URL.createObjectURL(H),Y=document.createElement("a");Y.href=U,Y.download=`contrat-${e}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(U)},className:"px-6 py-3 bg-secondary text-secondary-foreground hover:bg-secondary/90 rounded-lg transition-colors",children:"📄 Télécharger le contrat (TXT)"}),d.jsx(ta,{loading:B,onClick:Ie,className:"px-6 py-3 bg-accent text-accent-foreground hover:bg-accent/90",children:"Payer et activer l'escrow →"}),d.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:"Modifier"})]}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[d.jsx("h3",{className:"font-bold flex items-center text-yellow-800 mb-2",children:"⚠️ Étape importante: Signature électronique"}),d.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:["Pour que ce contrat soit ",d.jsx("strong",{children:"juridiquement valide"}),", il doit être signé électroniquement par toutes les parties."]}),d.jsx("button",{onClick:()=>window.open("https://yousign.com","_blank"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"Envoyer pour signature via Yousign →"}),d.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Yousign permet la signature électronique légale conforme au règlement eIDAS."})]}),d.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h3",{className:"font-bold flex items-center text-blue-800 mb-2",children:"⚖️ Conseil recommandé"}),d.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["Ce contrat est généré automatiquement. Pour les situations complexes ou à fort enjeu financier, ",d.jsx("strong",{children:"nous vous recommandons vivement de consulter un avocat"})," avant signature."]}),d.jsx("button",{onClick:()=>n("conseiller"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Trouver un avocat spécialisé →"})]}),d.jsx("div",{className:"p-3 bg-muted/30 border border-border rounded-lg",children:d.jsxs("p",{className:"text-xs text-muted-foreground",children:["⚠️ ",d.jsx("strong",{children:"SYMIONE"})," fournit des outils de génération de contrats mais ne constitue pas un conseil juridique personnalisé. En cas de doute, consultez un professionnel du droit."]})})]})]})]})})}):d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Créer un Contrat Sécurisé"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Choisissez le type de contrat qui correspond à votre projet"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:je.map((H,U)=>d.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:U*.1},onClick:()=>s(H.id),className:"bg-card border border-border rounded-xl p-6 cursor-pointer hover:border-accent hover:shadow-lg transition-all group",children:[d.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:H.title}),d.jsx("p",{className:"text-muted-foreground mb-4",children:H.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.jsx("strong",{children:"Rôles:"})," ",H.roles?.join(", ")||"Non spécifié"]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.jsx("strong",{children:"Jalons:"})," ",H.milestones?.length||0]}),H.popular&&d.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-accent/10 text-accent text-xs rounded-full",children:[d.jsx(ma,{className:"w-3 h-3 mr-1"}),"Populaire"]})]})]},H.id))})]})})}function zT({onNavigate:n}){const[e,s]=P.useState([]),[i,a]=P.useState(!0),[l,u]=P.useState("");P.useEffect(()=>{(async()=>{try{const v=await(await fetch("https://symilegalback.vercel.app/api/escrow/contracts")).json();v.success&&v.contracts&&s(v.contracts)}catch(y){console.error("Error fetching contracts:",y)}finally{a(!1)}})()},[]);const h=g=>{switch(g){case"active":return"bg-accent/10 text-accent border-accent/20";case"pending":return"bg-muted text-muted-foreground";case"completed":return"bg-secondary text-secondary-foreground";default:return"bg-muted text-muted-foreground"}},p=g=>{switch(g){case"active":return"En cours";case"pending":return"En attente";case"completed":return"Terminé";default:return"Inconnu"}};return d.jsx("div",{className:"min-h-screen pt-16",children:d.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12 py-12",children:[d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"mb-12",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6 pb-6 border-b border-border",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"SYMI BOND / CONTRATS SÉCURISÉS"}),d.jsx("h1",{className:"text-[2rem] md:text-[3rem] tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Tableaux de bord"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mt-3",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Système de jalons collaboratifs et paiements sécurisés"})]}),d.jsxs("button",{onClick:()=>n("bond-create"),className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx(Oc,{className:"w-4 h-4",strokeWidth:2}),d.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Créer un contrat"})]})]})}),d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1,ease:"linear"},className:"mb-12",children:d.jsxs("div",{className:"bg-card border border-border rounded-xl p-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-foreground",children:"Tarification Transparente"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[d.jsx("span",{className:"text-foreground",children:"Création du contrat sur-mesure:"}),d.jsx("span",{className:"text-2xl font-bold text-accent",children:"119€"})]}),d.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[d.jsx("span",{className:"text-foreground",children:"+ Commission escrow sécurisé:"}),d.jsx("span",{className:"text-2xl font-bold text-accent",children:"2%"})]}),d.jsxs("div",{className:"mt-6 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:[d.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["💡 ",d.jsx("strong",{children:"Pourquoi ces frais?"})]}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.jsx("li",{children:"• 119€ = Contrat professionnel sur-mesure (30+ articles, validé par avocat)"}),d.jsx("li",{children:"• 2% = Gestion escrow sécurisé + validation milestones + arbitrage si nécessaire"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-foreground",children:"Simulez vos frais:"}),d.jsx("input",{type:"number",placeholder:"Montant du projet (€)",value:l,onChange:g=>u(g.target.value),className:"w-full p-3 bg-input-background border border-border rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-colors"}),l&&d.jsxs("div",{className:"p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[d.jsxs("p",{className:"text-sm text-foreground mb-2",children:["Pour un projet de ",d.jsxs("strong",{children:[l,"€"]}),":"]}),d.jsxs("p",{className:"text-2xl font-bold text-accent",children:["Total: ",119+l*.02,"€"]}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["(119€ contrat + ",(l*.02).toFixed(2),"€ commission escrow)"]})]})]})]})]})}),i&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-6 h-6 border-2 border-foreground border-t-transparent rounded-full animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Chargement des contrats…"})]}),!i&&e.length>0&&d.jsx("div",{className:"grid gap-4",children:e.map((g,y)=>d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2,delay:y*.05,ease:"linear"},children:d.jsx("div",{className:"w-full border border-border hover:border-foreground transition-all duration-200 p-6",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"flex items-start gap-3 mb-3",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h3",{className:"text-[1.125rem] tracking-[-0.01em]",style:{fontWeight:600},children:g.title}),d.jsx("span",{className:`px-2 py-1 rounded text-[0.625rem] uppercase tracking-[0.1em] border ${h(g.status)}`,style:{fontFamily:"var(--font-mono)",fontWeight:500},children:p(g.status)})]}),d.jsx("div",{className:"flex items-center gap-4 text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:d.jsxs("span",{children:["ID: ",g.id]})})]})})}),d.jsx("div",{className:"flex items-center gap-6 lg:flex-col lg:items-end lg:gap-4",children:d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground mb-1",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Montant"}),d.jsxs("div",{className:"text-[1.5rem] tracking-[-0.02em]",style:{fontWeight:600,fontFamily:"var(--font-mono)"},children:[g.amount.toLocaleString("fr-FR")," €"]})]})})]})})},g.id))}),!i&&e.length===0&&d.jsxs(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.3,ease:"linear"},className:"text-center py-20",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:d.jsx(Oc,{className:"w-6 h-6 text-muted-foreground",strokeWidth:1.5})}),d.jsx("h3",{className:"text-[1.25rem] mb-3",style:{fontWeight:600},children:"Aucun contrat pour le moment"}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground mb-8",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Créez votre premier contrat sécurisé avec jalons"}),d.jsxs("button",{onClick:()=>n("bond-create"),className:"px-10 py-4 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 inline-flex items-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:[d.jsx(Oc,{className:"w-4 h-4",strokeWidth:2}),d.jsx("span",{className:"text-[0.75rem] uppercase tracking-[0.12em]",children:"Créer un contrat"})]})]})]})})}function qT(){const[n,e]=P.useState("checking"),[s,i]=P.useState(null);return P.useEffect(()=>{async function a(){try{await bi.health(),e("online"),i(new Date)}catch{e("offline"),i(new Date)}}a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]),n==="checking"?null:d.jsx("div",{className:"fixed bottom-6 left-6 z-40 pointer-events-none",children:d.jsxs("div",{className:"flex items-center gap-2 bg-card/80 backdrop-blur-sm border border-border px-3 py-2",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n==="online"?"bg-accent animate-pulse":"bg-destructive"}`}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.1em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:n==="online"?"System Online":"System Offline"})]})})}const Bc=[{id:"signup",question:"Comment créer un compte ?",answer:`Cliquez sur "Connexion" en haut à droite, puis "S'inscrire". Remplissez vos informations et choisissez votre plan.`},{id:"plans",question:"Quels sont les plans disponibles ?",answer:"Nous proposons 3 plans : Pro (149€/mois), Cabinet (349€/mois), et Entreprise (sur consultation). Consultez la page Prix pour plus de détails."},{id:"templates",question:"Combien de templates sont disponibles ?",answer:"Nous proposons plus de 50 templates professionnels couvrant 3 juridictions (FR, UK, US), incluant contrats de travail, commerciaux, NDA, baux, etc."},{id:"export",question:"Comment exporter mes contrats ?",answer:"Avec le plan Pro et Cabinet, vous pouvez exporter en PDF et DOCX."},{id:"time",question:"Combien de temps prend la génération ?",answer:"La génération d'un contrat prend moins de 5 minutes en moyenne, de la sélection du template à l'export final."},{id:"lawyer",question:"Puis-je faire valider par un avocat ?",answer:"Le référencement avocat n'est pas inclus dans le plan Pro. Les partenaires Cabinet bénéficient d'un référencement prioritaire."},{id:"support",question:"Comment vous contacter ?",answer:"Envoyez-nous un email à contact@symi.io. Nous répondons sous 24h ouvrées. Les abonnés Pro et Cabinet bénéficient d'un support prioritaire."}];function HT(){const[n,e]=P.useState(!1),[s,i]=P.useState(null);return d.jsxs(d.Fragment,{children:[d.jsx(re.button,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.2,ease:"linear"},onClick:()=>e(!n),className:"fixed bottom-6 right-6 z-50 p-4 bg-accent text-accent-foreground shadow-lg hover:shadow-[0_0_24px_var(--accent-glow)] transition-all duration-200 border border-accent","aria-label":"Assistance",children:n?d.jsx(od,{className:"w-6 h-6",strokeWidth:1.5}):d.jsx(By,{className:"w-6 h-6",strokeWidth:1.5})}),d.jsx(Ei,{children:n&&d.jsxs(re.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2,ease:"linear"},className:"fixed bottom-24 right-6 z-50 w-[380px] max-h-[600px] bg-card border border-border shadow-2xl overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b border-border bg-accent/5",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),d.jsx("h3",{className:"text-[1rem] tracking-[-0.01em]",style:{fontWeight:600},children:"Assistant SYMIONE"})]}),d.jsx("p",{className:"text-[0.75rem] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Questions fréquentes"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:s?d.jsxs("div",{className:"p-6",children:[d.jsx("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-[0.75rem] text-accent hover:underline mb-4",style:{fontFamily:"var(--font-mono)"},children:"← Retour aux questions"}),d.jsx("div",{className:"bg-accent/5 p-4 border border-accent/10 mb-4",children:d.jsx("p",{className:"text-[0.875rem]",style:{fontWeight:600,lineHeight:1.5},children:Bc.find(a=>a.id===s)?.question})}),d.jsx("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.6},children:Bc.find(a=>a.id===s)?.answer})]}):d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"space-y-2",children:Bc.map(a=>d.jsx("button",{onClick:()=>i(a.id),className:"w-full text-left p-3 hover:bg-accent/5 transition-colors duration-200 border border-transparent hover:border-accent/20 group",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("span",{className:"text-[0.8125rem] flex-1",style:{lineHeight:1.5},children:a.question}),d.jsx(gS,{className:"w-4 h-4 text-muted-foreground group-hover:text-accent transition-colors duration-200",strokeWidth:1.5})]})},a.id))})})}),d.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[d.jsx("p",{className:"text-[0.75rem] text-muted-foreground text-center mb-2",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:"Besoin d'aide supplémentaire ?"}),d.jsx("a",{href:"mailto:contact@symi.io",className:"block text-center text-[0.75rem] text-accent hover:underline",style:{fontFamily:"var(--font-mono)"},children:"contact@symi.io"})]})]})})]})}const KT={notifications:[],theme:"system",sidebarOpen:!1,loading:!1};function GT(n,e){switch(e.type){case"ADD_NOTIFICATION":return{...n,notifications:[...n.notifications,{...e.payload,id:Date.now().toString()}]};case"REMOVE_NOTIFICATION":return{...n,notifications:n.notifications.filter(s=>s.id!==e.payload)};case"SET_THEME":return{...n,theme:e.payload};case"SET_SIDEBAR_OPEN":return{...n,sidebarOpen:e.payload};case"SET_LOADING":return{...n,loading:e.payload};default:return n}}const pv=P.createContext(void 0);function JT({children:n}){const[e,s]=P.useReducer(GT,KT),i=p=>{s({type:"ADD_NOTIFICATION",payload:p})},a=p=>{s({type:"REMOVE_NOTIFICATION",payload:p})},l=p=>{s({type:"SET_THEME",payload:p})},u=p=>{s({type:"SET_SIDEBAR_OPEN",payload:p})},h=p=>{s({type:"SET_LOADING",payload:p})};return d.jsx(pv.Provider,{value:{ui:e,addNotification:i,removeNotification:a,setTheme:l,setSidebarOpen:u,setLoading:h},children:n})}function YT(){const n=P.useContext(pv);if(n===void 0)throw new Error("useUI must be used within a UIProvider");return n}const QT=P.createContext(void 0);function XT({children:n}){const[e,s]=P.useState("light"),[i,a]=P.useState("light");return P.useEffect(()=>{const l=localStorage.getItem("symi-theme");l&&["light","dark","system"].includes(l)&&s(l)},[]),P.useEffect(()=>{localStorage.setItem("symi-theme",e)},[e]),P.useEffect(()=>{const l=()=>{if(e==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a(u)}else a(e)};if(l(),e==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)");return u.addEventListener("change",l),()=>u.removeEventListener("change",l)}},[e]),P.useEffect(()=>{const l=document.documentElement;i==="dark"?(l.classList.add("dark"),l.classList.remove("variant-night")):(l.classList.remove("dark"),l.classList.remove("variant-night"))},[i]),d.jsx(QT.Provider,{value:{theme:e,setTheme:s,resolvedTheme:i},children:n})}function ZT({notification:n,onRemove:e}){const s={success:ma,error:xi,warning:ga,info:Wy},i={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},a=s[n.type];return P.useEffect(()=>{if(n.duration!==0){const l=setTimeout(()=>{e(n.id)},n.duration||5e3);return()=>clearTimeout(l)}},[n.id,n.duration,e]),d.jsx(re.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden ${i[n.type]}`,children:d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(a,{className:"h-6 w-6","aria-hidden":"true"})}),d.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[d.jsx("p",{className:"text-sm font-medium",children:n.title}),d.jsx("p",{className:"mt-1 text-sm opacity-90",children:n.message}),n.actions&&n.actions.length>0&&d.jsx("div",{className:"mt-3 flex space-x-2",children:n.actions.map((l,u)=>d.jsx("button",{onClick:l.action,className:"text-sm font-medium underline hover:no-underline",children:l.label},u))})]}),d.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:d.jsxs("button",{className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>e(n.id),children:[d.jsx("span",{className:"sr-only",children:"Close"}),d.jsx(od,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})}function eE(){const{ui:n,removeNotification:e}=YT();return d.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-50",children:d.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:d.jsx(Ei,{children:n.notifications.map(s=>d.jsx(ZT,{notification:s,onRemove:e},s.id))})})})}class cr{static instance;metrics=new Map;observers=[];static getInstance(){return cr.instance||(cr.instance=new cr),cr.instance}startTiming(e){this.metrics.set(e,performance.now())}endTiming(e){const s=this.metrics.get(e);if(!s)return console.warn(`No start time found for ${e}`),0;const i=performance.now()-s;return this.metrics.delete(e),i>1e3&&console.warn(`Slow operation detected: ${e} took ${i.toFixed(2)}ms`),i}measureAsync(e,s){return this.startTiming(e),s().finally(()=>{this.endTiming(e)})}measureSync(e,s){this.startTiming(e);const i=s();return this.endTiming(e),i}startWebVitalsMonitoring(){if(!(typeof window>"u")){try{const e=new PerformanceObserver(s=>{const i=s.getEntries(),a=i[i.length-1];console.log("LCP:",a.startTime)});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e)}catch{console.warn("LCP monitoring not supported")}try{const e=new PerformanceObserver(s=>{s.getEntries().forEach(a=>{console.log("FID:",a.processingStart-a.startTime)})});e.observe({entryTypes:["first-input"]}),this.observers.push(e)}catch{console.warn("FID monitoring not supported")}try{const e=new PerformanceObserver(s=>{let i=0;s.getEntries().forEach(l=>{l.hadRecentInput||(i+=l.value)}),i>0&&console.log("CLS:",i)});e.observe({entryTypes:["layout-shift"]}),this.observers.push(e)}catch{console.warn("CLS monitoring not supported")}}}cleanup(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}}function tE(){const n=cr.getInstance(),e=P.useCallback(a=>({start:()=>n.startTiming(`${a}-render`),end:()=>n.endTiming(`${a}-render`)}),[n]),s=P.useCallback((a,l)=>n.measureAsync(a,l),[n]),i=P.useCallback((a,l)=>n.measureSync(a,l),[n]);return{measureRender:e,measureAsync:s,measureSync:i}}function nE(n){const{measureRender:e}=tE(),s=P.useRef(e(n));P.useEffect(()=>(s.current.start(),()=>{s.current.end()}))}function rE(){if(typeof window>"u")return;const n=cr.getInstance();return n.startWebVitalsMonitoring(),window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];console.log("Page load metrics:",{domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,totalTime:e.loadEventEnd-e.fetchStart})},0)}),n}function sE(){const[n,e]=P.useState("home");nE("App"),P.useEffect(()=>{rE()},[]);const[s,i]=P.useState(["home"]),[a,l]=P.useState(null),[u,h]=P.useState(null),[p,g]=P.useState(null),[y,v]=P.useState("free"),w=(j,T,L)=>{i(O=>[...O,j]),e(j),T&&l(T),L&&h(L),window.scrollTo({top:0,behavior:"smooth"})},_=()=>{if(s.length>1){const j=[...s];j.pop();const T=j[j.length-1];i(j),e(T),window.scrollTo({top:0,behavior:"smooth"})}},E=s.length>1;return Ln.auth.onAuthStateChange(async(j,T)=>{const L=T?.user?.id||null;if(g(T?.user?.email||null),L)try{const{data:O}=await Ln.from("users").select("plan").eq("id",L).maybeSingle();v(O?.plan||"free")}catch{v("free")}else v("free")}),d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(tS,{currentView:n,onNavigate:w,canGoBack:E,onBack:_}),d.jsx("main",{className:"flex-1",children:d.jsxs(Ei,{mode:"wait",children:[n==="home"&&d.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"linear"},children:[d.jsx(rS,{}),d.jsx(iS,{onNavigate:j=>{j==="contracts"&&w("contracts"),j==="editor"&&w("editor")},onNavigateConseiller:()=>w("conseiller")}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},children:[d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground mb-10",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"CAPACITÉS SYSTÈME"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[{code:"TPL",title:"50+ Templates",description:"Bibliothèque professionnelle de modèles juridiques"},{code:"JUR",title:"3 Juridictions",description:"France, Royaume-Uni, États-Unis"},{code:"VIT",title:"Génération Rapide",description:"Moins de 5 minutes par contrat"}].map((j,T)=>d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:T*.06,ease:"linear"},className:"border-l border-border pl-4",children:[d.jsx("div",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-accent mb-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:j.code}),d.jsx("h3",{className:"text-[1.125rem] mb-2 tracking-[-0.01em]",style:{fontWeight:600},children:j.title}),d.jsx("p",{className:"text-[0.8125rem] text-muted-foreground",style:{lineHeight:1.6,fontFamily:"var(--font-mono)",fontWeight:300},children:j.description})]},j.code))})]})})}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 lg:gap-16",children:[{value:"50+",label:"Templates professionnels",unit:"DOCS"},{value:"3",label:"Juridictions",unit:"FR, UK, US"},{value:"<5",label:"Par contrat",unit:"MIN"}].map((j,T)=>d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.2,delay:T*.08,ease:"linear"},className:"border-l-2 border-border pl-6",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-[3.5rem] md:text-[4.5rem] tracking-[-0.03em] mb-2",style:{fontWeight:600,lineHeight:1,fontFamily:"var(--font-mono)"},children:j.value}),d.jsx("span",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground block",style:{fontFamily:"var(--font-mono)",fontWeight:300},children:j.unit})]}),d.jsx("p",{className:"text-[0.625rem] uppercase tracking-[0.12em] text-muted-foreground",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:j.label})]},j.label))})})}),d.jsx("section",{className:"py-20 lg:py-24 border-t border-border",children:d.jsx("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-12",children:d.jsxs(re.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,ease:"linear"},className:"max-w-4xl",children:[d.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent mt-2"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-[2rem] md:text-[3rem] mb-3 tracking-[-0.03em]",style:{fontWeight:600,lineHeight:1.1},children:"Système prêt."}),d.jsxs("p",{className:"text-[0.875rem] text-muted-foreground",style:{lineHeight:1.7,fontFamily:"var(--font-mono)",fontWeight:300},children:["50+ templates professionnels • 3 juridictions • Génération ","<5"," min"]})]})]}),d.jsx("p",{className:"text-[0.9375rem] mb-10",style:{lineHeight:1.7},children:"Automatisation juridique de précision pour pratique professionnelle. Démarrez la synthèse documentaire ou consultez un expert."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("button",{onClick:()=>w("login"),className:"px-12 py-5 bg-accent text-accent-foreground hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:500},children:["S'inscrire pour accéder",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"stroke-current",children:d.jsx("path",{d:"M2 7H12M12 7L8 3M12 7L8 11",strokeWidth:"1.5",strokeLinecap:"square"})})]}),d.jsx("button",{onClick:()=>w("conseiller"),className:"px-12 py-5 border border-border hover:border-foreground transition-all duration-200 text-[0.75rem] tracking-[0.12em] uppercase inline-flex items-center justify-center gap-3",style:{fontFamily:"var(--font-mono)",fontWeight:400},children:"Conseiller juridique"})]})]})})})]},"home"),n==="contracts"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(ij,{onBack:_,onSelectTemplate:(j,T)=>w("editor",j,T),plan:y})},"contracts"),n==="editor"&&a&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(RT,{templateId:a,jurisdiction:u||void 0,onBack:_})},"editor"),n==="conseiller"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(MT,{onBack:_})},"conseiller"),n==="pricing"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx($T,{onNavigate:w})},"pricing"),n==="login"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(UT,{onNavigate:w})},"login"),n==="docs"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(VT,{})},"docs"),n==="bond-create"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(BT,{onNavigate:w})},"bond-create"),n==="bond"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(zT,{onNavigate:w})},"bond"),n==="contact"&&d.jsx(re.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2,ease:"linear"},children:d.jsx(WT,{})},"contact")]})}),n==="home"&&d.jsx(nS,{}),d.jsx(nj,{}),d.jsx(qT,{}),d.jsx(HT,{}),d.jsx(eE,{})]})}function iE(){return d.jsx(dd,{children:d.jsx(XT,{children:d.jsx(JT,{children:d.jsx(sE,{})})})})}wx.createRoot(document.getElementById("root")).render(d.jsx(iE,{}));
